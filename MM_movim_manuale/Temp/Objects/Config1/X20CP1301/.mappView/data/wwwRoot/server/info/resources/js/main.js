/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.5 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */

/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */

/*! DataTables 1.10.16
 * ©2008-2017 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.10.16
 * @file        jquery.dataTables.js
 * @author      SpryMedia Ltd
 * @contact     www.datatables.net
 * @copyright   Copyright 2008-2017 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */

/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */

/**
 * selectize.js (v0.12.4)
 * Copyright (c) 2013–2015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */

/*! jQuery UI - v1.12.1 - 2019-04-04
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/resizable.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/dialog.js, widgets/mouse.js, widgets/spinner.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

/*!
     * jQuery UI Widget 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Position 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/position/
     */

/*!
     * jQuery UI :data 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Disable Selection 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Focusable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Form Reset Mixin 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Keycode 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Labels 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Scroll Parent 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Tabbable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Unique ID 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Mouse 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Draggable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Resizable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Controlgroup 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Checkboxradio 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Button 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Dialog 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*!
     * jQuery UI Spinner 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */

/*! RowGroup 1.0.2
 * ©2017 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     RowGroup
 * @description RowGrouping for DataTables
 * @version     1.0.2
 * @file        dataTables.rowGroup.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     datatables.net
 * @copyright   Copyright 2017 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license/mit
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */

/**
     *  Compute the edit distance between the two given strings
     * http://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Levenshtein_distance#JavaScript
     *
     * Copyright (c) 2011 Andrei Mackenzie
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
     *
     * @param {string} a
     * @param {string} b
     * @returns {Array.<Array.<number>>}}
     * @static
     */

//! license : MIT

//     Copyright (c) 2010-2012 Robert Kieffer

//     MIT License - http://opensource.org/licenses/mit-license.php

/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */

/*! Select for DataTables 1.2.6
 * 2015-2018 SpryMedia Ltd - datatables.net/license/mit
 */

/**
 * @summary     Select for DataTables
 * @description A collection of API methods, events and buttons for DataTables
 *   that provides selection options of the items in a DataTable
 * @version     1.2.6
 * @file        dataTables.select.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     datatables.net/forums
 * @copyright   Copyright 2015-2018 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license/mit
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net/extensions/select
 */

/*! Scroller 1.5.0
 * ©2011-2018 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     Scroller
 * @description Virtual rendering for DataTables
 * @version     1.5.0
 * @file        dataTables.scroller.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2011-2018 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license/mit
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/*!
 * Font Awesome Free 5.0.11 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */

var requirejs,require,define;!function(global,setTimeout){function commentReplace(t,e){return e||""}function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){if(t){var i;for(i=0;i<t.length&&(!t[i]||!e(t[i],i,t));i+=1);}}function eachReverse(t,e){if(t){var i;for(i=t.length-1;i>-1&&(!t[i]||!e(t[i],i,t));i-=1);}}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var i;for(i in t)if(hasProp(t,i)&&e(t[i],i))break}function mixin(t,e,i,n){return e&&eachProp(e,function(e,o){!i&&hasProp(t,o)||(!n||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?t[o]=e:(t[o]||(t[o]={}),mixin(t[o],e,i,n)))}),t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,i,n){var o=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);return o.requireType=t,o.requireModules=n,i&&(o.originalError=i),o}function newContext(t){function e(t){var e,i;for(e=0;e<t.length;e++)if("."===(i=t[e]))t.splice(e,1),e-=1;else if(".."===i){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}function i(t,i,n){var o,s,r,a,l,h,d,u,c,p,f,m=i&&i.split("/"),g=S.map,v=g&&g["*"];if(t&&(t=t.split("/"),h=t.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(t[h])&&(t[h]=t[h].replace(jsSuffixRegExp,"")),"."===t[0].charAt(0)&&m&&(f=m.slice(0,m.length-1),t=f.concat(t)),e(t),t=t.join("/")),n&&g&&(m||v)){s=t.split("/");t:for(r=s.length;r>0;r-=1){if(l=s.slice(0,r).join("/"),m)for(a=m.length;a>0;a-=1)if((o=getOwn(g,m.slice(0,a).join("/")))&&(o=getOwn(o,l))){d=o,u=r;break t}!c&&v&&getOwn(v,l)&&(c=getOwn(v,l),p=r)}!d&&c&&(d=c,u=p),d&&(s.splice(0,u,d),t=s.join("/"))}return getOwn(S.pkgs,t)||t}function n(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===_.contextName)return e.parentNode.removeChild(e),!0})}function o(t){var e=getOwn(S.paths,t);if(e&&isArray(e)&&e.length>1)return e.shift(),_.require.undef(t),_.makeRequire(null,{skipMap:!0})([t]),!0}function s(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function r(t,e,n,o){var r,a,l,h,d=null,u=e?e.name:null,c=t,p=!0,f="";return t||(p=!1,t="_@r"+(I+=1)),h=s(t),d=h[0],t=h[1],d&&(d=i(d,u,o),a=getOwn(O,d)),t&&(d?f=n?t:a&&a.normalize?a.normalize(t,function(t){return i(t,u,o)}):-1===t.indexOf("!")?i(t,u,o):t:(f=i(t,u,o),h=s(f),d=h[0],f=h[1],n=!0,r=_.nameToUrl(f))),l=!d||a||n?"":"_unnormalized"+(P+=1),{prefix:d,name:f,parentMap:e,unnormalized:!!l,url:r,originalName:c,isDefine:p,id:(d?d+"!"+f:f)+l}}function a(t){var e=t.id,i=getOwn(C,e);return i||(i=C[e]=new _.Module(t)),i}function l(t,e,i){var n=t.id,o=getOwn(C,n);!hasProp(O,n)||o&&!o.defineEmitComplete?(o=a(t),o.error&&"error"===e?i(o.error):o.on(e,i)):"defined"===e&&i(O[n])}function h(t,e){var i=t.requireModules,n=!1;e?e(t):(each(i,function(e){var i=getOwn(C,e);i&&(i.error=t,i.events.error&&(n=!0,i.emit("error",t)))}),n||req.onError(t))}function d(){globalDefQueue.length&&(each(globalDefQueue,function(t){var e=t[0];"string"==typeof e&&(_.defQueueMap[e]=!0),k.push(t)}),globalDefQueue=[])}function u(t){delete C[t],delete D[t]}function c(t,e,i){var n=t.map.id;t.error?t.emit("error",t.error):(e[n]=!0,each(t.depMaps,function(n,o){var s=n.id,r=getOwn(C,s);!r||t.depMatched[o]||i[s]||(getOwn(e,s)?(t.defineDep(o,O[s]),t.check()):c(r,e,i))}),i[n]=!0)}function p(){var t,e,i=1e3*S.waitSeconds,s=i&&_.startTime+i<(new Date).getTime(),r=[],a=[],l=!1,d=!0;if(!y){if(y=!0,eachProp(D,function(t){var i=t.map,h=i.id;if(t.enabled&&(i.isDefine||a.push(t),!t.error))if(!t.inited&&s)o(h)?(e=!0,l=!0):(r.push(h),n(h));else if(!t.inited&&t.fetched&&i.isDefine&&(l=!0,!i.prefix))return d=!1}),s&&r.length)return t=makeError("timeout","Load timeout for modules: "+r,null,r),t.contextName=_.contextName,h(t);d&&each(a,function(t){c(t,{},{})}),s&&!e||!l||!isBrowser&&!isWebWorker||x||(x=setTimeout(function(){x=0,p()},50)),y=!1}}function f(t){hasProp(O,t[0])||a(r(t[0],null,!0)).init(t[1],t[2])}function m(t,e,i,n){t.detachEvent&&!isOpera?n&&t.detachEvent(n,e):t.removeEventListener(i,e,!1)}function g(t){var e=t.currentTarget||t.srcElement;return m(e,_.onScriptLoad,"load","onreadystatechange"),m(e,_.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function v(){var t;for(d();k.length;){if(t=k.shift(),null===t[0])return h(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));f(t)}_.defQueueMap={}}var y,b,_,w,x,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},C={},D={},T={},k=[],O={},E={},M={},I=1,P=1;return w={require:function(t){return t.require?t.require:t.require=_.makeRequire(t.map)},exports:function(t){if(t.usingExports=!0,t.map.isDefine)return t.exports?O[t.map.id]=t.exports:t.exports=O[t.map.id]={}},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(S.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}},b=function(t){this.events=getOwn(T,t.id)||{},this.map=t,this.shim=getOwn(S.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(t,e,i,n){n=n||{},this.inited||(this.factory=e,i?this.on("error",i):this.events.error&&(i=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,_.startTime=(new Date).getTime();var t=this.map;if(!this.shim)return t.prefix?this.callPlugin():this.load();_.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()}))}},load:function(){var t=this.map.url;E[t]||(E[t]=!0,_.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,i=this.map.id,n=this.depExports,o=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=_.execCb(i,s,n,o)}catch(e){t=e}else o=_.execCb(i,s,n,o);if(this.map.isDefine&&void 0===o&&(e=this.module,e?o=e.exports:this.usingExports&&(o=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",h(this.error=t)}else o=s;if(this.exports=o,this.map.isDefine&&!this.ignore&&(O[i]=o,req.onResourceLoad)){var r=[];each(this.depMaps,function(t){r.push(t.normalizedMap||t)}),req.onResourceLoad(_,this.map,r)}u(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(_.defQueueMap,i)||this.fetch()}},callPlugin:function(){var t=this.map,e=t.id,n=r(t.prefix);this.depMaps.push(n),l(n,"defined",bind(this,function(n){var o,s,d,c=getOwn(M,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=_.makeRequire(t.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(p=n.normalize(p,function(t){return i(t,f,!0)})||""),s=r(t.prefix+"!"+p,this.map.parentMap,!0),l(s,"defined",bind(this,function(t){this.map.normalizedMap=s,this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),void((d=getOwn(C,s.id))&&(this.depMaps.push(s),this.events.error&&d.on("error",bind(this,function(t){this.emit("error",t)})),d.enable()))):c?(this.map.url=_.nameToUrl(c),void this.load()):(o=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})}),o.error=bind(this,function(t){this.inited=!0,this.error=t,t.requireModules=[e],eachProp(C,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&u(t.map.id)}),h(t)}),o.fromText=bind(this,function(i,n){var s=t.name,l=r(s),d=useInteractive;n&&(i=n),d&&(useInteractive=!1),a(l),hasProp(S.config,e)&&(S.config[s]=S.config[e]);try{req.exec(i)}catch(t){return h(makeError("fromtexteval","fromText eval for "+e+" failed: "+t,t,[e]))}d&&(useInteractive=!0),this.depMaps.push(l),_.completeLoad(s),m([s],o)}),void n.load(t.name,m,o,S))})),_.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){D[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var i,n,o;if("string"==typeof t){if(t=r(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,o=getOwn(w,t.id))return void(this.depExports[e]=o(this));this.depCount+=1,l(t,"defined",bind(this,function(t){this.undefed||(this.defineDep(e,t),this.check())})),this.errback?l(t,"error",bind(this,this.errback)):this.events.error&&l(t,"error",bind(this,function(t){this.emit("error",t)}))}i=t.id,n=C[i],hasProp(w,i)||!n||n.enabled||_.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(C,t.id);e&&!e.enabled&&_.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var i=this.events[t];i||(i=this.events[t]=[]),i.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},_={config:S,contextName:t,registry:C,defined:O,urlFetched:E,defQueue:k,defQueueMap:{},Module:b,makeModuleMap:r,nextTick:req.nextTick,onError:h,configure:function(t){if(t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/"),"string"==typeof t.urlArgs){var e=t.urlArgs;t.urlArgs=function(t,i){return(-1===i.indexOf("?")?"?":"&")+e}}var i=S.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(t,function(t,e){n[e]?(S[e]||(S[e]={}),mixin(S[e],t,!0,!0)):S[e]=t}),t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(M[t]=e)})}),t.shim&&(eachProp(t.shim,function(t,e){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=_.makeShimExports(t)),i[e]=t}),S.shim=i),t.packages&&each(t.packages,function(t){var e,i;t="string"==typeof t?{name:t}:t,i=t.name,e=t.location,e&&(S.paths[i]=t.location),S.pkgs[i]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(C,function(t,e){t.inited||t.map.unnormalized||(t.map=r(e,null,!0))}),(t.deps||t.callback)&&_.require(t.deps||[],t.callback)},makeShimExports:function(t){function e(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}return e},makeRequire:function(e,o){function s(i,n,l){var d,u,c;return o.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof i?isFunction(n)?h(makeError("requireargs","Invalid require call"),l):e&&hasProp(w,i)?w[i](C[e.id]):req.get?req.get(_,i,e,s):(u=r(i,e,!1,!0),d=u.id,hasProp(O,d)?O[d]:h(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")))):(v(),_.nextTick(function(){v(),c=a(r(null,e)),c.skipMap=o.skipMap,c.init(i,n,l,{enabled:!0}),p()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(t){var n,o=t.lastIndexOf("."),s=t.split("/")[0],r="."===s||".."===s;return-1!==o&&(!r||o>1)&&(n=t.substring(o,t.length),t=t.substring(0,o)),_.nameToUrl(i(t,e&&e.id,!0),n,!0)},defined:function(t){return hasProp(O,r(t,e,!1,!0).id)},specified:function(t){return t=r(t,e,!1,!0).id,hasProp(O,t)||hasProp(C,t)}}),e||(s.undef=function(t){d();var i=r(t,e,!0),o=getOwn(C,t);o.undefed=!0,n(t),delete O[t],delete E[i.url],delete T[t],eachReverse(k,function(e,i){e[0]===t&&k.splice(i,1)}),delete _.defQueueMap[t],o&&(o.events.defined&&(T[t]=o.events),u(t))}),s},enable:function(t){getOwn(C,t.id)&&a(t).enable()},completeLoad:function(t){var e,i,n,s=getOwn(S.shim,t)||{},r=s.exports;for(d();k.length;){if(i=k.shift(),null===i[0]){if(i[0]=t,e)break;e=!0}else i[0]===t&&(e=!0);f(i)}if(_.defQueueMap={},n=getOwn(C,t),!e&&!hasProp(O,t)&&n&&!n.inited){if(!(!S.enforceDefine||r&&getGlobal(r)))return o(t)?void 0:h(makeError("nodefine","No define call for "+t,null,[t]));f([t,s.deps||[],s.exportsFn])}p()},nameToUrl:function(t,e,i){var n,o,s,r,a,l,h,d=getOwn(S.pkgs,t);if(d&&(t=d),h=getOwn(M,t))return _.nameToUrl(h,e,i);if(req.jsExtRegExp.test(t))a=t+(e||"");else{for(n=S.paths,o=t.split("/"),s=o.length;s>0;s-=1)if(r=o.slice(0,s).join("/"),l=getOwn(n,r)){isArray(l)&&(l=l[0]),o.splice(0,s,l);break}a=o.join("/"),a+=e||(/^data\:|^blob\:|\?/.test(a)||i?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+a}return S.urlArgs&&!/^blob\:/.test(a)?a+S.urlArgs(t,a):a},load:function(t,e){req.load(_,t,e)},execCb:function(t,e,i,n){return e.apply(n,i)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=g(t);_.completeLoad(e.id)}},onScriptError:function(t){var e=g(t);if(!o(e.id)){var i=[];return eachProp(C,function(t,n){0!==n.indexOf("_@r")&&each(t.depMaps,function(t){if(t.id===e.id)return i.push(n),!0})}),h(makeError("scripterror",'Script error for "'+e.id+(i.length?'", needed by: '+i.join(", "):'"'),t,[e.id]))}}},_.require=_.makeRequire(),_}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,i,n){var o,s,r=defContextName;return isArray(t)||"string"==typeof t||(s=t,isArray(e)?(t=e,e=i,i=n):t=[]),s&&s.context&&(r=s.context),o=getOwn(contexts,r),o||(o=contexts[r]=req.s.newContext(r)),s&&o.configure(s),o.require(t,e,i)},req.config=function(t){return req(t)},req.nextTick=void 0!==setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t,e,i){var n=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=t.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(t,e,i){var n,o=t&&t.config||{};if(isBrowser)return n=req.createNode(o,e,i),n.setAttribute("data-requirecontext",t.contextName),n.setAttribute("data-requiremodule",e),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",t.onScriptLoad,!1),n.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",t.onScriptLoad)),n.src=i,o.onNodeCreated&&o.onNodeCreated(n,o,e,i),currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(e)}catch(n){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+i,n,[e]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){if(head||(head=t.parentNode),dataMain=t.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(t,e,i){var n,o;"string"!=typeof t&&(i=e,e=t,t=null),isArray(e)||(i=e,e=null),!e&&isFunction(i)&&(e=[],i.length&&(i.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(t,i){e.push(i)}),e=(1===i.length?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript())&&(t||(t=n.getAttribute("data-requiremodule")),o=contexts[n.getAttribute("data-requirecontext")]),o?(o.defQueue.push([t,e,i]),o.defQueueMap[t]=!0):globalDefQueue.push([t,e,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requireLib",function(){}),define("contentloader",[],function(){"use strict";function t(t){var n=r[e()];n&&n.unload&&r[e()].unload();var o=r[t],s=$("#content");s.children().detach(),o.data&&s.append(o.data),o.load(s),i(t),sessionStorage.setItem(l,t)}function e(){return a[a.length-1]}function i(t){n(t)?s(t):o(t)}function n(t){return a.indexOf(t)>=0}function o(e){var i=$("<button></button>").addClass("navigation").data("content",e).click(function(e){t($(e.target).closest("button").data("content"))}).appendTo("#navigation");$("<span><span>"+r[e].pageName+"</span></span>").appendTo(i),a.length>=1&&i.find("span:first").prepend($("<i/>",{class:"fas fa-sync"})),a.push(e)}function s(t){var e=a.indexOf(t),i=a.length-e-1;$("#navigation > .navigation:nth-last-child(-n+"+i+")").remove(),a=a.splice(0,e+1)}var r=[],a=[],l="contentId";return{addContent:function(t){r[t.id]=t},loadContent:function(e){t(e)},getContentId:function(){return sessionStorage.getItem(l)}}}),define("rest",[],function(){"use strict";return Object.create({getServerInfo:function(t,e){e=e||{};var i=$.Deferred();return $.get("/server/info/"+t,e,function(t){i.resolve(t)},"text").fail(function(){location.reload(!0)}),i.promise()}})}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=ot.type(t);return"function"!==i&&!ot.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(ot.isFunction(e))return ot.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ot.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(ft.test(e))return ot.filter(e,t,i);e=ot.filter(e,t)}return ot.grep(t,function(t){return Q.call(e,t)>-1!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return ot.each(t.match(bt)||[],function(t,i){e[i]=!0}),e}function r(){X.removeEventListener("DOMContentLoaded",r),t.removeEventListener("load",r),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Tt,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Dt.test(i)?ot.parseJSON(i):i)}catch(t){}Ct.set(t,e,i)}else i=void 0;return i}function h(t,e,i,n){var o,s=1,r=20,a=n?function(){return n.cur()}:function(){return ot.css(t,e,"")},l=a(),h=i&&i[3]||(ot.cssNumber[e]?"":"px"),d=(ot.cssNumber[e]||"px"!==h&&+l)&&Ot.exec(ot.css(t,e));if(d&&d[3]!==h){h=h||d[3],i=i||[],d=+l||1;do{s=s||".5",d/=s,ot.style(t,e,d+h)}while(s!==(s=a()/l)&&1!==s&&--r)}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=d,n.end=o)),o}function d(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],i):i}function u(t,e){for(var i=0,n=t.length;i<n;i++)St.set(t[i],"globalEval",!e||St.get(e[i],"globalEval"))}function c(t,e,i,n,o){for(var s,r,a,l,h,c,p=e.createDocumentFragment(),f=[],m=0,g=t.length;m<g;m++)if((s=t[m])||0===s)if("object"===ot.type(s))ot.merge(f,s.nodeType?[s]:s);else if(Rt.test(s)){for(r=r||p.appendChild(e.createElement("div")),a=(Pt.exec(s)||["",""])[1].toLowerCase(),l=At[a]||At._default,r.innerHTML=l[1]+ot.htmlPrefilter(s)+l[2],c=l[0];c--;)r=r.lastChild;ot.merge(f,r.childNodes),r=p.firstChild,r.textContent=""}else f.push(e.createTextNode(s));for(p.textContent="",m=0;s=f[m++];)if(n&&ot.inArray(s,n)>-1)o&&o.push(s);else if(h=ot.contains(s.ownerDocument,s),r=d(p.appendChild(s),"script"),h&&u(r),i)for(c=0;s=r[c++];)Nt.test(s.type||"")&&i.push(s);return p}function p(){return!0}function f(){return!1}function m(){try{return X.activeElement}catch(t){}}function g(t,e,i,n,o,s){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)g(t,a,i,n,e[a],s);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=f;else if(!o)return t;return 1===s&&(r=o,o=function(t){return ot().off(t),r.apply(this,arguments)},o.guid=r.guid||(r.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,o,n,i)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){var i,n,o,s,r,a,l,h;if(1===e.nodeType){if(St.hasData(t)&&(s=St.access(t),r=St.set(e,s),h=s.events)){delete r.handle,r.events={};for(o in h)for(i=0,n=h[o].length;i<n;i++)ot.event.add(e,o,h[o][i])}Ct.hasData(t)&&(a=Ct.access(t),l=ot.extend({},a),Ct.set(e,l))}}function w(t,e){var i=e.nodeName.toLowerCase();"input"===i&&It.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function x(t,e,i,n){e=Z.apply([],e);var o,s,r,a,l,h,u=0,p=t.length,f=p-1,m=e[0],g=ot.isFunction(m);if(g||p>1&&"string"==typeof m&&!nt.checkClone&&Ht.test(m))return t.each(function(o){var s=t.eq(o);g&&(e[0]=m.call(this,o,s.html())),x(s,e,i,n)});if(p&&(o=c(e,t[0].ownerDocument,!1,t,n),s=o.firstChild,1===o.childNodes.length&&(o=s),s||n)){for(r=ot.map(d(o,"script"),y),a=r.length;u<p;u++)l=o,u!==f&&(l=ot.clone(l,!0,!0),a&&ot.merge(r,d(l,"script"))),i.call(t[u],l,u);if(a)for(h=r[r.length-1].ownerDocument,ot.map(r,b),u=0;u<a;u++)l=r[u],Nt.test(l.type||"")&&!St.access(l,"globalEval")&&ot.contains(h,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace($t,"")))}return t}function S(t,e,i){for(var n,o=e?ot.filter(e,t):t,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||ot.cleanData(d(n)),n.parentNode&&(i&&ot.contains(n.ownerDocument,n)&&u(d(n,"script")),n.parentNode.removeChild(n));return t}function C(t,e){var i=ot(e.createElement(t)).appendTo(e.body),n=ot.css(i[0],"display");return i.detach(),n}function D(t){var e=X,i=Gt[t];return i||(i=C(t,e),"none"!==i&&i||(Yt=(Yt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Yt[0].contentDocument,e.write(),e.close(),i=C(t,e),Yt.detach()),Gt[t]=i),i}function T(t,e,i){var n,o,s,r,a=t.style;return i=i||Ut(t),r=i?i.getPropertyValue(e)||i[e]:void 0,""!==r&&void 0!==r||ot.contains(t.ownerDocument,t)||(r=ot.style(t,e)),i&&!nt.pixelMarginRight()&&qt.test(r)&&Vt.test(e)&&(n=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=o,a.maxWidth=s),void 0!==r?r+"":r}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in ee)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=te.length;i--;)if((t=te[i]+e)in ee)return t}function E(t,e,i){var n=Ot.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function M(t,e,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,r=0;s<4;s+=2)"margin"===i&&(r+=ot.css(t,i+Et[s],!0,o)),n?("content"===i&&(r-=ot.css(t,"padding"+Et[s],!0,o)),"margin"!==i&&(r-=ot.css(t,"border"+Et[s]+"Width",!0,o))):(r+=ot.css(t,"padding"+Et[s],!0,o),"padding"!==i&&(r+=ot.css(t,"border"+Et[s]+"Width",!0,o)));return r}function I(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=Ut(t),r="border-box"===ot.css(t,"boxSizing",!1,s);if(o<=0||null==o){if(o=T(t,e,s),(o<0||null==o)&&(o=t.style[e]),qt.test(o))return o;n=r&&(nt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+M(t,e,i||(r?"border":"content"),n,s)+"px"}function P(t,e){for(var i,n,o,s=[],r=0,a=t.length;r<a;r++)n=t[r],n.style&&(s[r]=St.get(n,"olddisplay"),i=n.style.display,e?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Mt(n)&&(s[r]=St.access(n,"olddisplay",D(n.nodeName)))):(o=Mt(n),"none"===i&&o||St.set(n,"olddisplay",o?i:ot.css(n,"display"))));for(r=0;r<a;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[r]||"":"none"));return t}function N(t,e,i,n,o){return new N.prototype.init(t,e,i,n,o)}function A(){return t.setTimeout(function(){ie=void 0}),ie=ot.now()}function R(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)i=Et[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function L(t,e,i){for(var n,o=(j.tweeners[e]||[]).concat(j.tweeners["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,e,t))return n}function z(t,e,i){var n,o,s,r,a,l,h,d=this,u={},c=t.style,p=t.nodeType&&Mt(t),f=St.get(t,"fxshow");i.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[c.overflow,c.overflowX,c.overflowY],h=ot.css(t,"display"),"inline"===("none"===h?St.get(t,"olddisplay")||D(t.nodeName):h)&&"none"===ot.css(t,"float")&&(c.display="inline-block")),i.overflow&&(c.overflow="hidden",d.always(function(){c.overflow=i.overflow[0],c.overflowX=i.overflow[1],c.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],oe.exec(o)){if(delete e[n],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;p=!0}u[n]=f&&f[n]||ot.style(t,n)}else h=void 0;if(ot.isEmptyObject(u))"inline"===("none"===h?D(t.nodeName):h)&&(c.display=h);else{f?"hidden"in f&&(p=f.hidden):f=St.access(t,"fxshow",{}),s&&(f.hidden=!p),p?ot(t).show():d.done(function(){ot(t).hide()}),d.done(function(){var e;St.remove(t,"fxshow");for(e in u)ot.style(t,e,u[e])});for(n in u)r=L(p?f[n]:0,n,d),n in f||(f[n]=r.start,p&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,o,s,r;for(i in t)if(n=ot.camelCase(i),o=e[n],s=t[i],ot.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(r=ot.cssHooks[n])&&"expand"in r){s=r.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=o)}else e[n]=o}function j(t,e,i){var n,o,s=0,r=j.prefilters.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ie||A(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,s=1-n,r=0,l=h.tweens.length;r<l;r++)h.tweens[r].run(s);return a.notifyWith(t,[h,s,i]),s<1&&l?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},i),originalProperties:e,originalOptions:i,startTime:ie||A(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ot.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)h.tweens[i].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),d=h.props;for(F(d,h.opts.specialEasing);s<r;s++)if(n=j.prefilters[s].call(h,t,d,h.opts))return ot.isFunction(n.stop)&&(ot._queueHooks(h.elem,h.opts.queue).stop=ot.proxy(n.stop,n)),n;return ot.map(d,L,h),ot.isFunction(h.opts.start)&&h.opts.start.call(t,h),ot.fx.timer(ot.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function B(t){return t.getAttribute&&t.getAttribute("class")||""}function H(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(bt)||[];if(ot.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function W(t,e,i,n){function o(a){var l;return s[a]=!0,ot.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||r||s[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}var s={},r=t===Ce;return o(e.dataTypes[0])||!s["*"]&&o("*")}function $(t,e){var i,n,o=ot.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ot.extend(!0,t,n),t}function Y(t,e,i){for(var n,o,s,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),i[s]}function G(t,e,i,n){var o,s,r,a,l,h={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)h[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=h[l+" "+s]||h["* "+s]))for(o in h)if(a=o.split(" "),a[1]===s&&(r=h[l+" "+a[0]]||h["* "+a[0]])){!0===r?r=h[o]:!0!==h[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function V(t,e,i,n){var o;if(ot.isArray(e))ot.each(e,function(e,o){i||Oe.test(t)?n(t,o):V(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==ot.type(e))n(t,e);else for(o in e)V(t+"["+o+"]",e[o],i,n)}function q(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],X=t.document,K=U.slice,Z=U.concat,J=U.push,Q=U.indexOf,tt={},et=tt.toString,it=tt.hasOwnProperty,nt={},ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,at=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:"2.2.4",constructor:ot,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:U.sort,splice:U.splice},ot.extend=ot.fn.extend=function(){var t,e,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,
r=arguments[a]||{},a++),"object"==typeof r||ot.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=r[e],n=t[e],r!==n&&(h&&n&&(ot.isPlainObject(n)||(o=ot.isArray(n)))?(o?(o=!1,s=i&&ot.isArray(i)?i:[]):s=i&&ot.isPlainObject(i)?i:{},r[e]=ot.extend(h,s,n)):void 0!==n&&(r[e]=n));return r},ot.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!it.call(t,"constructor")&&!it.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||it.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=ot.trim(t))&&(1===t.indexOf("use strict")?(e=X.createElement("script"),e.text=t,X.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(rt,"ms-").replace(at,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ot.merge(n,"string"==typeof t?[t]:t):J.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:Q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,s=t.length,r=!i;o<s;o++)!e(t[o],o)!==r&&n.push(t[o]);return n},map:function(t,e,n){var o,s,r=0,a=[];if(i(t))for(o=t.length;r<o;r++)null!=(s=e(t[r],r,n))&&a.push(s);else for(r in t)null!=(s=e(t[r],r,n))&&a.push(s);return Z.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),ot.isFunction(t))return n=K.call(arguments,2),o=function(){return t.apply(e||this,n.concat(K.call(arguments)))},o.guid=t.guid=t.guid||ot.guid++,o},now:Date.now,support:nt}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=U[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ht=function(t){function e(t,e,i,n){var o,s,r,a,h,u,c,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:F)!==M&&E(e),e=e||M,P)){if(11!==m&&(u=mt.exec(t)))if(o=u[1]){if(9===m){if(!(r=e.getElementById(o)))return i;if(r.id===o)return i.push(r),i}else if(f&&(r=f.getElementById(o))&&L(e,r)&&r.id===o)return i.push(r),i}else{if(u[2])return K.apply(i,e.getElementsByTagName(t)),i;if((o=u[3])&&b.getElementsByClassName&&e.getElementsByClassName)return K.apply(i,e.getElementsByClassName(o)),i}if(b.qsa&&!$[t+" "]&&(!N||!N.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(vt,"\\$&"):e.setAttribute("id",a=z),c=S(t),s=c.length,h=dt.test(a)?"#"+a:"[id='"+a+"']";s--;)c[s]=h+" "+d(c[s]);p=c.join(","),f=gt.test(t)&&l(e.parentNode)||e}if(p)try{return K.apply(i,f.querySelectorAll(p)),i}catch(t){}finally{a===z&&e.removeAttribute("id")}}}return D(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>_.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[z]=!0,t}function o(t){var e=M.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return n(function(e){return e=+e,n(function(i,n){for(var o,s=t([],i.length,e),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function u(t,e,i){var n=e.dir,o=i&&"parentNode"===n,s=B++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s)}:function(e,i,r){var a,l,h,d=[j,s];if(r){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(h=e[z]||(e[z]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),(a=l[n])&&a[0]===j&&a[1]===s)return d[2]=a[2];if(l[n]=d,d[2]=t(e,i,r))return!0}}}function c(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var o=0,s=i.length;o<s;o++)e(t,i[o],n);return n}function f(t,e,i,n,o){for(var s,r=[],a=0,l=t.length,h=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,o)||(r.push(s),h&&e.push(a)));return r}function m(t,e,i,o,s,r){return o&&!o[z]&&(o=m(o)),s&&!s[z]&&(s=m(s,r)),n(function(n,r,a,l){var h,d,u,c=[],m=[],g=r.length,v=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:f(v,c,t,a,l),b=i?s||(n?t:g||o)?[]:r:y;if(i&&i(y,b,a,l),o)for(h=f(b,m),o(h,[],a,l),d=h.length;d--;)(u=h[d])&&(b[m[d]]=!(y[m[d]]=u));if(n){if(s||t){if(s){for(h=[],d=b.length;d--;)(u=b[d])&&h.push(y[d]=u);s(null,b=[],h,l)}for(d=b.length;d--;)(u=b[d])&&(h=s?J(n,u):c[d])>-1&&(n[h]=!(r[h]=u))}}else b=f(b===r?b.splice(g,b.length):b),s?s(null,r,b,l):K.apply(r,b)})}function g(t){for(var e,i,n,o=t.length,s=_.relative[t[0].type],r=s||_.relative[" "],a=s?1:0,l=u(function(t){return t===e},r,!0),h=u(function(t){return J(e,t)>-1},r,!0),p=[function(t,i,n){var o=!s&&(n||i!==T)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,o}];a<o;a++)if(i=_.relative[t[a].type])p=[u(c(p),i)];else{if(i=_.filter[t[a].type].apply(null,t[a].matches),i[z]){for(n=++a;n<o&&!_.relative[t[n].type];n++);return m(a>1&&c(p),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),i,a<n&&g(t.slice(a,n)),n<o&&g(t=t.slice(n)),n<o&&d(t))}p.push(i)}return c(p)}function v(t,i){var o=i.length>0,s=t.length>0,r=function(n,r,a,l,h){var d,u,c,p=0,m="0",g=n&&[],v=[],y=T,b=n||s&&_.find.TAG("*",h),w=j+=null==y?1:Math.random()||.1,x=b.length;for(h&&(T=r===M||r||h);m!==x&&null!=(d=b[m]);m++){if(s&&d){for(u=0,r||d.ownerDocument===M||(E(d),a=!P);c=t[u++];)if(c(d,r||M,a)){l.push(d);break}h&&(j=w)}o&&((d=!c&&d)&&p--,n&&g.push(d))}if(p+=m,o&&m!==p){for(u=0;c=i[u++];)c(g,v,r,a);if(n){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=U.call(l));v=f(v)}K.apply(l,v),h&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return h&&(j=w,T=y),g};return o?n(r):r}var y,b,_,w,x,S,C,D,T,k,O,E,M,I,P,N,A,R,L,z="sizzle"+1*new Date,F=t.document,j=0,B=0,H=i(),W=i(),$=i(),Y=function(t,e){return t===e&&(O=!0),0},G=1<<31,V={}.hasOwnProperty,q=[],U=q.pop,X=q.push,K=q.push,Z=q.slice,J=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),rt=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ht=new RegExp(nt),dt=new RegExp("^"+et+"$"),ut={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ct=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,ft=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_t=function(){E()};try{K.apply(q=Z.call(F.childNodes),F.childNodes),q[F.childNodes.length].nodeType}catch(t){K={apply:q.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:F;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,I=M.documentElement,P=!x(M),(i=M.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_t,!1):i.attachEvent&&i.attachEvent("onunload",_t)),b.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=o(function(t){return t.appendChild(M.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=ft.test(M.getElementsByClassName),b.getById=o(function(t){return I.appendChild(t).id=z,!M.getElementsByName||!M.getElementsByName(z).length}),b.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&P){var i=e.getElementById(t);return i?[i]:[]}},_.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),_.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},_.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&P)return e.getElementsByClassName(t)},A=[],N=[],(b.qsa=ft.test(M.querySelectorAll))&&(o(function(t){I.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+z+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||N.push(".#.+[+~]")}),o(function(t){var e=M.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=ft.test(R=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(t){b.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),A.push("!=",nt)}),N=N.length&&new RegExp(N.join("|")),A=A.length&&new RegExp(A.join("|")),e=ft.test(I.compareDocumentPosition),L=e||ft.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return O=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===M||t.ownerDocument===F&&L(F,t)?-1:e===M||e.ownerDocument===F&&L(F,e)?1:k?J(k,t)-J(k,e):0:4&i?-1:1)}:function(t,e){if(t===e)return O=!0,0;var i,n=0,o=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!o||!s)return t===M?-1:e===M?1:o?-1:s?1:k?J(k,t)-J(k,e):0;if(o===s)return r(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?r(a[n],l[n]):a[n]===F?-1:l[n]===F?1:0},M):M},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==M&&E(t),i=i.replace(lt,"='$1']"),b.matchesSelector&&P&&!$[i+" "]&&(!A||!A.test(i))&&(!N||!N.test(i)))try{var n=R.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&E(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==M&&E(t);var i=_.attrHandle[e.toLowerCase()],n=i&&V.call(_.attrHandle,e.toLowerCase())?i(t,e,!P):void 0;return void 0!==n?n:b.attributes||!P?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(O=!b.detectDuplicates,k=!b.sortStable&&t.slice(0),t.sort(Y),O){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return k=null,t},w=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=w(e);return i},_=e.selectors={cacheLength:50,createPseudo:n,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var s=e.attr(o,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,d,u,c,p,f,m=s!==r?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(s){for(;m;){for(c=e;c=c[m];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(c=g,u=c[z]||(c[z]={}),d=u[c.uniqueID]||(u[c.uniqueID]={}),h=d[t]||[],p=h[0]===j&&h[1],b=p&&h[2],c=p&&g.childNodes[p];c=++p&&c&&c[m]||(b=p=0)||f.pop();)if(1===c.nodeType&&++b&&c===e){d[t]=[j,p,b];break}}else if(y&&(c=e,u=c[z]||(c[z]={}),d=u[c.uniqueID]||(u[c.uniqueID]={}),h=d[t]||[],p=h[0]===j&&h[1],b=p),!1===b)for(;(c=++p&&c&&c[m]||(b=p=0)||f.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++b||(y&&(u=c[z]||(c[z]={}),d=u[c.uniqueID]||(u[c.uniqueID]={}),d[t]=[j,b]),c!==e)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,i){var o,s=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[z]?s(i):s.length>1?(o=[t,t,"",i],_.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=s(t,i),r=o.length;r--;)n=J(t,o[r]),t[n]=!(e[n]=o[r])}):function(t){return s(t,0,o)}):s}},pseudos:{not:n(function(t){var e=[],i=[],o=C(t.replace(st,"$1"));return o[z]?n(function(t,e,i,n){for(var s,r=o(t,null,n,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,o(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(yt,bt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,bt).toLowerCase(),function(e){var i;do{if(i=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ct.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,i){return[i<0?i+e:i]}),even:a(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:a(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:a(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:a(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},_.pseudos.nth=_.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})_.pseudos[y]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(y);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,S=e.tokenize=function(t,i){var n,o,s,r,a,l,h,d=W[t+" "];if(d)return i?0:d.slice(0);for(a=t,l=[],h=_.preFilter;a;){n&&!(o=rt.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=at.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(st," ")}),a=a.slice(n.length));for(r in _.filter)!(o=ut[r].exec(a))||h[r]&&!(o=h[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],o=[],s=$[t+" "];if(!s){for(e||(e=S(t)),i=e.length;i--;)s=g(e[i]),s[z]?n.push(s):o.push(s);s=$(t,v(o,n)),s.selector=t}return s},D=e.select=function(t,e,i,n){var o,s,r,a,h,u="function"==typeof t&&t,c=!n&&S(t=u.selector||t);if(i=i||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&b.getById&&9===e.nodeType&&P&&_.relative[s[1].type]){if(!(e=(_.find.ID(r.matches[0].replace(yt,bt),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=ut.needsContext.test(t)?0:s.length;o--&&(r=s[o],!_.relative[a=r.type]);)if((h=_.find[a])&&(n=h(r.matches[0].replace(yt,bt),gt.test(s[0].type)&&l(e.parentNode)||e))){if(s.splice(o,1),!(t=n.length&&d(s)))return K.apply(i,n),i;break}}return(u||C(t,c))(n,e,!P,i,!e||gt.test(t)&&l(e.parentNode)||e),i},b.sortStable=z.split("").sort(Y).join("")===z,b.detectDuplicates=!!O,E(),b.sortDetached=o(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(Q,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ot.find=ht,ot.expr=ht.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ht.uniqueSort,ot.text=ht.getText,ot.isXMLDoc=ht.isXML,ot.contains=ht.contains;var dt=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ot(t).is(i))break;n.push(t)}return n},ut=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},ct=ot.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ot.find.matchesSelector(n,t)?[n]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;e<i;e++)if(ot.contains(o[e],this))return!0}));for(e=0;e<i;e++)ot.find(t,o[e],n);return n=this.pushStack(i>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ct.test(t)?ot(t):t||[],!1).length}});var mt,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ot.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||mt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:gt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),pt.test(n[1])&&ot.isPlainObject(e))for(n in e)ot.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return o=X.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==i.ready?i.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))}).prototype=ot.fn,mt=ot(X);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,s=[],r=ct.test(t)||"string"!=typeof t?ot(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ot.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?ot.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?Q.call(ot(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return dt(t,"parentNode")},parentsUntil:function(t,e,i){return dt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return dt(t,"nextSibling")},prevAll:function(t){return dt(t,"previousSibling")},nextUntil:function(t,e,i){return dt(t,"nextSibling",i)},prevUntil:function(t,e,i){return dt(t,"previousSibling",i)},siblings:function(t){return ut((t.parentNode||{}).firstChild,t)},children:function(t){return ut(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(i,n){var o=ot.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ot.filter(n,o)),this.length>1&&(yt[t]||ot.uniqueSort(o),vt.test(t)&&o.reverse()),this.pushStack(o)}});var bt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?s(t):ot.extend({},t);var e,i,n,o,r=[],a=[],l=-1,h=function(){for(o=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<r.length;)!1===r[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=r.length,i=!1);t.memory||(i=!1),e=!1,o&&(r=i?[]:"")},d={add:function(){return r&&(i&&!e&&(l=r.length-1,a.push(i)),function e(i){ot.each(i,function(i,n){ot.isFunction(n)?t.unique&&d.has(n)||r.push(n):n&&n.length&&"string"!==ot.type(n)&&e(n)})}(arguments),i&&!e&&h()),this},remove:function(){return ot.each(arguments,function(t,e){for(var i;(i=ot.inArray(e,r,i))>-1;)r.splice(i,1),i<=l&&l--}),this},has:function(t){return t?ot.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=a=[],i||(r=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(i){ot.each(e,function(e,s){var r=ot.isFunction(t[e])&&t[e];o[s[1]](function(){var t=r&&r.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,n):n}},o={};return n.pipe=n.then,ot.each(e,function(t,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,s=K.call(arguments),r=s.length,a=1!==r||t&&ot.isFunction(t.promise)?r:0,l=1===a?t:ot.Deferred(),h=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?K.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);o<r;o++)s[o]&&ot.isFunction(s[o].promise)?s[o].promise().progress(h(o,i,e)).done(h(o,n,s)).fail(l.reject):--a;return a||l.resolveWith(n,s),l.promise()}});var _t;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(!0===t?--ot.readyWait:ot.isReady)||(ot.isReady=!0,!0!==t&&--ot.readyWait>0||(_t.resolveWith(X,[ot]),ot.fn.triggerHandler&&(ot(X).triggerHandler("ready"),ot(X).off("ready"))))}}),ot.ready.promise=function(e){return _t||(_t=ot.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?t.setTimeout(ot.ready):(X.addEventListener("DOMContentLoaded",r),t.addEventListener("load",r))),_t.promise(e)},ot.ready.promise();var wt=function(t,e,i,n,o,s,r){var a=0,l=t.length,h=null==i;if("object"===ot.type(i)){o=!0;for(a in i)wt(t,e,a,i[a],!0,s,r)}else if(void 0!==n&&(o=!0,ot.isFunction(n)||(r=!0),h&&(r?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(ot(t),i)})),e))for(;a<l;a++)e(t[a],i,r?n:n.call(t[a],a,e(t[a],i)));return o?t:h?e.call(t):l?e(t[0],i):s},xt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!xt(t))return{};var e=t[this.expando];return e||(e={},xt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[e]=i;else for(n in e)o[n]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,ot.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,s=t[this.expando];if(void 0!==s){if(void 0===e)this.register(t);else{ot.isArray(e)?n=e.concat(e.map(ot.camelCase)):(o=ot.camelCase(e),e in s?n=[e,o]:(n=o,n=n in s?[n]:n.match(bt)||[])),i=n.length;for(;i--;)delete s[n[i]]}(void 0===e||ot.isEmptyObject(s))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var St=new a,Ct=new a,Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/[A-Z]/g;ot.extend({hasData:function(t){return Ct.hasData(t)||St.hasData(t)},data:function(t,e,i){return Ct.access(t,e,i)},removeData:function(t,e){Ct.remove(t,e)},_data:function(t,e,i){return St.access(t,e,i)},_removeData:function(t,e){St.remove(t,e)}}),ot.fn.extend({data:function(t,e){var i,n,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=Ct.get(s),1===s.nodeType&&!St.get(s,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=ot.camelCase(n.slice(5)),l(s,n,o[n])));St.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Ct.set(this,t)}):wt(this,function(e){var i,n;if(s&&void 0===e){if(void 0!==(i=Ct.get(s,t)||Ct.get(s,t.replace(Tt,"-$&").toLowerCase())))return i;if(n=ot.camelCase(t),void 0!==(i=Ct.get(s,n)))return i;if(void 0!==(i=l(s,n,void 0)))return i}else n=ot.camelCase(t),this.each(function(){var i=Ct.get(this,n);Ct.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Ct.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ct.remove(this,t)})}}),ot.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=St.get(t,e),i&&(!n||ot.isArray(i)?n=St.access(t,e,ot.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=ot.queue(t,e),n=i.length,o=i.shift(),s=ot._queueHooks(t,e),r=function(){ot.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return St.get(t,i)||St.access(t,i,{empty:ot.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",i])})})}}),ot.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ot.queue(this[0],t):void 0===e?this:this.each(function(){var i=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=ot.Deferred(),s=this,r=this.length,a=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)(i=St.get(s[r],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}})
;var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ot=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),Et=["Top","Right","Bottom","Left"],Mt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},It=/^(?:checkbox|radio)$/i,Pt=/<([\w:-]+)/,Nt=/^$|\/(?:java|ecma)script/i,At={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td;var Rt=/<|&#?\w+;/;!function(){var t=X.createDocumentFragment(),e=t.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Lt=/^key/,zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ft=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,i,n,o){var s,r,a,l,h,d,u,c,p,f,m,g=St.get(t);if(g)for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=ot.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(e){return void 0!==ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(bt)||[""],h=e.length;h--;)a=Ft.exec(e[h])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(u=ot.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=ot.event.special[p]||{},d=ot.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:f.join(".")},s),(c=l[p])||(c=l[p]=[],c.delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,r)||t.addEventListener&&t.addEventListener(p,r)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,d):c.push(d),ot.event.global[p]=!0)},remove:function(t,e,i,n,o){var s,r,a,l,h,d,u,c,p,f,m,g=St.hasData(t)&&St.get(t);if(g&&(l=g.events)){for(e=(e||"").match(bt)||[""],h=e.length;h--;)if(a=Ft.exec(e[h])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=ot.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,c=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=c.length;s--;)d=c[s],!o&&m!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(c.splice(s,1),d.selector&&c.delegateCount--,u.remove&&u.remove.call(t,d));r&&!c.length&&(u.teardown&&!1!==u.teardown.call(t,f,g.handle)||ot.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)ot.event.remove(t,p+e[h],i,n,!0);ot.isEmptyObject(l)&&St.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,i,n,o,s,r=[],a=K.call(arguments),l=(St.get(this,"events")||{})[t.type]||[],h=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,t)){for(r=ot.event.handlers.call(this,t,l),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(n=((ot.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,s,r=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<a;i++)s=e[i],o=s.selector+" ",void 0===n[o]&&(n[o]=s.needsContext?ot(o,this).index(l)>-1:ot.find(o,this,null,[l]).length),n[o]&&n.push(s);n.length&&r.push({elem:l,handlers:n})}return a<e.length&&r.push({elem:this,handlers:e.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||X,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,i,n,o=t.type,s=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=zt.test(o)?this.mouseHooks:Lt.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new ot.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=X),3===t.target.nodeType&&(t.target=t.target.parentNode),r.filter?r.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ot.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},ot.Event=function(t,e){if(!(this instanceof ot.Event))return new ot.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?p:f):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),this[ot.expando]=!0},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===n||ot.contains(n,o))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),ot.fn.extend({on:function(t,e,i,n){return g(this,t,e,i,n)},one:function(t,e,i,n){return g(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ot(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=f),this.each(function(){ot.event.remove(this,t,i,e)})}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Bt=/<script|<style|<link/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^true\/(.*)/,$t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(jt,"<$1></$2>")},clone:function(t,e,i){var n,o,s,r,a=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(r=d(a),s=d(t),n=0,o=s.length;n<o;n++)w(s[n],r[n]);if(e)if(i)for(s=s||d(t),r=r||d(a),n=0,o=s.length;n<o;n++)_(s[n],r[n]);else _(t,a);return r=d(a,"script"),r.length>0&&u(r,!l&&d(t,"script")),a},cleanData:function(t){for(var e,i,n,o=ot.event.special,s=0;void 0!==(i=t[s]);s++)if(xt(i)){if(e=i[St.expando]){if(e.events)for(n in e.events)o[n]?ot.event.remove(i,n):ot.removeEvent(i,n,e.handle);i[St.expando]=void 0}i[Ct.expando]&&(i[Ct.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return S(this,t,!0)},remove:function(t){return S(this,t)},text:function(t){return wt(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){v(this,t).appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(d(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return wt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Bt.test(t)&&!At[(Pt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(ot.cleanData(d(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var i=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(d(this)),i&&i.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var i,n=[],o=ot(t),s=o.length-1,r=0;r<=s;r++)i=r===s?this:this.clone(!0),ot(o[r])[e](i),J.apply(n,i.get());return this.pushStack(n)}});var Yt,Gt={HTML:"block",BODY:"block"},Vt=/^margin/,qt=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),Ut=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Xt=function(t,e,i,n){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];o=i.apply(t,n||[]);for(s in e)t.style[s]=r[s];return o},Kt=X.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Kt.appendChild(r);var e=t.getComputedStyle(a);i="1%"!==e.top,s="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,Kt.removeChild(r)}var i,n,o,s,r=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.appendChild(a),ot.extend(nt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),o},reliableMarginLeft:function(){return null==n&&e(),s},reliableMarginRight:function(){var e,i=a.appendChild(X.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Kt.appendChild(r),e=!parseFloat(t.getComputedStyle(i).marginRight),Kt.removeChild(r),a.removeChild(i),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,Jt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"},te=["Webkit","O","Moz","ms"],ee=X.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=T(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=ot.camelCase(e),l=t.style;if(e=ot.cssProps[a]||(ot.cssProps[a]=O(a)||a),r=ot.cssHooks[e]||ot.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(t,!1,n))?o:l[e];s=typeof i,"string"===s&&(o=Ot.exec(i))&&o[1]&&(i=h(t,e,o),s="number"),null!=i&&i===i&&("number"===s&&(i+=o&&o[3]||(ot.cssNumber[a]?"":"px")),nt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var o,s,r,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=O(a)||a),r=ot.cssHooks[e]||ot.cssHooks[a],r&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=T(t,e,n)),"normal"===o&&e in Qt&&(o=Qt[e]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,i,n){if(i)return Zt.test(ot.css(t,"display"))&&0===t.offsetWidth?Xt(t,Jt,function(){return I(t,e,n)}):I(t,e,n)},set:function(t,i,n){var o,s=n&&Ut(t),r=n&&M(t,e,n,"border-box"===ot.css(t,"boxSizing",!1,s),s);return r&&(o=Ot.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=ot.css(t,e)),E(t,i,r)}}}),ot.cssHooks.marginLeft=k(nt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(T(t,"marginLeft"))||t.getBoundingClientRect().left-Xt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ot.cssHooks.marginRight=k(nt.reliableMarginRight,function(t,e){if(e)return Xt(t,{display:"inline-block"},T,[t,"marginRight"])}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+Et[n]+e]=s[n]||s[n-2]||s[0];return o}},Vt.test(t)||(ot.cssHooks[t+e].set=E)}),ot.fn.extend({css:function(t,e){return wt(this,function(t,e,i){var n,o,s={},r=0;if(ot.isArray(e)){for(n=Ut(t),o=e.length;r<o;r++)s[e[r]]=ot.css(t,e[r],!1,n);return s}return void 0!==i?ot.style(t,e,i):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Mt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ot.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=N.prototype.init,ot.fx.step={};var ie,ne,oe=/^(?:toggle|show|hide)$/,se=/queueHooks$/;ot.Animation=ot.extend(j,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return h(i.elem,t,Ot.exec(e),i),i}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var i,n=0,o=t.length;n<o;n++)i=t[n],j.tweeners[i]=j.tweeners[i]||[],j.tweeners[i].unshift(e)},prefilters:[z],prefilter:function(t,e){e?j.prefilters.unshift(t):j.prefilters.push(t)}}),ot.speed=function(t,e,i){var n=t&&"object"==typeof t?ot.extend({},t):{complete:i||!i&&e||ot.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ot.isFunction(e)&&e};return n.duration=ot.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ot.fx.speeds?ot.fx.speeds[n.duration]:ot.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ot.isFunction(n.old)&&n.old.call(this),n.queue&&ot.dequeue(this,n.queue)},n},ot.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ot.isEmptyObject(t),s=ot.speed(e,i,n),r=function(){var e=j(this,ot.extend({},t),s);(o||St.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",s=ot.timers,r=St.get(this);if(o)r[o]&&r[o].stop&&n(r[o]);else for(o in r)r[o]&&r[o].stop&&se.test(o)&&n(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(i),e=!1,s.splice(o,1));!e&&i||ot.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=St.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=ot.timers,r=n?n.length:0;for(i.finish=!0,ot.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var i=ot.fn[e];ot.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(R(e,!0),t,n,o)}}),ot.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,i=ot.timers;for(ie=ot.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||ot.fx.stop(),ie=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){ne||(ne=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(ne),ne=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,i){return e=ot.fx?ot.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t=X.createElement("input"),e=X.createElement("select"),i=e.appendChild(X.createElement("option"));t.type="checkbox",nt.checkOn=""!==t.value,nt.optSelected=i.selected,e.disabled=!0,nt.optDisabled=!i.disabled,t=X.createElement("input"),t.value="t",t.type="radio",nt.radioValue="t"===t.value}();var re,ae=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return wt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?ot.prop(t,e,i):(1===s&&ot.isXMLDoc(t)||(e=e.toLowerCase(),o=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?re:void 0)),void 0!==i?null===i?void ot.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=ot.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,s=e&&e.match(bt);if(s&&1===t.nodeType)for(;i=s[o++];)n=ot.propFix[i]||i,ot.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),re={set:function(t,e,i){return!1===e?ot.removeAttr(t,i):t.setAttribute(i,i),i}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ae[e]||ot.find.attr;ae[e]=function(t,e,n){var o,s;return n||(s=ae[e],ae[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,ae[e]=s),o}});var le=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return wt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,o=ot.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),nt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var de=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,i,n,o,s,r,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,B(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];i=this[l++];)if(o=B(i),n=1===i.nodeType&&(" "+o+" ").replace(de," ")){for(r=0;s=e[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=ot.trim(n),o!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,s,r,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];i=this[l++];)if(o=B(i),n=1===i.nodeType&&(" "+o+" ").replace(de," ")){for(r=0;s=e[r++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=ot.trim(n),o!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(i){ot(this).toggleClass(t.call(this,i,B(this),e),e)}):this.each(function(){var e,n,o,s;if("string"===i)for(n=0,o=ot(this),s=t.match(bt)||[];e=s[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||(e=B(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+B(i)+" ").replace(de," ").indexOf(e)>-1)return!0;return!1}});var ue=/\r/g,ce=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=ot.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,ot(this).val()):t,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(t){return null==t?"":t+""})),(e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return(e=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(ue,""):null==i?"":i)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(ce," ")}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||o<0,r=s?null:[],a=s?o+1:n.length,l=o<0?a:s?o:0;l<a;l++)if(i=n[l],(i.selected||l===o)&&(nt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ot.nodeName(i.parentNode,"optgroup"))){if(e=ot(i).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,s=ot.makeArray(e),r=o.length;r--;)n=o[r],(n.selected=ot.inArray(ot.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){if(ot.isArray(e))return t.checked=ot.inArray(ot(t).val(),e)>-1}},nt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var pe=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,i,n,o){var s,r,a,l,h,d,u,c=[n||X],p=it.call(e,"type")?e.type:e,f=it.call(e,"namespace")?e.namespace.split("."):[];if(r=a=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!pe.test(p+ot.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),h=p.indexOf(":")<0&&"on"+p,e=e[ot.expando]?e:new ot.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ot.makeArray(i,[e]),u=ot.event.special[p]||{},o||!u.trigger||!1!==u.trigger.apply(n,i))){if(!o&&!u.noBubble&&!ot.isWindow(n)){for(l=u.delegateType||p,pe.test(l+p)||(r=r.parentNode);r;r=r.parentNode)c.push(r),a=r;a===(n.ownerDocument||X)&&c.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=c[s++])&&!e.isPropagationStopped();)e.type=s>1?l:u.bindType||p,d=(St.get(r,"events")||{})[e.type]&&St.get(r,"handle"),d&&d.apply(r,i),(d=h&&r[h])&&d.apply&&xt(r)&&(e.result=d.apply(r,i),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(c.pop(),i)||!xt(n)||h&&ot.isFunction(n[p])&&!ot.isWindow(n)&&(a=n[h],a&&(n[h]=null),ot.event.triggered=p,n[p](),ot.event.triggered=void 0,a&&(n[h]=a)),e.result}},simulate:function(t,e,i){var n=ot.extend(new ot.Event,i,{type:t,isSimulated:!0});ot.event.trigger(n,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return ot.event.trigger(t,e,i,!0)}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),nt.focusin="onfocusin"in t,nt.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=St.access(n,e);o||n.addEventListener(t,i,!0),St.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=St.access(n,e)-1;o?St.access(n,e,o):(n.removeEventListener(t,i,!0),St.remove(n,e))}}});var fe=t.location,me=ot.now(),ge=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),i};var ve=/#.*$/,ye=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,_e=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,we=/^(?:GET|HEAD)$/,xe=/^\/\//,Se={},Ce={},De="*/".concat("*"),Te=X.createElement("a");Te.href=fe.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fe.href,type:"GET",isLocal:_e.test(fe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":De,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,ot.ajaxSettings),e):$(ot.ajaxSettings,t)},ajaxPrefilter:H(Se),ajaxTransport:H(Ce),ajax:function(e,i){function n(e,i,n,a){var h,u,y,b,w,S=i;2!==_&&(_=2,l&&t.clearTimeout(l),o=void 0,r=a||"",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,n&&(b=Y(c,x,n)),b=G(c,b,x,h),h?(c.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ot.lastModified[s]=w),(w=x.getResponseHeader("etag"))&&(ot.etag[s]=w)),204===e||"HEAD"===c.type?S="nocontent":304===e?S="notmodified":(S=b.state,u=b.data,y=b.error,h=!y)):(y=S,!e&&S||(S="error",e<0&&(e=0))),x.status=e,x.statusText=(i||S)+"",h?m.resolveWith(p,[u,S,x]):m.rejectWith(p,[x,S,y]),x.statusCode(v),v=void 0,d&&f.trigger(h?"ajaxSuccess":"ajaxError",[x,c,h?u:y]),g.fireWith(p,[x,S]),d&&(f.trigger("ajaxComplete",[x,c]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,s,r,a,l,h,d,u,c=ot.ajaxSetup({},i),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?ot(p):ot.event,m=ot.Deferred(),g=ot.Callbacks("once memory"),v=c.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=be.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return _||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return o&&o.abort(e),n(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||fe.href)+"").replace(ve,"").replace(xe,fe.protocol+"//"),c.type=i.method||i.type||c.method||c.type,c.dataTypes=ot.trim(c.dataType||"*").toLowerCase().match(bt)||[""],null==c.crossDomain){h=X.createElement("a");try{h.href=c.url,h.href=h.href,c.crossDomain=Te.protocol+"//"+Te.host!=h.protocol+"//"+h.host}catch(t){c.crossDomain=!0}}if(c.data&&c.processData&&"string"!=typeof c.data&&(c.data=ot.param(c.data,c.traditional)),W(Se,c,i,x),2===_)return x;d=ot.event&&c.global,d&&0==ot.active++&&ot.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!we.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(ge.test(s)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=ye.test(s)?s.replace(ye,"$1_="+me++):s+(ge.test(s)?"&":"?")+"_="+me++)),c.ifModified&&(ot.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[s]),ot.etag[s]&&x.setRequestHeader("If-None-Match",ot.etag[s])),(c.data&&c.hasContent&&!1!==c.contentType||i.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+De+"; q=0.01":""):c.accepts["*"]);for(u in c.headers)x.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(p,x,c)||2===_))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](c[u]);if(o=W(Ce,c,i,x)){if(x.readyState=1,d&&f.trigger("ajaxSend",[x,c]),2===_)return x;c.async&&c.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},c.timeout));try{_=1,o.send(y,n)}catch(t){if(!(_<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return ot.get(t,e,i,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,i,n,o){return ot.isFunction(i)&&(o=o||n,n=i,i=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:o,data:i,success:n},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){
return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(i){ot(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var ke=/%20/g,Oe=/\[\]$/,Ee=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var i,n=[],o=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){o(this.name,this.value)});else for(i in t)V(i,t[i],e,o);return n.join("&").replace(ke,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ie.test(this.nodeName)&&!Me.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var i=ot(this).val();return null==i?null:ot.isArray(i)?ot.map(i,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:i.replace(Ee,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Pe={0:200,1223:204},Ne=ot.ajaxSettings.xhr();nt.cors=!!Ne&&"withCredentials"in Ne,nt.ajax=Ne=!!Ne,ot.ajaxTransport(function(e){var i,n;if(nt.cors||Ne&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)a.setRequestHeader(r,o[r]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Pe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),X.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ae=[],Re=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ae.pop()||ot.expando+"_"+me++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,i,n){var o,s,r,a=!1!==e.jsonp&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Re,"$1"+o):!1!==e.jsonp&&(e.url+=(ge.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||ot.error(o+" was not called"),r[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){r=arguments},n.always(function(){void 0===s?ot(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=i.jsonpCallback,Ae.push(o)),r&&ot.isFunction(s)&&s(r[0]),r=s=void 0}),"script"}),ot.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||X;var n=pt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=c([t],e,o),o&&o.length&&ot(o).remove(),ot.merge([],n.childNodes))};var Le=ot.fn.load;ot.fn.load=function(t,e,i){if("string"!=typeof t&&Le)return Le.apply(this,arguments);var n,o,s,r=this,a=t.indexOf(" ");return a>-1&&(n=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&ot.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?ot("<div>").append(ot.parseHTML(t)).find(n):t)}).always(i&&function(t,e){r.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,i){var n,o,s,r,a,l,h,d=ot.css(t,"position"),u=ot(t),c={};"static"===d&&(t.style.position="relative"),a=u.offset(),s=ot.css(t,"top"),l=ot.css(t,"left"),h=("absolute"===d||"fixed"===d)&&(s+l).indexOf("auto")>-1,h?(n=u.position(),r=n.top,o=n.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,i,ot.extend({},a))),null!=e.top&&(c.top=e.top-a.top+r),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):u.css(c)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},s=n&&n.ownerDocument;if(s)return e=s.documentElement,ot.contains(e,n)?(o=n.getBoundingClientRect(),i=q(s),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===ot.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(n=t.offset()),n.top+=ot.css(t[0],"borderTopWidth",!0),n.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ot.css(i,"marginTop",!0),left:e.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Kt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;ot.fn[t]=function(n){return wt(this,function(t,n,o){var s=q(t);if(void 0===o)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:o,i?o:s.pageYOffset):t[n]=o},t,n,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=k(nt.pixelPosition,function(t,i){if(i)return i=T(t,e),qt.test(i)?ot(t).position()[e]+"px":i})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ot.fn[n]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),r=i||(!0===n||!0===o?"margin":"border");return wt(this,function(e,i,n){var o;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?ot.css(e,i,r):ot.style(e,i,n,r)},e,s?n:void 0,s,null)}})}),ot.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var ze=t.jQuery,Fe=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Fe),e&&t.jQuery===ot&&(t.jQuery=ze),ot},e||(t.jQuery=t.$=ot),ot}),function(t){"use strict";"function"==typeof define&&define.amd?define("datatables.net",["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";function o(e){var i,n,s="a aa ai ao as b fn i m o s ",r={};t.each(e,function(t,a){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!==s.indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&o(e[t]))}),e._hungarianMap=r}function s(e,i,r){e._hungarianMap||o(e);var a;t.each(i,function(o,l){(a=e._hungarianMap[o])===n||!r&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),t.extend(!0,i[a],i[o]),s(e[a],i[a],r)):i[a]=i[o])})}function r(t){var e=Ut.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Nt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Nt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var n=t.sDecimal;n&&Wt(n)}function a(t){fe(t,"ordering","bSort"),fe(t,"orderMulti","bSortMulti"),fe(t,"orderClasses","bSortClasses"),fe(t,"orderCellsTop","bSortCellsTop"),fe(t,"order","aaSorting"),fe(t,"orderFixed","aaSortingFixed"),fe(t,"paging","bPaginate"),fe(t,"pagingType","sPaginationType"),fe(t,"pageLength","iDisplayLength"),fe(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&s(Ut.models.oSearch,e[i])}function l(e){fe(e,"orderable","bSortable"),fe(e,"orderData","aDataSort"),fe(e,"orderSequence","asSorting"),fe(e,"orderDataType","sortDataType");var i=e.aDataSort;"number"!=typeof i||t.isArray(i)||(e.aDataSort=[i])}function h(i){if(!Ut.__browser){var n={};Ut.__browser=n;var o=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),s=o.children(),r=s.children();n.barWidth=s[0].offsetWidth-s[0].clientWidth,n.bScrollOversize=100===r[0].offsetWidth&&100!==s[0].clientWidth,n.bScrollbarLeft=1!==Math.round(r.offset().left),n.bBounding=!!o[0].getBoundingClientRect().width,o.remove()}t.extend(i.oBrowser,Ut.__browser),i.oScroll.iBarWidth=Ut.__browser.barWidth}function d(t,e,i,o,s,r){var a,l=o,h=!1;for(i!==n&&(a=i,h=!0);l!==s;)t.hasOwnProperty(l)&&(a=h?e(a,t[l],l,t):t[l],h=!0,l+=r);return a}function u(e,n){var o=Ut.defaults.column,s=e.aoColumns.length,r=t.extend({},Ut.models.oColumn,o,{nTh:n||i.createElement("th"),sTitle:o.sTitle?o.sTitle:n?n.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[s],mData:o.mData?o.mData:s,idx:s});e.aoColumns.push(r);var a=e.aoPreSearchCols;a[s]=t.extend({},Ut.models.oSearch,a[s]),c(e,s,t(n).data())}function c(e,i,o){var r=e.aoColumns[i],a=e.oClasses,h=t(r.nTh);if(!r.sWidthOrig){r.sWidthOrig=h.attr("width")||null;var d=(h.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(r.sWidthOrig=d[1])}o!==n&&null!==o&&(l(o),s(Ut.defaults.column,o),o.mDataProp===n||o.mData||(o.mData=o.mDataProp),o.sType&&(r._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),o.sClass&&h.addClass(o.sClass),t.extend(r,o),Nt(r,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(r.aDataSort=[o.iDataSort]),Nt(r,o,"aDataSort"));var u=r.mData,c=k(u),p=r.mRender?k(r.mRender):null,f=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};r._bAttrSrc=t.isPlainObject(u)&&(f(u.sort)||f(u.type)||f(u.filter)),r._setter=null,r.fnGetData=function(t,e,i){var o=c(t,e,n,i);return p&&e?p(o,e,t,i):o},r.fnSetData=function(t,e,i){return O(u)(t,e,i)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(r.bSortable=!1,h.addClass(a.sSortableNone));var m=-1!==t.inArray("asc",r.asSorting),g=-1!==t.inArray("desc",r.asSorting);r.bSortable&&(m||g)?m&&!g?(r.sSortingClass=a.sSortableAsc,r.sSortingClassJUI=a.sSortJUIAscAllowed):!m&&g?(r.sSortingClass=a.sSortableDesc,r.sSortingClassJUI=a.sSortJUIDescAllowed):(r.sSortingClass=a.sSortable,r.sSortingClassJUI=a.sSortJUI):(r.sSortingClass=a.sSortableNone,r.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;vt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var o=t.oScroll;""===o.sY&&""===o.sX||mt(t),zt(t,null,"column-sizing",[t])}function f(t,e){var i=v(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function m(e,i){var n=v(e,"bVisible"),o=t.inArray(i,n);return-1!==o?o:null}function g(e){var i=0;return t.each(e.aoColumns,function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&i++}),i}function v(e,i){var n=[];return t.map(e.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function y(t){var e,i,o,s,r,a,l,h,d,u=t.aoColumns,c=t.aoData,p=Ut.ext.type.detect;for(e=0,i=u.length;e<i;e++)if(l=u[e],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,s=p.length;o<s;o++){for(r=0,a=c.length;r<a&&(d[r]===n&&(d[r]=C(t,r,e,"type")),(h=p[o](d[r],t))||o===p.length-1)&&"html"!==h;r++);if(h){l.sType=h;break}}l.sType||(l.sType="string")}}function b(e,i,o,s){var r,a,l,h,d,c,p,f=e.aoColumns;if(i)for(r=i.length-1;r>=0;r--){p=i[r];var m=p.targets!==n?p.targets:p.aTargets;for(t.isArray(m)||(m=[m]),l=0,h=m.length;l<h;l++)if("number"==typeof m[l]&&m[l]>=0){for(;f.length<=m[l];)u(e);s(m[l],p)}else if("number"==typeof m[l]&&m[l]<0)s(f.length+m[l],p);else if("string"==typeof m[l])for(d=0,c=f.length;d<c;d++)("_all"==m[l]||t(f[d].nTh).hasClass(m[l]))&&s(d,p)}if(o)for(r=0,a=o.length;r<a;r++)s(r,o[r])}function _(e,i,o,s){var r=e.aoData.length,a=t.extend(!0,{},Ut.models.oRow,{src:o?"dom":"data",idx:r});a._aData=i,e.aoData.push(a);for(var l=e.aoColumns,h=0,d=l.length;h<d;h++)l[h].sType=null;e.aiDisplayMaster.push(r);var u=e.rowIdFn(i);return u!==n&&(e.aIds[u]=a),!o&&e.oFeatures.bDeferRender||A(e,r,o,s),r}function w(e,i){var n;return i instanceof t||(i=t(i)),i.map(function(t,i){return n=N(e,i),_(e,n.data,i,n.cells)})}function x(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null}function S(e,i,n){return t.inArray(n,e.aoData[i].anCells)}function C(t,e,i,o){var s=t.iDraw,r=t.aoColumns[i],a=t.aoData[e]._aData,l=r.sDefaultContent,h=r.fnGetData(a,o,{settings:t,row:e,col:i});if(h===n)return t.iDrawError!=s&&null===l&&(Pt(t,0,"Requested unknown parameter "+("function"==typeof r.mData?"{function}":"'"+r.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=s),l;if(h!==a&&null!==h||null===l||o===n){if("function"==typeof h)return h.call(a)}else h=l;return null===h&&"display"==o?"":h}function D(t,e,i,n){var o=t.aoColumns[i],s=t.aoData[e]._aData;o.fnSetData(s,n,{settings:t,row:e,col:i})}function T(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function k(e){if(t.isPlainObject(e)){var i={};return t.each(e,function(t,e){e&&(i[t]=k(e))}),function(t,e,o,s){var r=i[e]||i._;return r!==n?r(t,e,o,s):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,o){return e(t,i,n,o)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){return t[e]};var o=function(e,i,s){var r,a,l,h;if(""!==s)for(var d=T(s),u=0,c=d.length;u<c;u++){if(r=d[u].match(me),a=d[u].match(ge),r){if(d[u]=d[u].replace(me,""),""!==d[u]&&(e=e[d[u]]),l=[],d.splice(0,u+1),h=d.join("."),t.isArray(e))for(var p=0,f=e.length;p<f;p++)l.push(o(e[p],i,h));var m=r[0].substring(1,r[0].length-1);e=""===m?l:l.join(m);break}if(a)d[u]=d[u].replace(ge,""),e=e[d[u]]();else{if(null===e||e[d[u]]===n)return n;e=e[d[u]]}}return e};return function(t,i){return o(t,i,e)}}function O(e){if(t.isPlainObject(e))return O(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var i=function(e,o,s){for(var r,a,l,h,d,u=T(s),c=u[u.length-1],p=0,f=u.length-1;p<f;p++){if(a=u[p].match(me),l=u[p].match(ge),a){if(u[p]=u[p].replace(me,""),e[u[p]]=[],r=u.slice(),r.splice(0,p+1),d=r.join("."),t.isArray(o))for(var m=0,g=o.length;m<g;m++)h={},i(h,o[m],d),e[u[p]].push(h);else e[u[p]]=o;return}l&&(u[p]=u[p].replace(ge,""),e=e[u[p]](o)),null!==e[u[p]]&&e[u[p]]!==n||(e[u[p]]={}),e=e[u[p]]}c.match(ge)?e=e[c.replace(ge,"")](o):e[c.replace(me,"")]=o};return function(t,n){return i(t,n,e)}}function E(t){return ae(t.aoData,"_aData")}function M(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function I(t,e,i){for(var o=-1,s=0,r=t.length;s<r;s++)t[s]==e?o=s:t[s]>e&&t[s]--;-1!=o&&i===n&&t.splice(o,1)}function P(t,e,i,o){var s,r,a=t.aoData[e],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=C(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==a.src)){var h=a.anCells;if(h)if(o!==n)l(h[o],o);else for(s=0,r=h.length;s<r;s++)l(h[s],s)}else a._aData=N(t,a,o,o===n?n:a._aData).data;a._aSortData=null,a._aFilterData=null;var d=t.aoColumns;if(o!==n)d[o].sType=null;else{for(s=0,r=d.length;s<r;s++)d[s].sType=null;R(t,a)}}function N(e,i,o,s){var r,a,l,h=[],d=i.firstChild,u=0,c=e.aoColumns,p=e._rowReadObject;s=s!==n?s:p?{}:[];var f=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var n=t.substring(i+1);O(t)(s,e.getAttribute(n))}}},m=function(e){if(o===n||o===u)if(a=c[u],l=t.trim(e.innerHTML),a&&a._bAttrSrc){var i=O(a.mData._);i(s,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)}else p?(a._setter||(a._setter=O(a.mData)),a._setter(s,l)):s[u]=l;u++};if(d)for(;d;)r=d.nodeName.toUpperCase(),"TD"!=r&&"TH"!=r||(m(d),h.push(d)),d=d.nextSibling;else{h=i.anCells;for(var g=0,v=h.length;g<v;g++)m(h[g])}var y=i.firstChild?i:i.nTr;if(y){var b=y.getAttribute("id");b&&O(e.rowId)(s,b)}return{data:s,cells:h}}function A(e,n,o,s){var r,a,l,h,d,u=e.aoData[n],c=u._aData,p=[];if(null===u.nTr){for(r=o||i.createElement("tr"),u.nTr=r,u.anCells=p,r._DT_RowIndex=n,R(e,u),h=0,d=e.aoColumns.length;h<d;h++)l=e.aoColumns[h],a=o?s[h]:i.createElement(l.sCellType),a._DT_CellIndex={row:n,column:h},p.push(a),o&&!l.mRender&&l.mData===h||t.isPlainObject(l.mData)&&l.mData._===h+".display"||(a.innerHTML=C(e,n,h,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!o?r.appendChild(a):!l.bVisible&&o&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,C(e,n,h),c,n,h);zt(e,"aoRowCreatedCallback",null,[r,c,n])}u.nTr.setAttribute("role","row")}function R(e,i){var n=i.nTr,o=i._aData;if(n){var s=e.rowIdFn(o);if(s&&(n.id=s),o.DT_RowClass){var r=o.DT_RowClass.split(" ");i.__rowc=i.__rowc?pe(i.__rowc.concat(r)):r,t(n).removeClass(i.__rowc.join(" ")).addClass(o.DT_RowClass)}o.DT_RowAttr&&t(n).attr(o.DT_RowAttr),o.DT_RowData&&t(n).data(o.DT_RowData)}}function L(e){var i,n,o,s,r,a=e.nTHead,l=e.nTFoot,h=0===t("th, td",a).length,d=e.oClasses,u=e.aoColumns;for(h&&(s=t("<tr/>").appendTo(a)),i=0,n=u.length;i<n;i++)r=u[i],o=t(r.nTh).addClass(r.sClass),h&&o.appendTo(s),e.oFeatures.bSort&&(o.addClass(r.sSortingClass),!1!==r.bSortable&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Tt(e,r.nTh,i))),r.sTitle!=o[0].innerHTML&&o.html(r.sTitle),jt(e,"header")(e,o,r,d);if(h&&H(e.aoHeader,a),t(a).find(">tr").attr("role","row"),t(a).find(">tr>th, >tr>td").addClass(d.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l){var c=e.aoFooter[0];for(i=0,n=c.length;i<n;i++)r=u[i],r.nTf=c[i].cell,r.sClass&&t(r.nTf).addClass(r.sClass)}}function z(e,i,o){var s,r,a,l,h,d,u,c,p,f=[],m=[],g=e.aoColumns.length;if(i){for(o===n&&(o=!1),s=0,r=i.length;s<r;s++){for(f[s]=i[s].slice(),f[s].nTr=i[s].nTr,a=g-1;a>=0;a--)e.aoColumns[a].bVisible||o||f[s].splice(a,1);m.push([])}for(s=0,r=f.length;s<r;s++){if(u=f[s].nTr)for(;d=u.firstChild;)u.removeChild(d);for(a=0,l=f[s].length;a<l;a++)if(c=1,p=1,m[s][a]===n){for(u.appendChild(f[s][a].cell),m[s][a]=1;f[s+c]!==n&&f[s][a].cell==f[s+c][a].cell;)m[s+c][a]=1,c++;for(;f[s][a+p]!==n&&f[s][a].cell==f[s][a+p].cell;){for(h=0;h<c;h++)m[s+h][a+p]=1;p++}t(f[s][a].cell).attr("rowspan",c).attr("colspan",p)}}}}function F(e){var i=zt(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,i))return void pt(e,!1);var o=[],s=0,r=e.asStripeClasses,a=r.length,l=(e.aoOpenRows.length,e.oLanguage),h=e.iInitDisplayStart,d="ssp"==Bt(e),u=e.aiDisplay;e.bDrawing=!0,h!==n&&-1!==h&&(e._iDisplayStart=d?h:h>=e.fnRecordsDisplay()?0:h,e.iInitDisplayStart=-1);var c=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,pt(e,!1);else if(d){if(!e.bDestroying&&!Y(e))return}else e.iDraw++;if(0!==u.length)for(var f=d?0:c,m=d?e.aoData.length:p,v=f;v<m;v++){var y=u[v],b=e.aoData[y];null===b.nTr&&A(e,y);var _=b.nTr;if(0!==a){var w=r[s%a];b._sRowStripe!=w&&(t(_).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}zt(e,"aoRowCallback",null,[_,b._aData,s,v]),o.push(_),s++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==Bt(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),o[0]=t("<tr/>",{class:a?r[0]:""}).append(t("<td />",{valign:"top",colSpan:g(e),class:e.oClasses.sRowEmpty}).html(x))[0]}zt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],E(e),c,p,u]),zt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],E(e),c,p,u]);var S=t(e.nTBody);S.children().detach(),S.append(t(o)),zt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function j(t,e){var i=t.oFeatures,n=i.bSort,o=i.bFilter;n&&St(t),o?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,F(t),t._drawHold=!1}function B(e){var i=e.oClasses,n=t(e.nTable),o=t("<div/>").insertBefore(n),s=e.oFeatures,r=t("<div/>",{id:e.sTableId+"_wrapper",class:i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,l,h,d,u,c,p=e.sDom.split(""),f=0;f<p.length;f++){if(a=null,"<"==(l=p[f])){if(h=t("<div/>")[0],"'"==(d=p[f+1])||'"'==d){for(u="",c=2;p[f+c]!=d;)u+=p[f+c],c++;if("H"==u?u=i.sJUIHeader:"F"==u&&(u=i.sJUIFooter),-1!=u.indexOf(".")){var m=u.split(".");h.id=m[0].substr(1,m[0].length-1),h.className=m[1]}else"#"==u.charAt(0)?h.id=u.substr(1,u.length-1):h.className=u;f+=c}r.append(h),r=t(h)}else if(">"==l)r=r.parent();else if("l"==l&&s.bPaginate&&s.bLengthChange)a=ht(e);else if("f"==l&&s.bFilter)a=U(e);else if("r"==l&&s.bProcessing)a=ct(e);else if("t"==l)a=ft(e);else if("i"==l&&s.bInfo)a=nt(e);else if("p"==l&&s.bPaginate)a=dt(e);else if(0!==Ut.ext.feature.length)for(var g=Ut.ext.feature,v=0,y=g.length;v<y;v++)if(l==g[v].cFeature){a=g[v].fnInit(e);break}if(a){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(a),r.append(a)}}o.replaceWith(r),e.nHolding=null}function H(e,i){var n,o,s,r,a,l,h,d,u,c,p,f=t(i).children("tr");for(e.splice(0,e.length),s=0,l=f.length;s<l;s++)e.push([]);for(s=0,l=f.length;s<l;s++)for(n=f[s],d=0,o=n.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase())for(u=1*o.getAttribute("colspan"),c=1*o.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,c=c&&0!==c&&1!==c?c:1,h=function(t,e,i){for(var n=t[e];n[i];)i++;return i}(e,s,d),p=1===u,a=0;a<u;a++)for(r=0;r<c;r++)e[s+r][h+a]={cell:o,unique:p},e[s+r].nTr=n;o=o.nextSibling}}function W(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],H(i,e)));for(var o=0,s=i.length;o<s;o++)for(var r=0,a=i[o].length;r<a;r++)!i[o][r].unique||n[r]&&t.bSortCellsTop||(n[r]=i[o][r].cell);return n}function $(e,i,n){if(zt(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var o={},s=/(.*?)\[\]$/;t.each(i,function(t,e){var i=e.name.match(s);if(i){var n=i[0];o[n]||(o[n]=[]),o[n].push(e.value)}else o[e.name]=e.value}),i=o}var r,a=e.ajax,l=e.oInstance,h=function(t){zt(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(a)&&a.data){r=a.data;var d=t.isFunction(r)?r(i,e):r;i=t.isFunction(r)&&d?d:t.extend(!0,i,d),delete a.data}var u={data:i,success:function(t){var i=t.error||t.sError;i&&Pt(e,0,i),e.json=t,h(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n,o){var s=zt(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,s)&&("parsererror"==n?Pt(e,0,"Invalid JSON response",1):4===i.readyState&&Pt(e,0,"Ajax error",7)),pt(e,!1)}};e.oAjaxData=i,zt(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,function(t,e){return{name:e,value:t}}),h,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(u,{url:a||e.sAjaxSource})):t.isFunction(a)?e.jqXHR=a.call(l,i,h,e):(e.jqXHR=t.ajax(t.extend(u,a)),a.data=r)}function Y(t){return!t.bAjaxDataGet||(t.iDraw++,pt(t,!0),$(t,G(t),function(e){V(t,e)}),!1)}function G(e){var i,n,o,s,r=e.aoColumns,a=r.length,l=e.oFeatures,h=e.oPreviousSearch,d=e.aoPreSearchCols,u=[],c=xt(e),p=e._iDisplayStart,f=!1!==l.bPaginate?e._iDisplayLength:-1,m=function(t,e){u.push({name:t,value:e})};m("sEcho",e.iDraw),m("iColumns",a),m("sColumns",ae(r,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",f);var g={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:h.sSearch,regex:h.bRegex}};for(i=0;i<a;i++)o=r[i],s=d[i],n="function"==typeof o.mData?"function":o.mData,g.columns.push({data:n,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),m("mDataProp_"+i,n),l.bFilter&&(m("sSearch_"+i,s.sSearch),m("bRegex_"+i,s.bRegex),m("bSearchable_"+i,o.bSearchable)),l.bSort&&m("bSortable_"+i,o.bSortable);l.bFilter&&(m("sSearch",h.sSearch),m("bRegex",h.bRegex)),l.bSort&&(t.each(c,function(t,e){g.order.push({column:e.col,dir:e.dir}),m("iSortCol_"+t,e.col),m("sSortDir_"+t,e.dir)}),m("iSortingCols",c.length));var v=Ut.ext.legacy.ajax;return null===v?e.sAjaxSource?u:g:v?u:g}function V(t,e){var i=function(t,i){return e[t]!==n?e[t]:e[i]},o=q(t,e),s=i("sEcho","draw"),r=i("iTotalRecords","recordsTotal"),a=i("iTotalDisplayRecords","recordsFiltered");if(s){if(1*s<t.iDraw)return;t.iDraw=1*s}M(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(a,10);for(var l=0,h=o.length;l<h;l++)_(t,o[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,F(t),t._bInitComplete||at(t,e),t.bAjaxDataGet=!0,pt(t,!1)}function q(e,i){var o=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===o?i.aaData||i[o]:""!==o?k(o)(i):i}function U(e){var n=e.oClasses,o=e.sTableId,s=e.oLanguage,r=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',h=s.sSearch;h=h.match(/_INPUT_/)?h.replace("_INPUT_",l):h+l;var d=t("<div/>",{id:a.f?null:o+"_filter",class:n.sFilter}).append(t("<label/>").append(h)),u=function(){var t=(a.f,this.value?this.value:"");t!=r.sSearch&&(X(e,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),e._iDisplayStart=0,F(e))},c=null!==e.searchDelay?e.searchDelay:"ssp"===Bt(e)?400:0,p=t("input",d).val(r.sSearch).attr("placeholder",s.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",c?we(u,c):u).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",o);return t(e.nTable).on("search.dt.DT",function(t,n){if(e===n)try{p[0]!==i.activeElement&&p.val(r.sSearch)}catch(t){}}),d[0]}function X(t,e,i){var o=t.oPreviousSearch,s=t.aoPreSearchCols,r=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive},a=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(y(t),"ssp"!=Bt(t)){J(t,e.sSearch,i,a(e),e.bSmart,e.bCaseInsensitive),r(e);for(var l=0;l<s.length;l++)Z(t,s[l].sSearch,l,a(s[l]),s[l].bSmart,s[l].bCaseInsensitive);K(t)}else r(e);t.bFiltered=!0,zt(t,null,"search",[t])}function K(e){for(var i,n,o=Ut.ext.search,s=e.aiDisplay,r=0,a=o.length;r<a;r++){for(var l=[],h=0,d=s.length;h<d;h++)n=s[h],i=e.aoData[n],o[r](e,i._aFilterData,n,i._aData,h)&&l.push(n);s.length=0,t.merge(s,l)}}function Z(t,e,i,n,o,s){if(""!==e){for(var r,a=[],l=t.aiDisplay,h=Q(e,n,o,s),d=0;d<l.length;d++)r=t.aoData[l[d]]._aFilterData[i],h.test(r)&&a.push(l[d]);t.aiDisplay=a}}function J(t,e,i,n,o,s){var r,a,l,h=Q(e,n,o,s),d=t.oPreviousSearch.sSearch,u=t.aiDisplayMaster,c=[];if(0!==Ut.ext.search.length&&(i=!0),a=tt(t),e.length<=0)t.aiDisplay=u.slice();else{for((a||i||d.length>e.length||0!==e.indexOf(d)||t.bSorted)&&(t.aiDisplay=u.slice()),r=t.aiDisplay,l=0;l<r.length;l++)h.test(t.aoData[r[l]]._sFilterRow)&&c.push(r[l]);t.aiDisplay=c}}function Q(e,i,n,o){if(e=i?e:ve(e),n){e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"}return new RegExp(e,o?"i":"")}function tt(t){var e,i,n,o,s,r,a,l,h=t.aoColumns,d=Ut.ext.type.search,u=!1;for(i=0,o=t.aoData.length;i<o;i++)if(l=t.aoData[i],!l._aFilterData){for(r=[],n=0,s=h.length;n<s;n++)e=h[n],e.bSearchable?(a=C(t,i,n,"filter"),d[e.sType]&&(a=d[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(ye.innerHTML=a,a=be?ye.textContent:ye.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),r.push(a);l._aFilterData=r,l._sFilterRow=r.join("  "),u=!0}return u}function et(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function it(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(e){var i=e.sTableId,n=e.aanFeatures.i,o=t("<div/>",{class:e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:ot,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),o[0]}function ot(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,o=e._iDisplayStart+1,s=e.fnDisplayEnd(),r=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==r&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=st(e,l);var h=n.fnInfoCallback;null!==h&&(l=h.call(e.oInstance,e,o,s,r,a,l)),t(i).html(l)}}function st(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,o=t._iDisplayLength,s=t.fnRecordsDisplay(),r=-1===o;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,s)).replace(/_PAGE_/g,i.call(t,r?1:Math.ceil(n/o))).replace(/_PAGES_/g,i.call(t,r?1:Math.ceil(s/o)))}function rt(t){var e,i,n,o=t.iInitDisplayStart,s=t.aoColumns,r=t.oFeatures,a=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){rt(t)},200);for(B(t),L(t),z(t,t.aoHeader),z(t,t.aoFooter),pt(t,!0),r.bAutoWidth&&vt(t),e=0,i=s.length;e<i;e++)n=s[e],n.sWidth&&(n.nTh.style.width=wt(n.sWidth));zt(t,null,"preInit",[t]),j(t);var l=Bt(t);("ssp"!=l||a)&&("ajax"==l?$(t,[],function(i){var n=q(t,i);for(e=0;e<n.length;e++)_(t,n[e]);t.iInitDisplayStart=o,j(t),pt(t,!1),at(t,i)},t):(pt(t,!1),at(t)))}function at(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),zt(t,null,"plugin-init",[t,e]),zt(t,"aoInitComplete","init",[t,e])}function lt(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Ft(t),zt(t,null,"length",[t,i])}function ht(e){for(var i=e.oClasses,n=e.sTableId,o=e.aLengthMenu,s=t.isArray(o[0]),r=s?o[0]:o,a=s?o[1]:o,l=t("<select/>",{name:n+"_length","aria-controls":n,class:i.sLengthSelect}),h=0,d=r.length;h<d;h++)l[0][h]=new Option("number"==typeof a[h]?e.fnFormatNumber(a[h]):a[h],r[h])
;var u=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(u[0].id=n+"_length"),u.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",u).val(e._iDisplayLength).on("change.DT",function(i){lt(e,t(this).val()),F(e)}),t(e.nTable).on("length.dt.DT",function(i,n,o){e===n&&t("select",u).val(o)}),u[0]}function dt(e){var i=e.sPaginationType,n=Ut.ext.pager[i],o="function"==typeof n,s=function(t){F(t)},r=t("<div/>").addClass(e.oClasses.sPaging+i)[0],a=e.aanFeatures;return o||n.fnInit(e,r,s),a.p||(r.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(o){var e,i,r=t._iDisplayStart,l=t._iDisplayLength,h=t.fnRecordsDisplay(),d=-1===l,u=d?0:Math.ceil(r/l),c=d?1:Math.ceil(h/l),p=n(u,c);for(e=0,i=a.p.length;e<i;e++)jt(t,"pageButton")(t,a.p[e],e,p,u,c)}else n.fnUpdate(t,s)},sName:"pagination"})),r}function ut(t,e,i){var n=t._iDisplayStart,o=t._iDisplayLength,s=t.fnRecordsDisplay();0===s||-1===o?n=0:"number"==typeof e?(n=e*o)>s&&(n=0):"first"==e?n=0:"previous"==e?(n=o>=0?n-o:0)<0&&(n=0):"next"==e?n+o<s&&(n+=o):"last"==e?n=Math.floor((s-1)/o)*o:Pt(t,0,"Unknown paging action: "+e,5);var r=t._iDisplayStart!==n;return t._iDisplayStart=n,r&&(zt(t,null,"page",[t]),i&&F(t)),r}function ct(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function pt(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),zt(e,null,"processing",[e,i])}function ft(e){var i=t(e.nTable);i.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var o=n.sX,s=n.sY,r=e.oClasses,a=i.children("caption"),l=a.length?a[0]._captionSide:null,h=t(i[0].cloneNode(!1)),d=t(i[0].cloneNode(!1)),u=i.children("tfoot"),c="<div/>",p=function(t){return t?wt(t):null};u.length||(u=null);var f=t(c,{class:r.sScrollWrapper}).append(t(c,{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?p(o):"100%"}).append(t(c,{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(h.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(i.children("thead"))))).append(t(c,{class:r.sScrollBody}).css({position:"relative",overflow:"auto",width:p(o)}).append(i));u&&f.append(t(c,{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:o?p(o):"100%"}).append(t(c,{class:r.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(i.children("tfoot")))));var m=f.children(),g=m[0],v=m[1],y=u?m[2]:null;return o&&t(v).on("scroll.DT",function(t){var e=this.scrollLeft;g.scrollLeft=e,u&&(y.scrollLeft=e)}),t(v).css(s&&n.bCollapse?"max-height":"height",s),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:mt,sName:"scrolling"}),f[0]}function mt(e){var i,o,s,r,a,l,h,d,u,c=e.oScroll,m=c.sX,g=c.sXInner,v=c.sY,y=c.iBarWidth,b=t(e.nScrollHead),_=b[0].style,w=b.children("div"),x=w[0].style,S=w.children("table"),C=e.nScrollBody,D=t(C),T=C.style,k=t(e.nScrollFoot),O=k.children("div"),E=O.children("table"),M=t(e.nTHead),I=t(e.nTable),P=I[0],N=P.style,A=e.nTFoot?t(e.nTFoot):null,R=e.oBrowser,L=R.bScrollOversize,z=ae(e.aoColumns,"nTh"),F=[],j=[],B=[],H=[],$=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},Y=C.scrollHeight>C.clientHeight;if(e.scrollBarVis!==Y&&e.scrollBarVis!==n)return e.scrollBarVis=Y,void p(e);e.scrollBarVis=Y,I.children("thead, tfoot").remove(),A&&(l=A.clone().prependTo(I),o=A.find("tr"),r=l.find("tr")),a=M.clone().prependTo(I),i=M.find("tr"),s=a.find("tr"),a.find("th, td").removeAttr("tabindex"),m||(T.width="100%",b[0].style.width="100%"),t.each(W(e,a),function(t,i){h=f(e,t),i.style.width=e.aoColumns[h].sWidth}),A&&gt(function(t){t.style.width=""},r),u=I.outerWidth(),""===m?(N.width="100%",L&&(I.find("tbody").height()>C.offsetHeight||"scroll"==D.css("overflow-y"))&&(N.width=wt(I.outerWidth()-y)),u=I.outerWidth()):""!==g&&(N.width=wt(g),u=I.outerWidth()),gt($,s),gt(function(e){B.push(e.innerHTML),F.push(wt(t(e).css("width")))},s),gt(function(e,i){-1!==t.inArray(e,z)&&(e.style.width=F[i])},i),t(s).height(0),A&&(gt($,r),gt(function(e){H.push(e.innerHTML),j.push(wt(t(e).css("width")))},r),gt(function(t,e){t.style.width=j[e]},o),t(r).height(0)),gt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+B[e]+"</div>",t.style.width=F[e]},s),A&&gt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+H[e]+"</div>",t.style.width=j[e]},r),I.outerWidth()<u?(d=C.scrollHeight>C.offsetHeight||"scroll"==D.css("overflow-y")?u+y:u,L&&(C.scrollHeight>C.offsetHeight||"scroll"==D.css("overflow-y"))&&(N.width=wt(d-y)),""!==m&&""===g||Pt(e,1,"Possible column misalignment",6)):d="100%",T.width=wt(d),_.width=wt(d),A&&(e.nScrollFoot.style.width=wt(d)),v||L&&(T.height=wt(P.offsetHeight+y));var G=I.outerWidth();S[0].style.width=wt(G),x.width=wt(G);var V=I.height()>C.clientHeight||"scroll"==D.css("overflow-y"),q="padding"+(R.bScrollbarLeft?"Left":"Right");x[q]=V?y+"px":"0px",A&&(E[0].style.width=wt(G),O[0].style.width=wt(G),O[0].style[q]=V?y+"px":"0px"),I.children("colgroup").insertBefore(I.children("thead")),D.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(C.scrollTop=0)}function gt(t,e,i){for(var n,o,s=0,r=0,a=e.length;r<a;){for(n=e[r].firstChild,o=i?i[r].firstChild:null;n;)1===n.nodeType&&(i?t(n,o,s):t(n,s),s++),n=n.nextSibling,o=i?o.nextSibling:null;r++}}function vt(i){var n,o,s,r=i.nTable,a=i.aoColumns,l=i.oScroll,h=l.sY,d=l.sX,u=l.sXInner,c=a.length,m=v(i,"bVisible"),y=t("th",i.nTHead),b=r.getAttribute("width"),_=r.parentNode,w=!1,x=i.oBrowser,S=x.bScrollOversize,C=r.style.width;for(C&&-1!==C.indexOf("%")&&(b=C),n=0;n<m.length;n++)o=a[m[n]],null!==o.sWidth&&(o.sWidth=yt(o.sWidthOrig,_),w=!0);if(S||!w&&!d&&!h&&c==g(i)&&c==y.length)for(n=0;n<c;n++){var D=f(i,n);null!==D&&(a[D].sWidth=wt(y.eq(n).width()))}else{var T=t(r).clone().css("visibility","hidden").removeAttr("id");T.find("tbody tr").remove();var k=t("<tr/>").appendTo(T.find("tbody"));for(T.find("thead, tfoot").remove(),T.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),T.find("tfoot th, tfoot td").css("width",""),y=W(i,T.find("thead")[0]),n=0;n<m.length;n++)o=a[m[n]],y[n].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?wt(o.sWidthOrig):"",o.sWidthOrig&&d&&t(y[n]).append(t("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<m.length;n++)s=m[n],o=a[s],t(bt(i,s)).clone(!1).append(o.sContentPadding).appendTo(k);t("[name]",T).removeAttr("name");var O=t("<div/>").css(d||h?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(T).appendTo(_);d&&u?T.width(u):d?(T.css("width","auto"),T.removeAttr("width"),T.width()<_.clientWidth&&b&&T.width(_.clientWidth)):h?T.width(_.clientWidth):b&&T.width(b);var E=0;for(n=0;n<m.length;n++){var M=t(y[n]),I=M.outerWidth()-M.width(),P=x.bBounding?Math.ceil(y[n].getBoundingClientRect().width):M.outerWidth();E+=P,a[m[n]].sWidth=wt(P-I)}r.style.width=wt(E),O.remove()}if(b&&(r.style.width=wt(b)),(b||d)&&!i._reszEvt){var N=function(){t(e).on("resize.DT-"+i.sInstance,we(function(){p(i)}))};S?setTimeout(N,1e3):N(),i._reszEvt=!0}}function yt(e,n){if(!e)return 0;var o=t("<div/>").css("width",wt(e)).appendTo(n||i.body),s=o[0].offsetWidth;return o.remove(),s}function bt(e,i){var n=_t(e,i);if(n<0)return null;var o=e.aoData[n];return o.nTr?o.anCells[i]:t("<td/>").html(C(e,n,i,"display"))[0]}function _t(t,e){for(var i,n=-1,o=-1,s=0,r=t.aoData.length;s<r;s++)i=C(t,s,e,"display")+"",i=i.replace(_e,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,o=s);return o}function wt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function xt(e){var i,o,s,r,a,l,h,d=[],u=e.aoColumns,c=e.aaSortingFixed,p=t.isPlainObject(c),f=[],m=function(e){e.length&&!t.isArray(e[0])?f.push(e):t.merge(f,e)};for(t.isArray(c)&&m(c),p&&c.pre&&m(c.pre),m(e.aaSorting),p&&c.post&&m(c.post),i=0;i<f.length;i++)for(h=f[i][0],r=u[h].aDataSort,o=0,s=r.length;o<s;o++)a=r[o],l=u[a].sType||"string",f[i]._idx===n&&(f[i]._idx=t.inArray(f[i][1],u[a].asSorting)),d.push({src:h,col:a,dir:f[i][1],index:f[i]._idx,type:l,formatter:Ut.ext.type.order[l+"-pre"]});return d}function St(t){var e,i,n,o,s,r=[],a=Ut.ext.type.order,l=t.aoData,h=(t.aoColumns,0),d=t.aiDisplayMaster;for(y(t),s=xt(t),e=0,i=s.length;e<i;e++)o=s[e],o.formatter&&h++,Ot(t,o.col);if("ssp"!=Bt(t)&&0!==s.length){for(e=0,n=d.length;e<n;e++)r[d[e]]=e;h===s.length?d.sort(function(t,e){var i,n,o,a,h,d=s.length,u=l[t]._aSortData,c=l[e]._aSortData;for(o=0;o<d;o++)if(h=s[o],i=u[h.col],n=c[h.col],0!==(a=i<n?-1:i>n?1:0))return"asc"===h.dir?a:-a;return i=r[t],n=r[e],i<n?-1:i>n?1:0}):d.sort(function(t,e){var i,n,o,h,d,u,c=s.length,p=l[t]._aSortData,f=l[e]._aSortData;for(o=0;o<c;o++)if(d=s[o],i=p[d.col],n=f[d.col],u=a[d.type+"-"+d.dir]||a["string-"+d.dir],0!==(h=u(i,n)))return h;return i=r[t],n=r[e],i<n?-1:i>n?1:0})}t.bSorted=!0}function Ct(t){for(var e,i,n=t.aoColumns,o=xt(t),s=t.oLanguage.oAria,r=0,a=n.length;r<a;r++){var l=n[r],h=l.asSorting,d=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(o.length>0&&o[0].col==r?(u.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),i=h[o[0].index+1]||h[0]):i=h[0],e=d+("asc"===i?s.sSortAscending:s.sSortDescending)):e=d,u.setAttribute("aria-label",e)}}function Dt(e,i,o,s){var r,a=e.aoColumns[i],l=e.aaSorting,h=a.asSorting,d=function(e,i){var o=e._idx;return o===n&&(o=t.inArray(e[1],h)),o+1<h.length?o+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),o&&e.oFeatures.bSortMulti){var u=t.inArray(i,ae(l,"0"));-1!==u?(r=d(l[u],!0),null===r&&1===l.length&&(r=0),null===r?l.splice(u,1):(l[u][1]=h[r],l[u]._idx=r)):(l.push([i,h[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(r=d(l[0]),l.length=1,l[0][1]=h[r],l[0]._idx=r):(l.length=0,l.push([i,h[0]]),l[0]._idx=0);j(e),"function"==typeof s&&s(e)}function Tt(t,e,i,n){var o=t.aoColumns[i];Rt(e,{},function(e){!1!==o.bSortable&&(t.oFeatures.bProcessing?(pt(t,!0),setTimeout(function(){Dt(t,i,e.shiftKey,n),"ssp"!==Bt(t)&&pt(t,!1)},0)):Dt(t,i,e.shiftKey,n))})}function kt(e){var i,n,o,s=e.aLastSort,r=e.oClasses.sSortColumn,a=xt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=s.length;i<n;i++)o=s[i].src,t(ae(e.aoData,"anCells",o)).removeClass(r+(i<2?i+1:3));for(i=0,n=a.length;i<n;i++)o=a[i].src,t(ae(e.aoData,"anCells",o)).addClass(r+(i<2?i+1:3))}e.aLastSort=a}function Ot(t,e){var i,n=t.aoColumns[e],o=Ut.ext.order[n.sSortDataType];o&&(i=o.call(t.oInstance,t,e,m(t,e)));for(var s,r,a=Ut.ext.type.order[n.sType+"-pre"],l=0,h=t.aoData.length;l<h;l++)s=t.aoData[l],s._aSortData||(s._aSortData=[]),s._aSortData[e]&&!o||(r=o?i[l]:C(t,l,e,"sort"),s._aSortData[e]=a?a(r):r)}function Et(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:et(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:et(e.aoPreSearchCols[i])}})};zt(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function Mt(e,i,o){var s,r,a=e.aoColumns,l=function(i){if(!i||!i.time)return void o();var l=zt(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1!==t.inArray(!1,l))return void o();var h=e.iStateDuration;if(h>0&&i.time<+new Date-1e3*h)return void o();if(i.columns&&a.length!==i.columns.length)return void o();if(e.oLoadedState=t.extend(!0,{},i),i.start!==n&&(e._iDisplayStart=i.start,e.iInitDisplayStart=i.start),i.length!==n&&(e._iDisplayLength=i.length),i.order!==n&&(e.aaSorting=[],t.each(i.order,function(t,i){e.aaSorting.push(i[0]>=a.length?[0,i[1]]:i)})),i.search!==n&&t.extend(e.oPreviousSearch,it(i.search)),i.columns)for(s=0,r=i.columns.length;s<r;s++){var d=i.columns[s];d.visible!==n&&(a[s].bVisible=d.visible),d.search!==n&&t.extend(e.aoPreSearchCols[s],it(d.search))}zt(e,"aoStateLoaded","stateLoaded",[e,i]),o()};if(!e.oFeatures.bStateSave)return void o();var h=e.fnStateLoadCallback.call(e.oInstance,e,l);h!==n&&l(h)}function It(e){var i=Ut.settings,n=t.inArray(e,ae(i,"nTable"));return-1!==n?i[n]:null}function Pt(t,i,n,o){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,o&&(n+=". For more information about this error, please see http://datatables.net/tn/"+o),i)e.console&&console.log&&console.log(n);else{var s=Ut.ext,r=s.sErrMode||s.errMode;if(t&&zt(t,null,"error",[t,o,n]),"alert"==r)alert(n);else{if("throw"==r)throw new Error(n);"function"==typeof r&&r(t,o,n)}}}function Nt(e,i,o,s){if(t.isArray(o))return void t.each(o,function(n,o){t.isArray(o)?Nt(e,i,o[0],o[1]):Nt(e,i,o)});s===n&&(s=o),i[o]!==n&&(e[s]=i[o])}function At(e,i,n){var o;for(var s in i)i.hasOwnProperty(s)&&(o=i[s],t.isPlainObject(o)?(t.isPlainObject(e[s])||(e[s]={}),t.extend(!0,e[s],o)):n&&"data"!==s&&"aaData"!==s&&t.isArray(o)?e[s]=o.slice():e[s]=o);return e}function Rt(e,i,n){t(e).on("click.DT",i,function(t){e.blur(),n(t)}).on("keypress.DT",i,function(t){13===t.which&&(t.preventDefault(),n(t))}).on("selectstart.DT",function(){return!1})}function Lt(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function zt(e,i,n,o){var s=[];if(i&&(s=t.map(e[i].slice().reverse(),function(t,i){return t.fn.apply(e.oInstance,o)})),null!==n){var r=t.Event(n+".dt");t(e.nTable).trigger(r,o),s.push(r.result)}return s}function Ft(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function jt(e,i){var n=e.renderer,o=Ut.ext.renderer[i];return t.isPlainObject(n)&&n[i]?o[n[i]]||o._:"string"==typeof n?o[n]||o._:o._}function Bt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Ht(t,e){var i=[],n=He.numbers_length,o=Math.floor(n/2);return e<=n?i=he(0,e):t<=o?(i=he(0,n-2),i.push("ellipsis"),i.push(e-1)):t>=e-1-o?(i=he(e-(n-2),e),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=he(t-o+2,t+o-1),i.push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Wt(e){t.each({num:function(t){return We(t,e)},"num-fmt":function(t){return We(t,e,te)},"html-num":function(t){return We(t,e,Zt)},"html-num-fmt":function(t){return We(t,e,Zt,te)}},function(t,i){Yt.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Yt.type.search[t+e]=Yt.type.search.html)})}function $t(t){return function(){var e=[It(this[Ut.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ut.ext.internal[t].apply(this,e)}}var Yt,Gt,Vt,qt,Ut=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Gt(t?It(this[Yt.iApiIndex]):this)},this.fnAddData=function(e,i){var o=this.api(!0),s=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(i===n||i)&&o.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],o=i.oScroll;t===n||t?e.draw(!1):""===o.sX&&""===o.sY||mt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var o=this.api(!0),s=o.rows(t),r=s.settings()[0],a=r.aoData[s[0][0]];return s.remove(),e&&e.call(this,r,a),(i===n||i)&&o.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,o,s,r){var a=this.api(!0);null===e||e===n?a.search(t,i,o,r):a.column(e).search(t,i,o,r),a.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var o=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==o||"th"==o?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var o=this.api(!0).column(t).visible(e);(i===n||i)&&o.columns.adjust().draw()},this.fnSettings=function(){return It(this[Yt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,o,s){var r=this.api(!0);return i===n||null===i?r.row(e).data(t):r.cell(e,i).data(t),(s===n||s)&&r.columns.adjust(),(o===n||o)&&r.draw(),0},this.fnVersionCheck=Yt.fnVersionCheck;var i=this,o=e===n,d=this.length;o&&(e={}),this.oApi=this.internal=Yt.internal;for(var p in Ut.ext.internal)p&&(this[p]=$t(p));return this.each(function(){var p,f={},m=d>1?At(f,e,!0):e,g=0,v=this.getAttribute("id"),y=!1,x=Ut.defaults,S=t(this);if("table"!=this.nodeName.toLowerCase())return void Pt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);a(x),l(x.column),s(x,x,!0),s(x.column,x.column,!0),s(x,t.extend(m,S.data()));var C=Ut.settings;for(g=0,p=C.length;g<p;g++){var D=C[g];if(D.nTable==this||D.nTHead.parentNode==this||D.nTFoot&&D.nTFoot.parentNode==this){var T=m.bRetrieve!==n?m.bRetrieve:x.bRetrieve,O=m.bDestroy!==n?m.bDestroy:x.bDestroy;if(o||T)return D.oInstance;if(O){D.oInstance.fnDestroy();break}return void Pt(D,0,"Cannot reinitialise DataTable",3)}if(D.sTableId==this.id){C.splice(g,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Ut.ext._unique++,this.id=v);var E=t.extend(!0,{},Ut.models.oSettings,{sDestroyWidth:S[0].style.width,sInstance:v,sTableId:v});E.nTable=this,E.oApi=i.internal,E.oInit=m,C.push(E),E.oInstance=1===i.length?i:S.dataTable(),a(m),m.oLanguage&&r(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=t.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=At(t.extend(!0,{},x),m),Nt(E.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Nt(E,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Nt(E.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Nt(E.oLanguage,m,"fnInfoCallback"),Lt(E,"aoDrawCallback",m.fnDrawCallback,"user"),Lt(E,"aoServerParams",m.fnServerParams,"user"),Lt(E,"aoStateSaveParams",m.fnStateSaveParams,"user"),Lt(E,"aoStateLoadParams",m.fnStateLoadParams,"user"),Lt(E,"aoStateLoaded",m.fnStateLoaded,"user"),Lt(E,"aoRowCallback",m.fnRowCallback,"user"),Lt(E,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Lt(E,"aoHeaderCallback",m.fnHeaderCallback,"user"),Lt(E,"aoFooterCallback",m.fnFooterCallback,"user"),Lt(E,"aoInitComplete",m.fnInitComplete,"user"),Lt(E,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),E.rowIdFn=k(m.rowId),h(E);var M=E.oClasses;if(t.extend(M,Ut.ext.classes,m.oClasses),S.addClass(M.sTable),E.iInitDisplayStart===n&&(E.iInitDisplayStart=m.iDisplayStart,E._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){E.bDeferLoading=!0;var I=t.isArray(m.iDeferLoading);E._iRecordsDisplay=I?m.iDeferLoading[0]:m.iDeferLoading,E._iRecordsTotal=I?m.iDeferLoading[1]:m.iDeferLoading}var P=E.oLanguage;t.extend(!0,P,m.oLanguage),P.sUrl&&(t.ajax({dataType:"json",url:P.sUrl,success:function(e){r(e),s(x.oLanguage,e),t.extend(!0,P,e),rt(E)},error:function(){rt(E)}}),y=!0),null===m.asStripeClasses&&(E.asStripeClasses=[M.sStripeOdd,M.sStripeEven]);var N=E.asStripeClasses,A=S.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(N,function(t,e){return A.hasClass(t)}))&&(t("tbody tr",this).removeClass(N.join(" ")),E.asDestroyStripes=N.slice());var R,L=[],z=this.getElementsByTagName("thead");if(0!==z.length&&(H(E.aoHeader,z[0]),L=W(E)),null===m.aoColumns)for(R=[],g=0,p=L.length;g<p;g++)R.push(null);else R=m.aoColumns;for(g=0,p=R.length;g<p;g++)u(E,L?L[g]:null);if(b(E,m.aoColumnDefs,R,function(t,e){c(E,t,e)}),A.length){var F=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(A[0]).children("th, td").each(function(t,e){var i=E.aoColumns[t];if(i.mData===t){var o=F(e,"sort")||F(e,"order"),s=F(e,"filter")||F(e,"search");null===o&&null===s||(i.mData={_:t+".display",sort:null!==o?t+".@data-"+o:n,type:null!==o?t+".@data-"+o:n,filter:null!==s?t+".@data-"+s:n},c(E,t))}})}var j=E.oFeatures,B=function(){if(m.aaSorting===n){var e=E.aaSorting;for(g=0,p=e.length;g<p;g++)e[g][1]=E.aoColumns[g].asSorting[0]}kt(E),j.bSort&&Lt(E,"aoDrawCallback",function(){if(E.bSorted){var e=xt(E),i={};t.each(e,function(t,e){i[e.src]=e.dir}),zt(E,null,"order",[E,e,i]),Ct(E)}}),Lt(E,"aoDrawCallback",function(){(E.bSorted||"ssp"===Bt(E)||j.bDeferRender)&&kt(E)},"sc");var i=S.children("caption").each(function(){this._captionSide=t(this).css("caption-side")}),o=S.children("thead");0===o.length&&(o=t("<thead/>").appendTo(S)),E.nTHead=o[0];var s=S.children("tbody");0===s.length&&(s=t("<tbody/>").appendTo(S)),E.nTBody=s[0];var r=S.children("tfoot");if(0===r.length&&i.length>0&&(""!==E.oScroll.sX||""!==E.oScroll.sY)&&(r=t("<tfoot/>").appendTo(S)),0===r.length||0===r.children().length?S.addClass(M.sNoFooter):r.length>0&&(E.nTFoot=r[0],H(E.aoFooter,E.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(E,m.aaData[g]);else(E.bDeferLoading||"dom"==Bt(E))&&w(E,t(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,!1===y&&rt(E)};m.bStateSave?(j.bStateSave=!0,Lt(E,"aoDrawCallback",Et,"state_save"),Mt(E,m,B)):B()}),i=null,this},Xt={},Kt=/[\r\n]/g,Zt=/<.*?>/g,Jt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Qt=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),te=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ee=function(t){return!t||!0===t||"-"===t},ie=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ne=function(t,e){return Xt[e]||(Xt[e]=new RegExp(ve(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Xt[e],"."):t},oe=function(t,e,i){var n="string"==typeof t;return!!ee(t)||(e&&n&&(t=ne(t,e)),i&&n&&(t=t.replace(te,"")),!isNaN(parseFloat(t))&&isFinite(t))},se=function(t){return ee(t)||"string"==typeof t},re=function(t,e,i){return!!ee(t)||(se(t)?!!oe(ue(t),e,i)||null:null)},ae=function(t,e,i){var o=[],s=0,r=t.length;if(i!==n)for(;s<r;s++)t[s]&&t[s][e]&&o.push(t[s][e][i]);else for(;s<r;s++)t[s]&&o.push(t[s][e]);return o},le=function(t,e,i,o){var s=[],r=0,a=e.length;if(o!==n)for(;r<a;r++)t[e[r]][i]&&s.push(t[e[r]][i][o]);else for(;r<a;r++)s.push(t[e[r]][i]);return s},he=function(t,e){var i,o=[];e===n?(e=0,i=t):(i=e,e=t);for(var s=e;s<i;s++)o.push(s);return o},de=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},ue=function(t){return t.replace(Zt,"")},ce=function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),i=e[0],n=1,o=e.length;n<o;n++){if(e[n]===i)return!1;i=e[n]}return!0},pe=function(t){if(ce(t))return t.slice();var e,i,n,o=[],s=t.length,r=0;t:for(i=0;i<s;i++){for(e=t[i],n=0;n<r;n++)if(o[n]===e)continue t;o.push(e),r++}return o};Ut.util={throttle:function(t,e){var i,o,s=e!==n?e:200;return function(){var e=this,r=+new Date,a=arguments;i&&r<i+s?(clearTimeout(o),o=setTimeout(function(){i=n,t.apply(e,a)},s)):(i=r,t.apply(e,a))}},escapeRegex:function(t){return t.replace(Qt,"\\$1")}};var fe=function(t,e,i){t[e]!==n&&(t[i]=t[e])},me=/\[.*?\]$/,ge=/\(\)$/,ve=Ut.util.escapeRegex,ye=t("<div>")[0],be=ye.textContent!==n,_e=/<.*?>/g,we=Ut.util.throttle,xe=[],Se=Array.prototype,Ce=function(e){var i,n,o=Ut.settings,s=t.map(o,function(t,e){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(i=t.inArray(e,s),-1!==i?[o[i]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map(function(e){return i=t.inArray(this,s),-1!==i?o[i]:null}).toArray():void 0):[]};Gt=function(e,i){if(!(this instanceof Gt))return new Gt(e,i);var n=[],o=function(t){var e=Ce(t);e&&(n=n.concat(e))};if(t.isArray(e))for(var s=0,r=e.length;s<r;s++)o(e[s]);else o(e);this.context=pe(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},Gt.extend(this,this,xe)},Ut.Api=Gt,t.extend(Gt.prototype,{any:function(){return 0!==this.count()},concat:Se.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Gt(e[t],this[t]):null},filter:function(t){var e=[];if(Se.filter)e=Se.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Gt(this.context,e)},flatten:function(){var t=[];return new Gt(this.context,t.concat.apply(t,this.toArray()))},join:Se.join,indexOf:Se.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,o){var s,r,a,l,h,d,u,c,p=[],f=this.context,m=this.selector;for("string"==typeof t&&(o=i,i=e,e=t,t=!1),r=0,a=f.length;r<a;r++){var g=new Gt(f[r]);if("table"===e)(s=i.call(g,f[r],r))!==n&&p.push(s);else if("columns"===e||"rows"===e)(s=i.call(g,f[r],this[r],r))!==n&&p.push(s);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[r],"column-rows"===e&&(d=Me(f[r],m.opts)),l=0,h=u.length;l<h;l++)c=u[l],(s="cell"===e?i.call(g,f[r],c.row,c.column,r,l):i.call(g,f[r],c,r,l,d))!==n&&p.push(s)}if(p.length||o){var v=new Gt(f,t?p.concat.apply([],p):p),y=v.selector;return y.rows=m.rows,y.cols=m.cols,y.opts=m.opts,v}return this},lastIndexOf:Se.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Se.map)e=Se.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new Gt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Se.pop,push:Se.push,reduce:Se.reduce||function(t,e){return d(this,t,e,0,this.length,1)},reduceRight:Se.reduceRight||function(t,e){return d(this,t,e,this.length-1,-1,-1)},reverse:Se.reverse,selector:null,shift:Se.shift,slice:function(){return new Gt(this.context,this)},sort:Se.sort,splice:Se.splice,toArray:function(){return Se.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Gt(this.context,pe(this))},unshift:Se.unshift}),Gt.extend=function(e,i,n){if(n.length&&i&&(i instanceof Gt||i.__dt_wrapper)){var o,s,r;for(o=0,s=n.length;o<s;o++)r=n[o],i[r.name]="function"==typeof r.val?function(t,e,i){return function(){var n=e.apply(t,arguments);return Gt.extend(n,n,i.methodExt),n}}(e,r.val,r):t.isPlainObject(r.val)?{}:r.val,i[r.name].__dt_wrapper=!0,Gt.extend(e,i[r.name],r.propExt)}},Gt.register=Vt=function(e,i){if(t.isArray(e))for(var n=0,o=e.length;n<o;n++)Gt.register(e[n],i);else{var s,r,a,l,h=e.split("."),d=xe;for(s=0,r=h.length;s<r;s++){l=-1!==h[s].indexOf("()"),a=l?h[s].replace("()",""):h[s];var u=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null}(d,a);u||(u={name:a,val:{},methodExt:[],propExt:[]},d.push(u)),s===r-1?u.val=i:d=l?u.methodExt:u.propExt}}},Gt.registerPlural=qt=function(e,i,o){Gt.register(e,o),Gt.register(i,function(){var e=o.apply(this,arguments);return e===this?this:e instanceof Gt?e.length?t.isArray(e[0])?new Gt(e.context,e[0]):e[0]:n:e})};var De=function(e,i){if("number"==typeof e)return[i[e]];var n=t.map(i,function(t,e){return t.nTable});return t(n).filter(e).map(function(e){var o=t.inArray(this,n);return i[o]}).toArray()};Vt("tables()",function(t){return t?new Gt(De(t,this.context)):this}),Vt("table()",function(t){var e=this.tables(t),i=e.context;return i.length?new Gt(i[0]):e}),qt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),qt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),qt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),qt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),qt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Vt("draw()",function(t){return this.iterator("table",function(e){"page"===t?F(e):("string"==typeof t&&(t="full-hold"!==t),j(e,!1===t))})}),Vt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){ut(e,t)})}),Vt("page.info()",function(t){if(0===this.context.length)return n;var e=this.context[0],i=e._iDisplayStart,o=e.oFeatures.bPaginate?e._iDisplayLength:-1,s=e.fnRecordsDisplay(),r=-1===o;return{page:r?0:Math.floor(i/o),pages:r?1:Math.ceil(s/o),start:i,end:e.fnDisplayEnd(),length:o,recordsTotal:e.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===Bt(e)}}),Vt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){lt(e,t)})});var Te=function(t,e,i){if(i){var n=new Gt(t);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==Bt(t))j(t,e);else{pt(t,!0);var o=t.jqXHR;o&&4!==o.readyState&&o.abort(),$(t,[],function(i){M(t);for(var n=q(t,i),o=0,s=n.length;o<s;o++)_(t,n[o]);j(t,e),pt(t,!1)})}};Vt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),Vt("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),Vt("ajax.reload()",function(t,e){return this.iterator("table",function(i){Te(i,!1===e,t)})}),Vt("ajax.url()",function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0],i.ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e})}),Vt("ajax.url().load()",function(t,e){return this.iterator("table",function(i){Te(i,!1===e,t)})});var ke=function(e,i,o,s,r){var a,l,h,d,u,c,p=[],f=typeof i;for(i&&"string"!==f&&"function"!==f&&i.length!==n||(i=[i]),h=0,d=i.length;h<d;h++)for(l=i[h]&&i[h].split&&!i[h].match(/[\[\(:]/)?i[h].split(","):[i[h]],u=0,c=l.length;u<c;u++)(a=o("string"==typeof l[u]?t.trim(l[u]):l[u]))&&a.length&&(p=p.concat(a));var m=Yt.selector[e];if(m.length)for(h=0,d=m.length;h<d;h++)p=m[h](s,r,p);return pe(p)},Oe=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Ee=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Me=function(e,i){var n,o,s,r=[],a=e.aiDisplay,l=e.aiDisplayMaster,h=i.search,d=i.order,u=i.page;if("ssp"==Bt(e))return"removed"===h?[]:he(0,l.length);if("current"==u)for(n=e._iDisplayStart,o=e.fnDisplayEnd();n<o;n++)r.push(a[n]);else if("current"==d||"applied"==d)r="none"==h?l.slice():"applied"==h?a.slice():t.map(l,function(e,i){return-1===t.inArray(e,a)?e:null});else if("index"==d||"original"==d)for(n=0,o=e.aoData.length;n<o;n++)"none"==h?r.push(n):(-1===(s=t.inArray(n,a))&&"removed"==h||s>=0&&"applied"==h)&&r.push(n);return r},Ie=function(e,i,o){var s;return ke("row",i,function(i){var r=ie(i);if(null!==r&&!o)return[r];if(s||(s=Me(e,o)),null!==r&&-1!==t.inArray(r,s))return[r]
;if(null===i||i===n||""===i)return s;if("function"==typeof i)return t.map(s,function(t){var n=e.aoData[t];return i(t,n._aData,n.nTr)?t:null});var a=de(le(e.aoData,s,"nTr"));if(i.nodeName){if(i._DT_RowIndex!==n)return[i._DT_RowIndex];if(i._DT_CellIndex)return[i._DT_CellIndex.row];var l=t(i).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var h=e.aIds[i.replace(/^#/,"")];if(h!==n)return[h.idx]}return t(a).filter(i).map(function(){return this._DT_RowIndex}).toArray()},e,o)};Vt("rows()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Oe(i);var o=this.iterator("table",function(t){return Ie(t,e,i)},1);return o.selector.rows=e,o.selector.opts=i,o}),Vt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Vt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return le(t.aoData,e,"_aData")},1)}),qt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData},1)}),qt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){P(e,i,t)})}),qt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),qt("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,o=i.length;n<o;n++)for(var s=0,r=this[n].length;s<r;s++){var a=i[n].rowIdFn(i[n].aoData[this[n][s]]._aData);e.push((!0===t?"#":"")+a)}return new Gt(i,e)}),qt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,o){var s,r,a,l,h,d,u=e.aoData,c=u[i];for(u.splice(i,1),s=0,r=u.length;s<r;s++)if(h=u[s],d=h.anCells,null!==h.nTr&&(h.nTr._DT_RowIndex=s),null!==d)for(a=0,l=d.length;a<l;a++)d[a]._DT_CellIndex.row=s;I(e.aiDisplayMaster,i),I(e.aiDisplay,i),I(t[o],i,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,Ft(e);var p=e.rowIdFn(c._aData);p!==n&&delete e.aIds[p]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),Vt("rows.add()",function(e){var i=this.iterator("table",function(t){var i,n,o,s=[];for(n=0,o=e.length;n<o;n++)i=e[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?s.push(w(t,i)[0]):s.push(_(t,i));return s},1),n=this.rows(-1);return n.pop(),t.merge(n,i),n}),Vt("row()",function(t,e){return Ee(this.rows(t,e))}),Vt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,P(e[0],this[0],"data"),this)}),Vt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Vt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:_(t,e)});return this.row(i[0])});var Pe=function(e,i,n,o){var s=[],r=function(i,n){if(t.isArray(i)||i instanceof t)for(var o=0,a=i.length;o<a;o++)r(i[o],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())s.push(i);else{var l=t("<tr><td/></tr>").addClass(n);t("td",l).addClass(n).html(i)[0].colSpan=g(e),s.push(l[0])}};r(n,o),i._details&&i._details.detach(),i._details=t(s),i._detailsShow&&i._details.insertAfter(i.nTr)},Ne=function(t,e){var i=t.context;if(i.length){var o=i[0].aoData[e!==n?e:t[0]];o&&o._details&&(o._details.remove(),o._detailsShow=n,o._details=n)}},Ae=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.detach(),Re(i[0]))}},Re=function(t){var e=new Gt(t),i=t.aoData;e.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),ae(i,"_details").length>0&&(e.on("draw.dt.DT_details",function(n,o){t===o&&e.rows({page:"current"}).eq(0).each(function(t){var e=i[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on("column-visibility.dt.DT_details",function(e,n,o,s){if(t===n)for(var r,a=g(n),l=0,h=i.length;l<h;l++)r=i[l],r._details&&r._details.children("td[colspan]").attr("colspan",a)}),e.on("destroy.dt.DT_details",function(n,o){if(t===o)for(var s=0,r=i.length;s<r;s++)i[s]._details&&Ne(e,s)}))};Vt("row().child()",function(t,e){var i=this.context;return t===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(!0===t?this.child.show():!1===t?Ne(this):i.length&&this.length&&Pe(i[0],i[0].aoData[this[0]],t,e),this)}),Vt(["row().child.show()","row().child().show()"],function(t){return Ae(this,!0),this}),Vt(["row().child.hide()","row().child().hide()"],function(){return Ae(this,!1),this}),Vt(["row().child.remove()","row().child().remove()"],function(){return Ne(this),this}),Vt("row().child.isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Le=/^([^:]+):(name|visIdx|visible)$/,ze=function(t,e,i,n,o){for(var s=[],r=0,a=o.length;r<a;r++)s.push(C(t,o[r],e));return s},Fe=function(e,i,n){var o=e.aoColumns,s=ae(o,"sName"),r=ae(o,"nTh");return ke("column",i,function(i){var a=ie(i);if(""===i)return he(o.length);if(null!==a)return[a>=0?a:o.length+a];if("function"==typeof i){var l=Me(e,n);return t.map(o,function(t,n){return i(n,ze(e,n,0,0,l),r[n])?n:null})}var h="string"==typeof i?i.match(Le):"";if(h)switch(h[2]){case"visIdx":case"visible":var d=parseInt(h[1],10);if(d<0){var u=t.map(o,function(t,e){return t.bVisible?e:null});return[u[u.length+d]]}return[f(e,d)];case"name":return t.map(s,function(t,e){return t===h[1]?e:null});default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var c=t(r).filter(i).map(function(){return t.inArray(this,r)}).toArray();if(c.length||!i.nodeName)return c;var p=t(i).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]},e,n)},je=function(e,i,o){var s,r,a,l,h=e.aoColumns,d=h[i],u=e.aoData;if(o===n)return d.bVisible;if(d.bVisible!==o){if(o){var c=t.inArray(!0,ae(h,"bVisible"),i+1);for(r=0,a=u.length;r<a;r++)l=u[r].nTr,s=u[r].anCells,l&&l.insertBefore(s[i],s[c]||null)}else t(ae(e.aoData,"anCells",i)).detach();d.bVisible=o,z(e,e.aoHeader),z(e,e.aoFooter),Et(e)}};Vt("columns()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Oe(i);var o=this.iterator("table",function(t){return Fe(t,e,i)},1);return o.selector.cols=e,o.selector.opts=i,o}),qt("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),qt("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),qt("columns().data()","column().data()",function(){return this.iterator("column-rows",ze,1)}),qt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),qt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,n,o,s){return le(e.aoData,s,"search"===t?"_aFilterData":"_aSortData",i)},1)}),qt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,o){return le(t.aoData,o,"anCells",e)},1)}),qt("columns().visible()","column().visible()",function(t,e){var i=this.iterator("column",function(e,i){if(t===n)return e.aoColumns[i].bVisible;je(e,i,t)});return t!==n&&(this.iterator("column",function(i,n){zt(i,null,"column-visibility",[i,n,t,e])}),(e===n||e)&&this.columns.adjust()),i}),qt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?m(e,i):i},1)}),Vt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Vt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return m(i,e)}}),Vt("column()",function(t,e){return Ee(this.columns(t,e))});var Be=function(e,i,o){var s,r,a,l,h,d,u,c=e.aoData,p=Me(e,o),f=de(le(c,p,"anCells")),m=t([].concat.apply([],f)),g=e.aoColumns.length;return ke("cell",i,function(i){var o="function"==typeof i;if(null===i||i===n||o){for(r=[],a=0,l=p.length;a<l;a++)for(s=p[a],h=0;h<g;h++)d={row:s,column:h},o?(u=c[s],i(d,C(e,s,h),u.anCells?u.anCells[h]:null)&&r.push(d)):r.push(d);return r}if(t.isPlainObject(i))return[i];var f=m.filter(i).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return f.length||!i.nodeName?f:(u=t(i).closest("*[data-dt-row]"),u.length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[])},e,o)};Vt("cells()",function(e,i,o){if(t.isPlainObject(e)&&(e.row===n?(o=e,e=null):(o=i,i=null)),t.isPlainObject(i)&&(o=i,i=null),null===i||i===n)return this.iterator("table",function(t){return Be(t,e,Oe(o))});var s,r,a,l,h,d=this.columns(i,o),u=this.rows(e,o),c=this.iterator("table",function(t,e){for(s=[],r=0,a=u[e].length;r<a;r++)for(l=0,h=d[e].length;l<h;l++)s.push({row:u[e][r],column:d[e][l]});return s},1);return t.extend(c.selector,{cols:i,rows:e,opts:o}),c}),qt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){var o=t.aoData[e];return o&&o.anCells?o.anCells[i]:n},1)}),Vt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return C(t,e,i)},1)}),qt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,n){return e.aoData[i][t][n]},1)}),qt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,n){return C(e,i,n,t)},1)}),qt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:m(t,i)}},1)}),qt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,n){P(e,i,t,n)})}),Vt("cell()",function(t,e,i){return Ee(this.cells(t,e,i))}),Vt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?C(e[0],i[0].row,i[0].column):n:(D(e[0],i[0].row,i[0].column,t),P(e[0],i[0].row,"data",i[0].column),this)}),Vt("order()",function(e,i){var o=this.context;return e===n?0!==o.length?o[0].aaSorting:n:("number"==typeof e?e=[[e,i]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Vt("order.listener()",function(t,e,i){return this.iterator("table",function(n){Tt(n,t,e,i)})}),Vt("order.fixed()",function(e){if(!e){var i=this.context,o=i.length?i[0].aaSortingFixed:n;return t.isArray(o)?{pre:o}:o}return this.iterator("table",function(i){i.aaSortingFixed=t.extend(!0,{},e)})}),Vt(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(n,o){var s=[];t.each(i[o],function(t,i){s.push([i,e])}),n.aaSorting=s})}),Vt("search()",function(e,i,o,s){var r=this.context;return e===n?0!==r.length?r[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&X(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===o||o,bCaseInsensitive:null===s||s}),1)})}),qt("columns().search()","column().search()",function(e,i,o,s){return this.iterator("column",function(r,a){var l=r.aoPreSearchCols;if(e===n)return l[a].sSearch;r.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===o||o,bCaseInsensitive:null===s||s}),X(r,r.oPreviousSearch,1))})}),Vt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Vt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Vt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Vt("state.save()",function(){return this.iterator("table",function(t){Et(t)})}),Ut.versionCheck=Ut.fnVersionCheck=function(t){for(var e,i,n=Ut.version.split("."),o=t.split("."),s=0,r=o.length;s<r;s++)if(e=parseInt(n[s],10)||0,i=parseInt(o[s],10)||0,e!==i)return e>i;return!0},Ut.isDataTable=Ut.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return e instanceof Ut.Api||(t.each(Ut.settings,function(e,o){var s=o.nScrollHead?t("table",o.nScrollHead)[0]:null,r=o.nScrollFoot?t("table",o.nScrollFoot)[0]:null;o.nTable!==i&&s!==i&&r!==i||(n=!0)}),n)},Ut.tables=Ut.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(Ut.settings,function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable});return i?new Gt(n):n},Ut.camelToHungarian=s,Vt("$()",function(e,i){var n=this.rows(i).nodes(),o=t(n);return t([].concat(o.filter(e).toArray(),o.find(e).toArray()))}),t.each(["on","one","off"],function(e,i){Vt(i+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var n=t(this.tables().nodes());return n[i].apply(n,e),this})}),Vt("clear()",function(){return this.iterator("table",function(t){M(t)})}),Vt("settings()",function(){return new Gt(this.context,this.context)}),Vt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Vt("data()",function(){return this.iterator("table",function(t){return ae(t.aoData,"_aData")}).flatten()}),Vt("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var o,s=n.nTableWrapper.parentNode,r=n.oClasses,a=n.nTable,l=n.nTBody,h=n.nTHead,d=n.nTFoot,u=t(a),c=t(l),p=t(n.nTableWrapper),f=t.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,zt(n,"aoDestroyCallback","destroy",[n]),i||new Gt(n).columns().visible(!0),p.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+n.sInstance),a!=h.parentNode&&(u.children("thead").detach(),u.append(h)),d&&a!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),n.aaSorting=[],n.aaSortingFixed=[],kt(n),t(f).removeClass(n.asStripeClasses.join(" ")),t("th, td",h).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),c.children().detach(),c.append(f);var m=i?"remove":"detach";u[m](),p[m](),!i&&s&&(s.insertBefore(a,n.nTableReinsertBefore),u.css("width",n.sDestroyWidth).removeClass(r.sTable),(o=n.asDestroyStripes.length)&&c.children().each(function(e){t(this).addClass(n.asDestroyStripes[e%o])}));var g=t.inArray(n,Ut.settings);-1!==g&&Ut.settings.splice(g,1)})}),t.each(["column","row","cell"],function(t,e){Vt(e+"s().every()",function(t){var i=this.selector.opts,o=this;return this.iterator(e,function(s,r,a,l,h){t.call(o[e](r,"cell"===e?a:i,"cell"===e?i:n),r,a,l,h)})})}),Vt("i18n()",function(e,i,o){var s=this.context[0],r=k(e)(s.oLanguage);return r===n&&(r=i),o!==n&&t.isPlainObject(r)&&(r=r[o]!==n?r[o]:r._),r.replace("%d",o)}),Ut.version="1.10.16",Ut.settings=[],Ut.models={},Ut.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ut.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ut.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ut.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Ut.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(Ut.defaults),Ut.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(Ut.defaults.column),Ut.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Bt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Bt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,o=this.oFeatures,s=o.bPaginate;return o.bServerSide?!1===s||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!s||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ut.ext=Yt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ut.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ut.version},t.extend(Yt,{afnFiltering:Yt.search,aTypes:Yt.type.detect,ofnSearch:Yt.type.search,oSort:Yt.type.order,afnSortData:Yt.order,aoFeatures:Yt.feature,oApi:Yt.internal,oStdClasses:Yt.classes,oPagination:Yt.pager}),t.extend(Ut.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var He=Ut.ext.pager;t.extend(He,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Ht(t,e)]},simple_numbers:function(t,e){return["previous",Ht(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ht(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ht(t,e),"last"]},_numbers:Ht,numbers_length:7}),t.extend(!0,Ut.ext.renderer,{pageButton:{_:function(e,o,s,r,a,l){var h,d,u,c=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},m=0,g=function(i,n){var o,r,u,v,y=function(t){ut(e,t.data.action,!0)};for(o=0,r=n.length;o<r;o++)if(v=n[o],t.isArray(v)){var b=t("<"+(v.DT_el||"div")+"/>").appendTo(i);g(b,v)}else{switch(h=null,d="",v){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":h=p.sFirst,d=v+(a>0?"":" "+c.sPageButtonDisabled);break;case"previous":h=p.sPrevious,d=v+(a>0?"":" "+c.sPageButtonDisabled);break;case"next":h=p.sNext,d=v+(a<l-1?"":" "+c.sPageButtonDisabled);break;case"last":h=p.sLast,d=v+(a<l-1?"":" "+c.sPageButtonDisabled);break;default:h=v+1,d=a===v?c.sPageButtonActive:""}null!==h&&(u=t("<a>",{class:c.sPageButton+" "+d,"aria-controls":e.sTableId,"aria-label":f[v],"data-dt-idx":m,tabindex:e.iTabIndex,id:0===s&&"string"==typeof v?e.sTableId+"_"+v:null}).html(h).appendTo(i),Rt(u,{action:v},y),m++)}};try{u=t(o).find(i.activeElement).data("dt-idx")}catch(t){}g(t(o).empty(),r),u!==n&&t(o).find("[data-dt-idx="+u+"]").focus()}}}),t.extend(Ut.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return oe(t,i)?"num"+i:null},function(t,e){if(t&&!(t instanceof Date)&&!Jt.test(t))return null;var i=Date.parse(t);return null!==i&&!isNaN(i)||ee(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return oe(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return re(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return re(t,i,!0)?"html-num-fmt"+i:null},function(t,e){return ee(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Ut.ext.type.search,{html:function(t){return ee(t)?t:"string"==typeof t?t.replace(Kt," ").replace(Zt,""):""},string:function(t){return ee(t)?t:"string"==typeof t?t.replace(Kt," "):t}});var We=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=ne(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};t.extend(Yt.type.order,{"date-pre":function(t){return Date.parse(t)||-1/0},"html-pre":function(t){return ee(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ee(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Wt(""),t.extend(!0,Ut.ext.renderer,{header:{_:function(e,i,n,o){t(e.nTable).on("order.dt.DT",function(t,s,r,a){if(e===s){var l=n.idx;i.removeClass(n.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[l]?o.sSortAsc:"desc"==a[l]?o.sSortDesc:n.sSortingClass)}})},jqueryui:function(e,i,n,o){t("<div/>").addClass(o.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(o.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",function(t,s,r,a){if(e===s){var l=n.idx;i.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[l]?o.sSortAsc:"desc"==a[l]?o.sSortDesc:n.sSortingClass),i.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==a[l]?o.sSortJUIAsc:"desc"==a[l]?o.sSortJUIDesc:n.sSortingClassJUI)}})}}});var $e=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Ut.render={number:function(t,e,i,n,o){return{display:function(s){if("number"!=typeof s&&"string"!=typeof s)return s;var r=s<0?"-":"",a=parseFloat(s);if(isNaN(a))return $e(s);a=a.toFixed(i),s=Math.abs(a);var l=parseInt(s,10),h=i?e+(s-l).toFixed(i).substring(2):"";return r+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+h+(o||"")}}},text:function(){return{display:$e}}},t.extend(Ut.ext.internal,{_fnExternApiFunc:$t,_fnBuildAjax:$,_fnAjaxUpdate:Y,_fnAjaxParameters:G,_fnAjaxUpdateDraw:V,_fnAjaxDataSrc:q,_fnAddColumn:u,_fnColumnOptions:c,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:o,_fnCamelToHungarian:s,_fnLanguageCompat:r,_fnBrowserDetect:h,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:S,_fnGetCellData:C,_fnSetCellData:D,_fnSplitObjNotation:T,_fnGetObjectDataFn:k,_fnSetObjectDataFn:O,_fnGetDataMaster:E,_fnClearTable:M,_fnDeleteIndex:I,_fnInvalidate:P,_fnGetRowElements:N,_fnCreateTr:A,_fnBuildHead:L,_fnDrawHead:z,_fnDraw:F,_fnReDraw:j,_fnAddOptionsHtml:B,_fnDetectHeader:H,_fnGetUniqueThs:W,_fnFeatureHtmlFilter:U,_fnFilterComplete:X,_fnFilterCustom:K,_fnFilterColumn:Z,_fnFilter:J,_fnFilterCreateSearch:Q,_fnEscapeRegex:ve,_fnFilterData:tt,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:ot,_fnInfoMacros:st,_fnInitialise:rt,_fnInitComplete:at,_fnLengthChange:lt,_fnFeatureHtmlLength:ht,_fnFeatureHtmlPaginate:dt,_fnPageChange:ut,_fnFeatureHtmlProcessing:ct,_fnProcessingDisplay:pt,_fnFeatureHtmlTable:ft,_fnScrollDraw:mt,_fnApplyToChildren:gt,_fnCalculateColumnWidths:vt,_fnThrottle:we,_fnConvertToWidth:yt,_fnGetWidestNode:bt,_fnGetMaxLenString:_t,_fnStringToCss:wt,_fnSortFlatten:xt,_fnSort:St,_fnSortAria:Ct,_fnSortListener:Dt,_fnSortAttachListener:Tt,_fnSortingClasses:kt,_fnSortData:Ot,_fnSaveState:Et,_fnLoadState:Mt,_fnSettingsFromNode:It,_fnLog:Pt,_fnMap:Nt,_fnBindAction:Rt,_fnCallbackReg:Lt,_fnCallbackFire:zt,_fnLengthOverflow:Ft,_fnRenderer:jt,_fnDataSource:Bt,_fnRowAttributes:R,_fnCalculateEnd:function(){}}),t.fn.dataTable=Ut,Ut.$=t,t.fn.dataTableSettings=Ut.settings,t.fn.dataTableExt=Ut.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Ut,function(e,i){t.fn.DataTable[e]=i}),t.fn.dataTable}),define("rowDetails",["datatables.net"],function(){"use strict";function t(t){$("#"+a+" tr[role='row'] td:nth-child("+d+")").each(function(){-1!==t.indexOf($(this).text())&&n($(this).closest("tr"))})}function e(t){var e=l.row(t),i=e.data();e.child.hide(),t.removeClass("shown"),s(i[u])}function i(){$("#"+a+" tbody tr.shown").each(function(){e($(this))})}function n(t){var e=l.row(t),i=e.data();o(i[u]);var n=c(i);e.child(n).show(),p(n,i),t.addClass("shown")}function o(t){var e=r();e.indexOf(t)<0&&(e.push(t),sessionStorage.setItem(h,JSON.stringify(e)))}function s(t){var e=r(),i=e.indexOf(t);i>-1&&e.splice(i,1),sessionStorage.setItem(h,JSON.stringify(e))}function r(){var t=sessionStorage.getItem(h);return t?JSON.parse(t):[]}var a,l,h,d=0,u="",c=function(){return $()},p=function(){};return{init:function(o){l=o.datatable,d=o.nameRowIndex,u=o.idKey,a=l.table().node().id,h=a+"Details",c=o.render||c,p=o.rowExpanded||p,t(r()),$("#"+a+" tbody").unbind("click.rowDetails").on("click.rowDetails","td.details-control",function(){var t=$(this).closest("tr");l.row(t).child.isShown()?e(t):n(t)}),$("div.collapse-all").click(function(){i()})}}}),define("clientsInfo",["rest","rowDetails","datatables.net"],function(t,e){"use strict";function i(t){var e=$("<table/>",{id:"clientsTable",class:"stripe order-column row-border"}),i=$("<thead/>").appendTo(e),n=$("<tr/>").appendTo(i);return t.forEach(function(t){$("<th/>",{html:t}).appendTo(n)}),e}function n(){d=$("#clientsTable").DataTable({autoWidth:!1,data:u,paging:!1,info:!1,order:[[3,"desc"]],scrollY:"auto",scrollCollapse:!0,columns:[{data:null,width:"10px"},{data:null,defaultContent:"",className:"details-control",width:"20px"},{data:"userAgent",width:"50px",render:function(t){var e=o(t),i=s(t);return'<img class="deviceImg" src="resources/images/'+e+'" /><img class="osImg" src="resources/images/'+r(t)+'" /><img class="browserImg" src="resources/images/'+i+'" />'}},{data:"ipAddress",width:"90px"},{data:"visuId",width:"90px"},{data:"clientId",width:"190px"}],columnDefs:[{targets:[0,1,2],orderable:!1,searchable:!1},{targets:[3,4,5],className:"dt-left"}],createdRow:function(t,e){e.active||($(t).addClass("inactiveClient"),$(t).find("img").addClass("inactiveClient").attr("title","Inactive client"))}}),d.on("order.dt search.dt",function(){d.column(0,{search:"applied",order:"applied"}).nodes().each(function(t,e){t.innerHTML=e+1})}).draw()}function o(t){return t.match(/Android/i)||t.match(/webOS/i)||t.match(/iPhone/i)||t.match(/iPad/i)||t.match(/iPod/i)||t.match(/BlackBerry/i)||t.match(/Windows Phone/i)?"mobile-alt.svg":"desktop.svg"}function s(t){return-1!==t.indexOf("MSIE")||-1!==t.indexOf("Trident/")?"Internet-Explorer.svg":-1!==t.indexOf("Edge")?"Edge.svg":-1!==t.indexOf("Chrome")?"Chrome.svg":-1!==t.indexOf("Safari")?"Safari.svg":-1!==t.indexOf("Firefox")?"Firefox.svg":"circle.svg"}function r(t){return-1!==t.indexOf("Windows")?"windows.svg":-1!==t.indexOf("Android")?"android.svg":-1!==t.indexOf("Linux")?"linux.svg":-1!==t.indexOf("iOS")||-1!==t.indexOf("Mac")?"apple.svg":"circle.svg"}function a(t){var e=$("<tr/>");return $("<td/>",{html:t.description}).css("white-space","nowrap").appendTo(e),$("<td/>",{html:t.data}).appendTo(e),e}function l(t){var e={activeStaticBindingsCount:0,activeDynamicBindingsCount:0,activeEventBindingsCount:0};for(var i in t)if(t.hasOwnProperty(i))if("object"==typeof t[i]&&null!==t[i]){var n=l(t[i]);e.activeStaticBindingsCount+=n.activeStaticBindingsCount,e.activeDynamicBindingsCount+=n.activeDynamicBindingsCount,e.activeEventBindingsCount+=n.activeEventBindingsCount}else"activeStaticBindingsCount"===i&&(e.activeStaticBindingsCount+=t[i]),"activeDynamicBindingsCount"===i&&(e.activeDynamicBindingsCount+=t[i]),"activeEventBindingsCount"===i&&(e.activeEventBindingsCount+=t[i]);return e}function h(){u.forEach(function(t){jQuery.extend(t,l(t))})}var d,u,c=function(t){var e=[{description:"Connection time:",data:t.connectTime},{description:"Connection counter:",data:t.connectionCount},{description:"User Agent:",data:t.userAgent},{description:"Operating system:",data:t.operatingSystem},{description:"Browser:",data:t.browser},{description:"User:",data:t.userId},{description:"Language:",data:t.language},{description:"Measurement system:",data:t.measurementSystem},{description:"Active static Bindings:",data:t.activeStaticBindingsCount},{description:"Active dynamic Bindings:",data:t.activeDynamicBindingsCount},{description:"Active EventBindings:",data:t.activeEventBindingsCount}],i=$("<table/>",{cellpadding:5,cellspacing:0,border:0,class:"clientDetails"});return e.forEach(function(t){a(t).appendTo(i)}),t.active||i.find("tr").addClass("inactiveClient"),i[0]};return{id:"clientsInfo",pageName:"Clients<br>Info",
data:function(){var t=i(["","<div class='collapse-all' title='Collapse all' />","","IP address","VisuId","ClientId"]);return $("<div/>").append(t).css("width","900px")}(),load:function(){$.when(t.getServerInfo("getClientsInfo")).then(function(t){try{u=JSON.parse(t)}catch(t){return console.log("Error in JSON: "+t.message),void($.fn.dataTable.isDataTable("#clientsTable")?d.clear().draw():n())}h(),$.fn.dataTable.isDataTable("#clientsTable")?d.clear().rows.add(u).draw():n(),e.init({datatable:d,nameRowIndex:6,idKey:"clientId",render:c})})}}}),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,i,n,r,l=[],h=t.split(/ +/);for(e=0,i=h.length;e<i;e++){if(n=s(h[e]),this.settings.diacritics)for(r in a)a.hasOwnProperty(r)&&(n=n.replace(new RegExp(r,"g"),a[r]));l.push({string:h[e],regex:new RegExp(n,"i")})}return l},t.prototype.iterator=function(t,e){var i;i=r(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;e<i;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},i.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var i,o,s,r,a;i=this,t=i.prepareSearch(t,e),s=t.tokens,o=t.options.fields,r=s.length,a=t.options.nesting;var l=function(t,e){var i,n;return t?(t=String(t||""),-1===(n=t.search(e.regex))?0:(i=e.string.length/t.length,0===n&&(i+=.5),i)):0},h=function(){var t=o.length;return t?1===t?function(t,e){return l(n(e,o[0],a),t)}:function(e,i){for(var s=0,r=0;s<t;s++)r+=l(n(i,o[s],a),e);return r/t}:function(){return 0}}();return r?1===r?function(t){return h(s[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;i<r;i++){if((e=h(s[i],t))<=0)return 0;n+=e}return n/r}:function(t){for(var e=0,i=0;e<r;e++)i+=h(s[e],t);return i/r}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var o,s,r,a,l,h,d,u,c,p,f;if(r=this,t=r.prepareSearch(t,i),f=!t.query&&i.sort_empty||i.sort,c=function(t,e){return"$score"===t?e.score:n(r.items[e.id],t,i.nesting)},l=[],f)for(o=0,s=f.length;o<s;o++)(t.query||"$score"!==f[o].field)&&l.push(f[o]);if(t.query){for(p=!0,o=0,s=l.length;o<s;o++)if("$score"===l[o].field){p=!1;break}p&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,s=l.length;o<s;o++)if("$score"===l[o].field){l.splice(o,1);break}for(u=[],o=0,s=l.length;o<s;o++)u.push("desc"===l[o].direction?-1:1);return h=l.length,h?1===h?(a=l[0].field,d=u[0],function(t,i){return d*e(c(a,t),c(a,i))}):function(t,i){var n,o,s;for(n=0;n<h;n++)if(s=l[n].field,o=u[n]*e(c(s,t),c(s,i)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=i({},e);var n=e.fields,o=e.sort,s=e.sort_empty;return n&&!r(n)&&(e.fields=[n]),o&&!r(o)&&(e.sort=[o]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var i,n,o,s,r=this;return n=this.prepareSearch(t,e),e=n.options,t=n.query,s=e.score||r.getScoreFunction(n),t.length?r.iterator(r.items,function(t,o){i=s(t),(!1===e.filter||i>0)&&n.items.push({score:i,id:o})}):r.iterator(r.items,function(t,e){n.items.push({score:1,id:e})}),o=r.getSortFunction(n,e),o&&n.items.sort(o),n.total=n.items.length,"number"==typeof e.limit&&(n.items=n.items.slice(0,e.limit)),n};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},i=function(t,e){var i,n,o,s;for(i=1,n=arguments.length;i<n;i++)if(s=arguments[i])for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t},n=function(t,e,i){if(t&&e){if(!i)return t[e];for(var n=e.split(".");n.length&&(t=t[n.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},s=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var t,e,i,n,o="",s={};for(i in a)if(a.hasOwnProperty(i))for(n=a[i].substring(2,a[i].length-1),o+=n,t=0,e=n.length;t<e;t++)s[n.charAt(t)]=i;var r=new RegExp("["+o+"]","g");return function(t){return t.replace(r,function(t){return s[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var i,n,o,s=this,r=[];if(s.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(i=0,n=t.length;i<n;i++)"string"==typeof t[i]?r.push(t[i]):(s.plugins.settings[t[i].name]=t[i].options,r.push(t[i].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(s.plugins.settings[o]=t[o],r.push(o));for(;r.length;)s.require(r.shift())},t.prototype.loadPlugin=function(e){var i=this,n=i.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=o.fn.apply(i,[i.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]},t.define=function(e,i){t.plugins[e]={name:e,fn:i}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,i){"use strict";var n=function(t,e){if("string"!=typeof e||e.length){var i="string"==typeof e?new RegExp(e,"i"):e,n=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(i);if(o>=0&&t.data.length>0){var s=t.data.match(i),r=document.createElement("span");r.className="highlight";var a=t.splitText(o),l=(a.splitText(s[0].length),a.cloneNode(!0));r.appendChild(l),a.parentNode.replaceChild(r,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var h=0;h<t.childNodes.length;++h)h+=n(t.childNodes[h]);return e};return t.each(function(){n(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=o.prototype[e[i]]};var s=/Mac/.test(navigator.userAgent),r=s?91:17,a=s?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,h=function(t){return void 0!==t},d=function(t){return void 0===t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},u=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},c={};c.before=function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},c.after=function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}};var p=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},f=function(t,e){var i;return function(){var n=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,o)},e)}},m=function(t,e,i){var n,o=t.trigger,s={};t.trigger=function(){var i=arguments[0];if(-1===e.indexOf(i))return o.apply(t,arguments);s[i]=arguments},i.apply(t,[]),t.trigger=o;for(n in s)s.hasOwnProperty(n)&&o.apply(t,s[n])},g=function(t,e,i,n){t.on(e,i,function(e){for(var i=e.target;i&&i.parentNode!==t[0];)i=i.parentNode;return e.currentTarget=i,n.apply(this,[e])})},v=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e},y=function(t,e,i){var n,o,s={};if(i)for(n=0,o=i.length;n<o;n++)s[i[n]]=t.css(i[n]);else s=t.css();e.css(s)},b=function(e,i){if(!e)return 0;var n=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");y(i,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=n.width();return n.remove(),o},_=function(t){var e=null,i=function(i,n){var o,s,r,a,l,h,d,u;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||!1!==t.data("grow"))&&(o=t.val(),i.type&&"keydown"===i.type.toLowerCase()&&(s=i.keyCode,r=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,46===s||8===s?(u=v(t[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):8===s&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):46===s&&void 0!==u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):r&&(h=i.shiftKey,d=String.fromCharCode(i.keyCode),d=h?d.toUpperCase():d.toLowerCase(),o+=d)),a=t.attr("placeholder"),!o&&a&&(o=a),(l=b(o,t)+4)!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",i),i()},w=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},x=function(i,n){var o,s,r,a,l=this;a=i[0],a.selectize=l;var h=window.getComputedStyle&&window.getComputedStyle(a,null);if(r=h?h.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,r=r||i.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++x.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:f(l.onSearchChange,n.loadThrottle)}),l.sifter=new e(this.options,{diacritics:n.diacritics}),l.settings.options){for(o=0,s=l.settings.options.length;o<s;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,s=l.settings.optgroups.length;o<s;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(x),void 0!==i?i.mixin(x):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(x.prototype,{setup:function(){var e,i,n,o,h,d,u,c,p,f,m=this,v=m.settings,y=m.eventNS,b=t(window),w=t(document),x=m.$input;if(u=m.settings.mode,c=x.attr("class")||"",e=t("<div>").addClass(v.wrapperClass).addClass(c).addClass(u),i=t("<div>").addClass(v.inputClass).addClass("items").appendTo(e),n=t('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",x.is(":disabled")?"-1":m.tabIndex),d=t(v.dropdownParent||e),o=t("<div>").addClass(v.dropdownClass).addClass(u).hide().appendTo(d),h=t("<div>").addClass(v.dropdownContentClass).appendTo(o),(f=x.attr("id"))&&(n.attr("id",f+"-selectized"),t("label[for='"+f+"']").attr("for",f+"-selectized")),m.settings.copyClassesToDropdown&&o.addClass(c),e.css({width:x[0].style.width}),m.plugins.names.length&&(p="plugin-"+m.plugins.names.join(" plugin-"),e.addClass(p),o.addClass(p)),(null===v.maxItems||v.maxItems>1)&&1===m.tagType&&x.attr("multiple","multiple"),m.settings.placeholder&&n.attr("placeholder",v.placeholder),!m.settings.splitOn&&m.settings.delimiter){var S=m.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");m.settings.splitOn=new RegExp("\\s*"+S+"+\\s*")}x.attr("autocorrect")&&n.attr("autocorrect",x.attr("autocorrect")),x.attr("autocapitalize")&&n.attr("autocapitalize",x.attr("autocapitalize")),m.$wrapper=e,m.$control=i,m.$control_input=n,m.$dropdown=o,m.$dropdown_content=h,o.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),o.on("mousedown click","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),g(i,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),_(n),i.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),n.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),w.on("keydown"+y,function(t){m.isCmdDown=t[s?"metaKey":"ctrlKey"],m.isCtrlDown=t[s?"altKey":"ctrlKey"],m.isShiftDown=t.shiftKey}),w.on("keyup"+y,function(t){t.keyCode===a&&(m.isCtrlDown=!1),16===t.keyCode&&(m.isShiftDown=!1),t.keyCode===r&&(m.isCmdDown=!1)}),w.on("mousedown"+y,function(t){if(m.isFocused){if(t.target===m.$dropdown[0]||t.target.parentNode===m.$dropdown[0])return!1;m.$control.has(t.target).length||t.target===m.$control[0]||m.blur(t.target)}}),b.on(["scroll"+y,"resize"+y].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),b.on("mousemove"+y,function(){m.ignoreHover=!1}),this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")},x.attr("tabindex",-1).hide().after(m.$wrapper),t.isArray(v.items)&&(m.setValue(v.items),delete v.items),l&&x.on("invalid"+y,function(t){t.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,x.is(":disabled")&&m.disable(),m.on("change",this.onChange),x.data("selectize",m),x.addClass("selectized"),m.trigger("initialize"),!0===v.preload&&m.onSearchChange("")},setupTemplates:function(){var e=this,i=e.settings.labelField,n=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var i=this,n=e.isDefaultPrevented();t(e.target);if(i.isFocused){if(e.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var i=this;if(i.isFull()||i.isInputHidden||i.isLocked)return void e.preventDefault();i.settings.splitOn&&setTimeout(function(){var e=i.$control_input.val();if(e.match(i.settings.splitOn))for(var n=t.trim(e).split(i.settings.splitOn),o=0,s=n.length;o<s;o++)i.createItem(n[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(e.isLocked)return void(9!==t.keyCode&&t.preventDefault());switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,-1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(s?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var i=e.$control_input.val()||"";e.lastValue!==i&&(e.lastValue=i,e.onSearchChange(i),e.refreshOptions(),e.trigger("type",i))},onSearchChange:function(t){var e=this,i=e.settings.load;i&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(n){i.apply(e,[t,n])})))},onFocus:function(t){var e=this,i=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var i,n,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),n=t(e.currentTarget),n.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(i=n.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(i),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(i)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){m(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,i){var n,o,s,r,a,l,h,d,u=this;if("single"!==u.settings.mode){if(e=t(e),!e.length)return t(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(n=i&&i.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),r=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]),a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[e[0]]),r>a&&(h=r,r=a,a=h),o=r;o<=a;o++)l=u.$control[0].childNodes[o],-1===u.$activeItems.indexOf(l)&&(t(l).addClass("active"),u.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&u.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(s=u.$activeItems.indexOf(e[0]),u.$activeItems.splice(s,1),e.removeClass("active")):u.$activeItems.push(e.addClass("active")[0]):(t(u.$activeItems).removeClass("active"),u.$activeItems=[e.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(e,i,n){var o,s,r,a,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,e=t(e),e.length&&(d.$activeOption=e.addClass("active"),!i&&h(i)||(o=d.$dropdown_content.height(),s=d.$activeOption.outerHeight(!0),i=d.$dropdown_content.scrollTop()||0,r=d.$activeOption.offset().top-d.$dropdown_content.offset().top+i,a=r,l=r-o+s,r+s>o+i?d.$dropdown_content.stop().animate({scrollTop:l},n?d.settings.scrollDuration:0):r<i&&d.$dropdown_content.stop().animate({scrollTop:a},n?d.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var i,n,o,s=this,r=s.settings,a=this.getSearchOptions();if(r.score&&"function"!=typeof(o=s.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==s.lastQuery?(s.lastQuery=e,n=s.sifter.search(e,t.extend(a,{score:o})),s.currentResults=n):n=t.extend(!0,{},s.currentResults),r.hideSelected)for(i=n.items.length-1;i>=0;i--)-1!==s.items.indexOf(d(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(e){var i,o,s,r,a,l,h,u,c,p,f,m,g,v,y,b;void 0===e&&(e=!0);var _=this,x=t.trim(_.$control_input.val()),S=_.search(x),C=_.$dropdown_content,D=_.$activeOption&&d(_.$activeOption.attr("data-value"));for(r=S.items.length,"number"==typeof _.settings.maxOptions&&(r=Math.min(r,_.settings.maxOptions)),a={},l=[],i=0;i<r;i++)for(h=_.options[S.items[i].id],u=_.render("option",h),c=h[_.settings.optgroupField]||"",p=t.isArray(c)?c:[c],o=0,s=p&&p.length;o<s;o++)c=p[o],_.optgroups.hasOwnProperty(c)||(c=""),a.hasOwnProperty(c)||(a[c]=document.createDocumentFragment(),l.push(c)),a[c].appendChild(u);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(_.optgroups[t].$order||0)-(_.optgroups[e].$order||0)}),f=document.createDocumentFragment(),i=0,r=l.length;i<r;i++)c=l[i],_.optgroups.hasOwnProperty(c)&&a[c].childNodes.length?(m=document.createDocumentFragment(),m.appendChild(_.render("optgroup_header",_.optgroups[c])),m.appendChild(a[c]),f.appendChild(_.render("optgroup",t.extend({},_.optgroups[c],{html:w(m),dom:m})))):f.appendChild(a[c]);if(C.html(f),_.settings.highlight&&S.query.length&&S.tokens.length)for(C.removeHighlight(),i=0,r=S.tokens.length;i<r;i++)n(C,S.tokens[i].regex);if(!_.settings.hideSelected)for(i=0,r=_.items.length;i<r;i++)_.getOption(_.items[i]).addClass("selected");g=_.canCreate(x),g&&(C.prepend(_.render("option_create",{input:x})),b=t(C[0].childNodes[0])),_.hasOptions=S.items.length>0||g,_.hasOptions?(S.items.length>0?(y=D&&_.getOption(D),y&&y.length?v=y:"single"===_.settings.mode&&_.items.length&&(v=_.getOption(_.items[0])),v&&v.length||(v=b&&!_.settings.addPrecedence?_.getAdjacentOption(b,1):C.find("[data-selectable]:first"))):v=b,_.setActiveOption(v),e&&!_.isOpen&&_.open()):(_.setActiveOption(null),e&&_.isOpen&&_.close())},addOption:function(e){var i,n,o,s=this;if(t.isArray(e))for(i=0,n=e.length;i<n;i++)s.addOption(e[i]);else(o=s.registerOption(e))&&(s.userOptions[o]=!0,s.lastQuery=null,s.trigger("option_add",o,e))},registerOption:function(t){var e=d(t[this.settings.valueField]);return void 0!==e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=d(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,i){var n,o,s,r,a,l,h,u=this;if(e=d(e),s=d(i[u.settings.valueField]),null!==e&&u.options.hasOwnProperty(e)){if("string"!=typeof s)throw new Error("Value must be set in option data");h=u.options[e].$order,s!==e&&(delete u.options[e],-1!==(r=u.items.indexOf(e))&&u.items.splice(r,1,s)),i.$order=i.$order||h,u.options[s]=i,a=u.renderCache.item,l=u.renderCache.option,a&&(delete a[e],delete a[s]),l&&(delete l[e],delete l[s]),-1!==u.items.indexOf(s)&&(n=u.getItem(e),o=t(u.render("item",i)),n.hasClass("active")&&o.addClass("active"),n.replaceWith(o)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(t,e){var i=this;t=d(t);var n=i.renderCache.item,o=i.renderCache.option;n&&delete n[t],o&&delete o[t],delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,i){var n=this.$dropdown.find("[data-selectable]"),o=n.index(e)+i;return o>=0&&o<n.length?n.eq(o):t()},getElementWithValue:function(e,i){if(void 0!==(e=d(e))&&null!==e)for(var n=0,o=i.length;n<o;n++)if(i[n].getAttribute("data-value")===e)return t(i[n]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,i){for(var n=t.isArray(e)?e:[e],o=0,s=n.length;o<s;o++)this.isPending=o<s-1,this.addItem(n[o],i)},addItem:function(e,i){m(this,i?[]:["change"],function(){var n,o,s,r,a,l=this,h=l.settings.mode;if(e=d(e),-1!==l.items.indexOf(e))return void("single"===h&&l.close());l.options.hasOwnProperty(e)&&("single"===h&&l.clear(i),"multi"===h&&l.isFull()||(n=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(n),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(s=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),r=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==h),r&&l.setActiveOption(l.getOption(r))),!s.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,n),l.updateOriginalInput({silent:i}))))})},removeItem:function(e,i){var n,o,s,r=this;n=e instanceof t?e:r.getItem(e),e=d(n.attr("data-value")),-1!==(o=r.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(s=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(s,1)),r.items.splice(o,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,i),o<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:i}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(e,i){var n=this,o=n.caretPos;e=e||t.trim(n.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(e))return s(),!1;n.lock();var r="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},a=p(function(t){if(n.unlock(),!t||"object"!=typeof t)return s();var e=d(t[n.settings.valueField]);if("string"!=typeof e)return s();n.setTextboxValue(""),n.addOption(t),n.setCaret(o),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),s(t)}),l=r.apply(this,[e,a]);return void 0!==l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,i=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!i&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},
updateOriginalInput:function(t){var e,i,n,o,s=this;if(t=t||{},1===s.tagType){for(n=[],e=0,i=s.items.length;e<i;e++)o=s.options[s.items[e]][s.settings.labelField]||"",n.push('<option value="'+u(s.items[e])+'" selected="selected">'+u(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),s.$input.html(n.join(""))}else s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val());s.isSetup&&(t.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(e):t(this.$control[0].childNodes[i]).before(e),this.setCaret(i+1)},deleteSelection:function(e){var i,n,o,s,r,a,l,h,d,u=this;if(o=e&&8===e.keyCode?-1:1,s=v(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),r=[],u.$activeItems.length){for(d=u.$control.children(".active:"+(o>0?"last":"first")),a=u.$control.children(":not(input)").index(d),o>0&&a++,i=0,n=u.$activeItems.length;i<n;i++)r.push(t(u.$activeItems[i]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(o<0&&0===s.start&&0===s.length?r.push(u.items[u.caretPos-1]):o>0&&s.start===u.$control_input.val().length&&r.push(u.items[u.caretPos]));if(!r.length||"function"==typeof u.settings.onDelete&&!1===u.settings.onDelete.apply(u,[r]))return!1;for(void 0!==a&&u.setCaret(a);r.length;)u.removeItem(r.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(h=u.getOption(l),h.length&&u.setActiveOption(h)),!0},advanceSelection:function(t,e){var i,n,o,s,r,a=this;0!==t&&(a.rtl&&(t*=-1),i=t>0?"last":"first",n=v(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(s=a.$control_input.val().length,(t<0?0===n.start&&0===n.length:n.start===s)&&!s&&a.advanceCaret(t,e)):(r=a.$control.children(".active:"+i),r.length&&(o=a.$control.children(":not(input)").index(r),a.setActiveItem(null),a.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var i,n,o=this;0!==t&&(i=t>0?"next":"prev",o.isShiftDown?(n=o.$control_input[i](),n.length&&(o.hideInput(),o.setActiveItem(n),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var i=this;if(e="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,e)),!i.isPending){var n,o,s,r;for(s=i.$control.children(":not(input)"),n=0,o=s.length;n<o;n++)r=t(s[n]).detach(),n<e?i.$control_input.before(r):i.$control.append(r)}i.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,i=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(i),t(document).off(i),t(document.body).off(i),delete e.$input[0].selectize},render:function(e,i){var n,o,s="",r=!1,a=this;return"option"!==e&&"item"!==e||(n=d(i[a.settings.valueField]),r=!!n),r&&(h(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(s=t(a.settings.render[e].apply(this,[i,u])),"option"===e||"option_create"===e?s.attr("data-selectable",""):"optgroup"===e&&(o=i[a.settings.optgroupValueField]||"",s.attr("data-group",o)),"option"!==e&&"item"!==e||s.attr("data-value",n||""),r&&(a.renderCache[e][n]=s[0]),s[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var i=e.settings.createFilter;return t.length&&("function"!=typeof i||i.apply(e,[t]))&&("string"!=typeof i||new RegExp(i).test(t))&&(!(i instanceof RegExp)||i.test(t))}}),x.count=0,x.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var i=t.fn.selectize.defaults,n=t.extend({},i,e),o=n.dataAttr,s=n.labelField,r=n.valueField,a=n.optgroupField,l=n.optgroupLabelField,h=n.optgroupValueField,u=function(e,i){var a,l,h,d,u=e.attr(o);if(u)for(i.options=JSON.parse(u),a=0,l=i.options.length;a<l;a++)i.items.push(i.options[a][r]);else{var c=t.trim(e.val()||"");if(!n.allowEmptyOption&&!c.length)return;for(h=c.split(n.delimiter),a=0,l=h.length;a<l;a++)d={},d[s]=h[a],d[r]=h[a],i.options.push(d);i.items=h}},c=function(e,i){var u,c,p,f,m=i.options,g={},v=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var l=d(e.val());if(l||n.allowEmptyOption)if(g.hasOwnProperty(l)){if(o){var h=g[l][a];h?t.isArray(h)?h.push(o):g[l][a]=[h,o]:g[l][a]=o}}else{var u=v(e)||{};u[s]=u[s]||e.text(),u[r]=u[r]||l,u[a]=u[a]||o,g[l]=u,m.push(u),e.is(":selected")&&i.items.push(l)}};for(i.maxItems=e.attr("multiple")?null:1,f=e.children(),u=0,c=f.length;u<c;u++)p=f[u].tagName.toLowerCase(),"optgroup"===p?function(e){var n,o,s,r,a;for(e=t(e),s=e.attr("label"),s&&(r=v(e)||{},r[l]=s,r[h]=s,i.optgroups.push(r)),a=t("option",e),n=0,o=a.length;n<o;n++)y(a[n],s)}(f[u]):"option"===p&&y(f[u])};return this.each(function(){if(!this.selectize){var o=t(this),s=this.tagName.toLowerCase(),r=o.attr("placeholder")||o.attr("data-placeholder");r||n.allowEmptyOption||(r=o.children('option[value=""]').text());var a={placeholder:r,options:[],optgroups:[],items:[]};"select"===s?c(o,a):u(o,a),new x(o,t.extend(!0,{},i,a,e))}})},t.fn.selectize.defaults=x.defaults,t.fn.selectize.support={validity:l},x.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var t=i.lock;return function(){var e=i.$control.data("sortable");return e&&e.disable(),t.apply(i,arguments)}}(),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(e)}})}}()}}),x.define("dropdown_header",function(e){var i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=function(){var n=i.setup;return function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)}}()}),x.define("optgroup_columns",function(e){var i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,i){var n=e.closest("[data-group]").find("[data-selectable]"),o=n.index(e)+i;return o>=0&&o<n.length?n.eq(o):t()},this.onKeyDown=function(){var t=i.onKeyDown;return function(e){var n,o,s,r;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?t.apply(this,arguments):(i.ignoreHover=!0,r=this.$activeOption.closest("[data-group]"),n=r.find("[data-selectable]").index(this.$activeOption),r=37===e.keyCode?r.prev("[data-group]"):r.next("[data-group]"),s=r.find("[data-selectable]"),o=s.eq(Math.min(s.length-1,n)),void(o.length&&this.setActiveOption(o)))}}();var n=function(){var t,e=n.width,i=document;return void 0===e&&(t=i.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=n.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e},o=function(){var o,s,r,a,l,h,d;if(d=t("[data-group]",i.$dropdown_content),(s=d.length)&&i.$dropdown_content.width()){if(e.equalizeHeight){for(r=0,o=0;o<s;o++)r=Math.max(r,d.eq(o).height());d.css({height:r})}e.equalizeWidth&&(h=i.$dropdown_content.innerWidth()-n(),a=Math.round(h/s),d.css({width:a}),s>1&&(l=h-a*(s-1),d.eq(s-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(c.after(this,"positionDropdown",o),c.after(this,"refreshOptions",o))}),x.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);if("single"===this.settings.mode)return void function(e,i){i.className="remove-single";var n=e,o='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+u(i.title)+'">'+i.label+"</a>",s=function(t,e){return t+e};e.setup=function(){var r=n.setup;return function(){if(i.append){var a=t(n.$input.context).attr("id"),l=(t("#"+a),n.settings.render.item);n.settings.render.item=function(t){return s(l.apply(e,arguments),o)}}r.apply(e,arguments),e.$control.on("click","."+i.className,function(t){t.preventDefault(),n.isLocked||n.clear()})}}()}(this,e);!function(e,i){var n=e,o='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+u(i.title)+'">'+i.label+"</a>",s=function(t,e){var i=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,i)+e+t.substring(i)};e.setup=function(){var r=n.setup;return function(){if(i.append){var a=n.settings.render.item;n.settings.render.item=function(t){return s(a.apply(e,arguments),o)}}r.apply(e,arguments),e.$control.on("click","."+i.className,function(e){if(e.preventDefault(),!n.isLocked){var i=t(e.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}(this,e)}),x.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var i=e.onKeyDown;return function(e){var n,o;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1)>=0&&n<this.items.length?(o=this.options[this.items[n]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):i.apply(this,arguments)}}()}),x}),define("clientselect",["rest","selectize"],function(t){"use strict";function e(){var t=s.selectize({valueField:"clientId",labelField:"visuId",searchField:["clientId","visuId"],sortField:"visuId",options:r,render:{option:function(t,e){return'<div><span class="label">'+e(t.visuId)+'</span><span class="caption">'+e(t.clientId)+"</span></div>"}}});a=t[0].selectize,a.on("change",function(t){t&&0!==t.length&&(l(t),sessionStorage.setItem(h,t))}),i()}function i(){if(r.length>0){var t=sessionStorage.getItem(h);t&&n(t)||(t=r[0].clientId,sessionStorage.setItem(h,t)),a.setValue(t)}}function n(t){return void 0!==r.filter(function(e){return e.clientId===t})[0]}function o(){$.when(t.getServerInfo("getClients")).then(function(t){try{r=JSON.parse(t)}catch(t){console.log("Error in clients JSON: "+t.message)}s.hasClass("selectized")?(a.clearOptions(),a.addOption(r),i()):e()})}var s=null,r=[],a=null,l=function(){},h="clientId";return{init:function(t){s=$("#"+t),o()},reload:function(){o()},disable:function(){a.disable()},enable:function(){a.enable()},getElement:function(){return s},change:function(t){l=t}}}),function(t){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{};var n=(t.ui.version="1.12.1",0),o=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{n=t._data(o,"events"),n&&n.remove&&t(o).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,s,r,a={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},o=t[l][e],s=t[l][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(n,function(e,n){if(!t.isFunction(n))return void(a[e]=n);a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=s,e}}()}),s.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:h}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,s=o.call(arguments,1),r=0,a=s.length;r<a;r++)for(i in s[r])n=s[r][i],s[r].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(s){var r="string"==typeof s,a=o.call(arguments,1),l=this;return r?this.length||"instance"!==s?this.each(function(){var i,o=t.data(this,n);return"instance"===s?(l=o,!1):o?t.isFunction(o[s])&&"_"!==s.charAt(0)?(i=o[s].apply(o,a),i!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=t.widget.extend.apply(null,[s].concat(a))),this.each(function(){var e=t.data(this,n);e?(e.option(s||{}),e._init&&e._init()):t.data(this,n,new i(s,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,s,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(o=r[e]=t.widget.extend({},this.options[e]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,o;for(i in e)o=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&o&&o.length&&(n=t(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,s){var r,a;for(a=0;a<i.length;a++)r=o.classesElementLookup[i[a]]||t(),r=t(e.add?t.unique(r.get().concat(e.element.get())):r.not(e.element).get()),o.classesElementLookup[i[a]]=r,n.push(i[a]),s&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],o=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,o){-1!==t.inArray(e.target,o)&&(i.classesElementLookup[n]=t(o.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof t||null===t,s={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(e,i,n){var o,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,r){function a(){if(e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?s[r]:r).apply(s,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+s.eventNamespace,d=l[2];d?o.on(h,d,a):i.on(h,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var o,s,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(t.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?!0===o||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}});t.widget;!function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var o,s=Math.max,r=Math.abs,a=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,u=/%$/,c=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return t("body").append(n),e=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:n||o?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return c.apply(this,arguments);o=t.extend({},o);var u,p,f,m,g,v,y=t(o.of),b=t.position.getWithinInfo(o.within),_=t.position.getScrollInfo(b),w=(o.collision||"flip").split(" "),x={};return v=n(y),y[0].preventDefault&&(o.at="left top"),p=v.width,f=v.height,m=v.offset,g=t.extend({},m),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),x[this]=[t?t[0]:0,e?e[0]:0],o[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===o.at[0]?g.left+=p:"center"===o.at[0]&&(g.left+=p/2),"bottom"===o.at[1]?g.top+=f:"center"===o.at[1]&&(g.top+=f/2),u=e(x.at,p,f),g.left+=u[0],g.top+=u[1],this.each(function(){var n,a,l=t(this),h=l.outerWidth(),d=l.outerHeight(),c=i(this,"marginLeft"),v=i(this,"marginTop"),S=h+c+i(this,"marginRight")+_.width,C=d+v+i(this,"marginBottom")+_.height,D=t.extend({},g),T=e(x.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?D.left-=h:"center"===o.my[0]&&(D.left-=h/2),"bottom"===o.my[1]?D.top-=d:"center"===o.my[1]&&(D.top-=d/2),D.left+=T[0],D.top+=T[1],n={marginLeft:c,marginTop:v},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:d,collisionPosition:n,collisionWidth:S,collisionHeight:C,offset:[u[0]+T[0],u[1]+T[1]],my:o.my,at:o.at,within:b,elem:l})}),o.using&&(a=function(t){var e=m.left-D.left,i=e+p-h,n=m.top-D.top,a=n+f-d,u={target:{element:y,left:m.left,top:m.top,width:p,height:f},element:{element:l,left:D.left,top:D.top,width:h,height:d},horizontal:i<0?"left":e>0?"right":"center",vertical:a<0?"top":n>0?"bottom":"middle"};p<h&&r(e+i)<p&&(u.horizontal="center"),f<d&&r(n+a)<f&&(u.vertical="middle"),s(r(e),r(i))>s(r(n),r(a))?u.important="horizontal":u.important="vertical",o.using.call(this,t,u)}),l.offset(t.extend(D,{using:a}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,h=a+e.collisionWidth-r-o;e.collisionWidth>r?l>0&&h<=0?(i=t.left+l+e.collisionWidth-r-o,t.left+=l-i):t.left=h>0&&l<=0?o:l>h?o+r-e.collisionWidth:o:l>0?t.left+=l:h>0?t.left-=h:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,h=a+e.collisionHeight-r-o;e.collisionHeight>r?l>0&&h<=0?(i=t.top+l+e.collisionHeight-r-o,t.top+=l-i):t.top=h>0&&l<=0?o:l>h?o+r-e.collisionHeight:o:l>0?t.top+=l:h>0?t.top-=h:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=t.left-e.collisionPosition.marginLeft,d=h-l,u=h+e.collisionWidth-a-l,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];d<0?((i=t.left+c+p+f+e.collisionWidth-a-s)<0||i<r(d))&&(t.left+=c+p+f):u>0&&((n=t.left-e.collisionPosition.marginLeft+c+p+f-l)>0||r(n)<u)&&(t.left+=c+p+f)},top:function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=t.top-e.collisionPosition.marginTop,d=h-l,u=h+e.collisionHeight-a-l,c="top"===e.my[1],p=c?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];d<0?((n=t.top+p+f+m+e.collisionHeight-a-s)<0||n<r(d))&&(t.top+=p+f+m):u>0&&((i=t.top-e.collisionPosition.marginTop+p+f+m-l)>0||r(i)<u)&&(t.top+=p+f+m)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});t.ui.focusable=function(i,n){var o,s,r,a,l,h=i.nodeName.toLowerCase();return"area"===h?(o=i.parentNode,s=o.name,!(!i.href||!s||"map"!==o.nodeName.toLowerCase())&&(r=t("img[usemap='#"+s+"']"),r.length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(h)?(a=!i.disabled)&&(l=t(i).closest("fieldset")[0])&&(a=!l.disabled):a="a"===h?i.href||n:n,a&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});var s=(t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,n,o,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),s=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",o=o.add(s.find(i).addBack(i))),this.pushStack(o))},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);t(document).on("mouseup",function(){s=!1});t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){
i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var o,s=t.ui[e].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(t,e,i,n){var o,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)t.options[s[o][0]]&&s[o][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),o=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options,s=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),void((n=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var o=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,n){var o=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,i,n){t.each(n.sortables,function(){var o=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])&&(o=!1),o})),o?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},e.target=s.currentItem[0],s._mouseCapture(e,!0),s._mouseStart(e,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",e),n.dropped=s.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(e),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",e,s._uiHash(s)),s._mouseStop(e,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var o=t("body"),s=n.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(e,i,n){var o=n.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var o=t(i.helper),s=n.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(e,i,n){var o=n.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var o=n.options,s=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:e.pageY-n.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:e.pageX-n.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),!1!==s&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var o=n.options;n.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var o,s,r,a,l,h,d,u,c,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(c=n.snapElements.length-1;c>=0;c--)l=n.snapElements[c].left-n.margins.left,h=l+n.snapElements[c].width,d=n.snapElements[c].top-n.margins.top,u=d+n.snapElements[c].height,v<l-m||g>h+m||b<d-m||y>u+m||!t.contains(n.snapElements[c].item.ownerDocument,n.snapElements[c].item)?(n.snapElements[c].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(d-b)<=m,s=Math.abs(u-y)<=m,r=Math.abs(l-v)<=m,a=Math.abs(h-g)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left)),p=o||s||r||a,"outer"!==f.snapMode&&(o=Math.abs(d-y)<=m,s=Math.abs(u-b)<=m,r=Math.abs(l-g)<=m,a=Math.abs(h-v)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left)),!n.snapElements[c].snapping&&(o||s||r||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=o||s||r||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var o,s=n.options,r=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var o=t(i.helper),s=n.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(e,i,n){var o=n.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0||(e[n]=1,o=e[n]>0,e[n]=0,o)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,o,s,r=this.options,a=this;if(this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)e=t.trim(n[i]),o="ui-resizable-"+e,s=t("<div>"),this._addClass(s,"ui-resizable-handle "+o),s.css({zIndex:r.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(s);this._renderAxis=function(e){var i,n,o,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,n,o,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=t(s.containment).scrollLeft()||0,n+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,o=this.originalMousePosition,s=this.axis,r=e.pageX-o.left||0,a=e.pageY-o.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,o,s,r,a,l,h=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,s=n?0:d.sizeDiff.width,r={width:d.helper.width()-s,height:d.helper.height()-o},a=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null,h.animate||this.element.css(t.extend(r,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),s&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),r&&d&&(t.top=l-e.minHeight),o&&d&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(o[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){
return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,d&&h?{top:d,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,o,s,r,a,l=t(this).resizable("instance"),h=l.options,d=l.element,u=h.containment,c=u instanceof t?u.get(0):/parent/.test(u)?d.parent().get(0):u;c&&(l.containerElement=t(c),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(c),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(c,"left")?c.scrollWidth:s,a=l._hasScroll(c)?c.scrollHeight:o,l.parentData={element:c,left:n.left,top:n.top,width:r,height:a}))},resize:function(e){var i,n,o,s,r=t(this).resizable("instance"),a=r.options,l=r.containerOffset,h=r.position,d=r._aspectRatio||e.shiftKey,u={top:0,left:0},c=r.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(u=l),h.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),d&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),h.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),d&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-l.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,d&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,d&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,o=e.containerPosition,s=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,h=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),o=n.options,s=n.originalSize,r=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0};t(o.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},s=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,o=i.size,s=i.originalSize,r=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,h=l[0]||1,d=l[1]||1,u=Math.round((o.width-s.width)/h)*h,c=Math.round((o.height-s.height)/d)*d,p=s.width+u,f=s.height+c,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=h),y&&(f+=d),m&&(p-=h),g&&(f-=d),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=r.top-c):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=r.left-u):((f-d<=0||p-h<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-d>0?(i.size.height=f,i.position.top=r.top-c):(f=d-e.height,i.size.height=f,i.position.top=r.top+s.height-f),p-h>0?(i.size.width=p,i.position.left=r.left-u):(p=h-e.width,i.size.width=p,i.position.left=r.left+s.width-p))}});var r=(t.ui.resizable,/ui-corner-([a-z]){2,6}/g);t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,o){var s,r={};if(o)return"controlgroupLabel"===n?(s=e.element.find(o),s.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(s,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(s.get()))):void(t.fn[n]&&(r=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(o).each(function(){var o=t(this),s=o[n]("instance"),a=t.widget.extend({},r);if("button"!==n||!o.parent(".ui-spinner").length){s||(s=o[n]()[n]("instance")),s&&(a.classes=e._resolveClassesValues(a.classes,s)),o[n](a);var l=o[n]("widget");t.data(l[0],"ui-controlgroup-data",s||o[n]("instance")),i.push(l[0])}})))}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(o){var s=i.options.classes[o]||"";s=t.trim(s.replace(r,"")),n[o]=(s+" "+e[o]).replace(/\s+/g," ")}),n},_setOption:function(t,e){if("direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t)return void this._callChildMethod(e?"disable":"enable");this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,n){var o=e[n]().data("ui-controlgroup-data");if(o&&i["_"+o.widgetName+"Options"]){var s=i["_"+o.widgetName+"Options"](1===e.length?"only":n);s.classes=i._resolveClassesValues(s.classes,o),o.element[o.widgetName](s)}else i._updateCornerClass(e[n](),n)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,o=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(o.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(o.disabled=e),o},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,o=n?this.options.iconPosition:i,s="top"===o||"bottom"===o;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(o),s?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){if("text"===t)return void this._super("showLabel",e);"showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});t.ui.button;t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),s=Math.max.apply(null,o);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){o.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length)return void this._removeClass(this.uiDialog,"ui-dialog-buttons");t.each(i,function(i,n){var o,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),o=n.click,s={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(s).appendTo(e.uiButtonSet).on("click",function(){o.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(o))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(o,s){var r=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(a>=0?"+":"")+a,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),r="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,o){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(o))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(o,s){var r=i.uiDialog.offset(),a=r.left-i.document.scrollLeft(),l=r.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,o={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(o[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,i){var n,o,s=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(n=s.is(":data(ui-draggable)"),n&&!i&&s.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(o=s.is(":data(ui-resizable)"),o&&!i&&s.resizable("destroy"),o&&"string"==typeof i&&s.resizable("option","handles",i),o||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),
this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);null!=o&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,o;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),o=this.buttons.last().find(".ui-icon"),this._removeClass(o,null,this.options.icons.down),this._addClass(o,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:i(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:i(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:i(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:i(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:i(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());i(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});t.ui.spinner}),define("valuedialog",["jquery-ui"],function(){"use strict";function t(e){if(null===e||void 0===e)return"null";if("string"==typeof e)return $("<div />").text(e).html();if(Array.isArray(e)){for(var i=$("<table/>",{class:"valueTable",border:"1|1"}),n=0;n<e.length;n++){var o=n%2?"even":"odd",s=$("<tr/>",{class:o});$("<td/>",{class:"arrayTableColIndex",text:n}).appendTo(s),$("<td/>",{class:"arrayTableColValue",html:t(e[n])}).appendTo(s),i.append(s)}return i}if("object"==typeof e){var r=$("<table/>",{class:"valueTable",border:"1|1"}),a=0;return $.each(e,function(e,i){var n=a%2?"even":"odd",o=$("<tr/>",{class:n});$("<td/>",{class:"objectTableColIndex",text:e}).appendTo(o),$("<td/>",{class:"objectTableColValue",html:t(i)}).appendTo(o),r.append(o),++a}),r}return e}function e(t){t.dialog("option","height",t.closest(".ui-dialog").outerHeight()),t.dialog("option","maxHeight",800)}function i(t){var e=t.dialog("option","minWidth"),i=t.dialog("option","maxWidth"),n=t.outerWidth();n<e&&t.dialog("option","width",e),n>i&&t.dialog("option","width",i),t.dialog("option","maxWidth",1200)}return{create:function(n,o){return $("<div />").html(t(o)).dialog({title:n,minHeight:100,maxHeight:400,width:"auto",maxWidth:800,open:function(){e($(this)),i($(this))}}).dialog("widget")},closeAll:function(){$(".ui-dialog-content").dialog("close")}}}),function(t){"function"==typeof define&&define.amd?define("rowGroup",["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";var o=t.fn.dataTable,s=function(e,i){if(!o.versionCheck||!o.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";this.c=t.extend(!0,{},o.defaults.rowGroup,s.defaults,i),this.s={dt:new o.Api(e),dataFn:o.ext.oApi._fnGetObjectDataFn(this.c.dataSrc)},this.dom={};var n=this.s.dt.settings()[0],r=n.rowGroup;if(r)return r;n.rowGroup=this,this._constructor()};return t.extend(s.prototype,{dataSrc:function(e){if(e===n)return this.c.dataSrc;var i=this.s.dt;return this.c.dataSrc=e,this.s.dataFn=o.ext.oApi._fnGetObjectDataFn(this.c.dataSrc),t(i.table().node()).triggerHandler("rowgroup-datasrc.dt",[i,e]),this},disable:function(){return this.c.enable=!1,this},enable:function(t){return!1===t?this.disable():(this.c.enable=!0,this)},_constructor:function(){var t=this,e=this.s.dt;e.on("draw.dtrg",function(){t.c.enable&&t._draw()}),e.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",function(){t._adjustColspan()}),e.on("destroy",function(){e.off(".dtrg")})},_adjustColspan:function(){t("tr."+this.c.className,this.s.dt.table().body()).attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce(function(t,e){return t+e},0)},_draw:function(){var t,e,i=this,o=this.s.dt,s=o.rows({page:"current"}),r=[];s.every(function(){var e=this.data(),o=i.s.dataFn(e);t!==n&&o===t||(r.push([]),t=o),r[r.length-1].push(this.index())});for(var a=0,l=r.length;a<l;a++){var h=r[a],d=o.row(h[0]),u=this.s.dataFn(d.data());this.c.startRender&&(e=this.c.startRender.call(this,o.rows(h),u),this._rowWrap(e,this.c.startClassName).insertBefore(d.node())),this.c.endRender&&(e=this.c.endRender.call(this,o.rows(h),u),this._rowWrap(e,this.c.endClassName).insertAfter(o.row(h[h.length-1]).node()))}},_rowWrap:function(e,i){var n;return n="object"==typeof e&&e.nodeName&&"tr"===e.nodeName.toLowerCase()?t(e):e instanceof t&&e.length&&"tr"===e[0].nodeName.toLowerCase()?e:t("<tr/>").append(t("<td/>").attr("colspan",this._colspan()).append(e)),n.addClass(this.c.className).addClass(i)}}),s.defaults={className:"group",dataSrc:0,enable:!0,endClassName:"group-end",endRender:null,startClassName:"group-start",startRender:function(t,e){return e}},s.version="1.0.2",t.fn.dataTable.RowGroup=s,t.fn.DataTable.RowGroup=s,o.Api.register("rowGroup()",function(){return this}),o.Api.register("rowGroup().disable()",function(){return this.iterator("table",function(t){t.rowGroup&&t.rowGroup.enable(!1)})}),o.Api.register("rowGroup().enable()",function(t){return this.iterator("table",function(e){e.rowGroup&&e.rowGroup.enable(t===n||t)})}),o.Api.register("rowGroup().dataSrc()",function(t){return t===n?this.context[0].rowGroup.dataSrc():this.iterator("table",function(e){e.rowGroup&&e.rowGroup.dataSrc(t)})}),t(i).on("preInit.dt.dtrg",function(e,i,n){if("dt"===e.namespace){var r=i.oInit.rowGroup,a=o.defaults.rowGroup;if(r||a){var l=t.extend({},a,r);!1!==r&&new s(i,l)}}}),s}),define("activebindings",["rest","clientselect","valuedialog","datatables.net","rowGroup"],function(t,e,i){"use strict";function n(t){var e=$("<table/>",{id:"bindingsTable",class:"bindingsTable stripe order-column row-border"}),i=$("<thead/>").appendTo(e),n=$("<tr/>").appendTo(i);return t.forEach(function(t){$("<th/>",{html:t}).appendTo(n)}),e}function o(n){i.closeAll(),$.fn.dataTable.isDataTable("#bindingsTable")||s(),e.init("clientSelect");var o=e.getElement();$("#bindingsTable_wrapper").prepend(o),$("#editableFilterCheck").length||v().insertAfter(o),e.change(function(e){$.when(t.getServerInfo("getActiveBindings",{clientId:e})).then(function(t){try{_=JSON.parse(t)}catch(t){return console.log("Error in clients JSON: "+t.message),void b.clear()}_=h(_),b.clear().rows.add(_).draw(),u(),y(n),$(window).resize(function(){y(n)})})});var r=sessionStorage.getItem(x);r&&b.search(r)}function s(){return b=$("#bindingsTable").DataTable({autoWidth:!1,data:_,paging:!1,info:!1,scrollY:"auto",scrollCollapse:!0,order:[[3,"asc"]],orderFixed:[7,"asc"],rowGroup:{startRender:function(t,e){return""===e?"Session ("+t.count()+")":e+" ("+t.count()+")"},dataSrc:"scopeId"},columns:[{data:null,width:"10px"},{data:"mode",width:"15px",render:function(t,e){if("display"!==e)return t;var i={twoWay:"arrows-alt-v",oneWay:"long-arrow-alt-down",oneWayToSource:"long-arrow-alt-up"};return $("<i/>",{class:"fas fa-bmode fa-"+i[t],title:t})[0].outerHTML}},{data:null,width:"10px",render:function(t){return'<div title="Source" class="detailControlImg '+(a(t.source)?"":"detailControlImgDisabled")+'">S</div><div title="Target" class="detailControlImg '+(a(t.target)?"":"detailControlImgDisabled")+'">T</div>'}},{data:null,width:"80px",render:function(t){var e=$("<ul/>",{class:"bindingList"});return $("<li/>").text(t.source.type).appendTo(e),$("<li/>").text(t.target.type).appendTo(e),e.get(0).outerHTML}},{data:null,width:"300px",render:function(t,e){if("display"!==e)return t.source.refId+t.target.refId;t.source.refId=t.source.refId||"-",t.target.refId=t.target.refId||"-";var i=$("<ul/>",{class:"bindingList"});return $("<li/>").text(r(t.scopeId,t.source)).appendTo(i),$("<li/>").text(r(t.scopeId,t.target)).appendTo(i),i.get(0).outerHTML}},{data:null,width:"80px",render:function(t,e){if(t.source.attribute=t.source.attribute||"-",t.target.attribute=t.target.attribute||"-","display"!==e)return t.source.attribute+t.target.attribute;var i=$("<ul/>",{class:"bindingList"});return $("<li/>").text(t.source.attribute).appendTo(i),$("<li/>").text(t.target.attribute).appendTo(i),i.get(0).outerHTML}},{data:null,width:"620px",render:function(t,e,i,n){if("display"!==e)return t.sourceValue;var o=$("<ul />",{class:"bindingList"});return $("<li />",{id:"sourceValueLi",html:l(t.sourceValue,n.row)}).appendTo(o),$("<li />",{id:"targetValueLi",html:l(t.targetValue,n.row)}).appendTo(o),o.get(0).outerHTML}},{visible:!1,data:"scopeId",defaultContent:""}],columnDefs:[{targets:[0,2],orderable:!1,searchable:!1},{targets:1,type:"title-string"},{targets:[3,4,5,6],className:"dt-left"}]}),b.on("order.dt search.dt",function(){b.column(0,{search:"applied",order:"applied"}).nodes().each(function(t,e){t.innerHTML=e+1})}).draw(),b.on("search.dt",function(){sessionStorage.setItem(x,b.search())}),b}function r(t,e){if("brease"===e.type){var i=t.substr(t.lastIndexOf(w)+w.length);return e.refId.replace(i+"_","")}return e.refId}function a(t){return Object.keys(t).length>3}function l(t,e){if(null===t||void 0===t)return"null";var i=$("<div />").text(t).html();return"object"==typeof t&&(i=JSON.stringify(t)),i.length>90&&(i=$("<a/>",{class:"showValue","data-row":e,text:i.substr(0,87)+"..."})),i}function h(t){var e="br.xv.xibindingcollection.iid",i=d("",t.session.contents[e]),n=[],o=t.visusCollection.visualisations;return $.each(o,function(t,i){var o=i.visualization.contents[e];o&&(n=n.concat(d(t,o))),$.each(i.contents.scopes,function(i,o){var s=o.contents[e];n=n.concat(d(t+w+i,s))})}),i.concat(n)}function d(t,e){var i=[];return e.forEach(function(e){e.scopeId=t,i.push(e)}),i}function u(){c(),g()}function c(){$(".detailControlImg:not(.detailControlImgDisabled)").click(function(){var t=$(this).closest("tr"),e=b.row(t),i="detailControlImgShown",n=$(this).hasClass(i);if(e.child.isShown()&&(e.child.hide(),n&&$(this).removeClass(i)),!n){$(this).siblings().removeClass(i);var o="Source"===$(this).attr("title")?e.data().source:e.data().target,s=p(o);e.child(f(s)).show(),$(this).addClass(i)}})}function p(t){var e=jQuery.extend({},t);return delete e.attribute,delete e.refId,delete e.type,e}function f(t){var e=$("<table/>",{cellpadding:5,cellspacing:0,border:0,class:"clientDetails"});return $.each(t,function(t,i){m({description:t,data:i}).appendTo(e)}),e[0]}function m(t){var e=$("<tr/>");return $("<td/>",{text:t.description}).css("white-space","nowrap").appendTo(e),$("<td/>",{text:t.data}).appendTo(e),e}function g(){$("a.showValue").click(function(){var t=$(this),e=t.data("row"),n=t.closest("tr").children("td:first").html(),o=_[e].sourceValue,s="Source "+_[e].source.attribute;"targetValueLi"===t.closest("li").attr("id")&&(o=_[e].targetValue,s="Target "+_[e].target.attribute),s=n+": "+s.toString(),i.create(s,o).position({my:"center",at:"center",of:t,collision:"flipfit"})})}function v(){var t=$("<input />",{id:"editableFilterCheck",type:"checkbox"}),e=$("<label />",{for:"editableFilterCheck",text:" Show Editable-Bindings"}).append(t);return t.change(function(){b.column(5).search(this.checked?"":"^(?:(?!editable).)*$",!0,!1).draw()}),t.change(),e}function y(t){$("div.dataTables_scrollBody").height(t.height()-115+"px")}var b,_=[],w=" - ",x="bindingsSearchFilter";return{id:"activebindings",pageName:"Active<br>Bindings",data:function(){var t=$("<div/>").css("width","1400px");return $("<select/>",{id:"clientSelect",class:"clientSelect"}).appendTo(t),n(["","","","Type","RefId","Attribute","Value"]).appendTo(t),t}(),load:function(t){o(t)}}}),define("sessionvars",["rest","clientselect","datatables.net"],function(t,e){"use strict";function i(t){var e=$("<table/>",{id:"varsTable",class:"stripe order-column row-border"}),i=$("<thead/>").appendTo(e),n=$("<tr/>").appendTo(i);return t.forEach(function(t){$("<th/>",{html:t}).appendTo(n)}),e}function n(){s=$("#varsTable").DataTable({autoWidth:!1,data:r,paging:!1,info:!1,scrollY:"auto",scrollCollapse:!0,order:[[1,"desc"]],columns:[{data:null,width:"10px"},{data:"name",width:"190px"},{data:"type",width:"90px"},{data:"value",width:"300px",render:$.fn.dataTable.render.text()}],columnDefs:[{targets:0,orderable:!1,searchable:!1},{targets:[1,2,3],className:"dt-left"}]}),s.on("order.dt search.dt",function(){s.column(0,{search:"applied",order:"applied"}).nodes().each(function(t,e){t.innerHTML=e+1})}).draw(),s.on("search.dt",function(){sessionStorage.setItem(a,s.search())})}function o(t){$("div.dataTables_scrollBody").height(t.height()-115+"px")}var s,r,a="variableSearchFilter";return{id:"sessionvars",pageName:"Session<br>Variables",data:function(){var t=$("<div/>").css("width","1000px");return $("<select/>",{id:"clientSelect",class:"clientSelect"}).appendTo(t),i(["","Name","Datatype","Value"]).appendTo(t),t}(),load:function(i){$.fn.dataTable.isDataTable("#varsTable")||n(),e.init("clientSelect"),$("#varsTable_wrapper").prepend(e.getElement()),e.change(function(e){$.when(t.getServerInfo("getSessionVariables",{clientId:e})).then(function(t){try{r=JSON.parse(t).contents["br.xv.xivariables.iid"]}catch(t){return console.log("Error in clients JSON: "+t.message),void s.clear()}s.clear().rows.add(r).draw(),o(i),$(window).resize(function(){o(i)})});var n=sessionStorage.getItem(a);n&&s.search(n)})}}}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vis",e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=123)}([function(t,e,i){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var n=i(169),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n){var o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}var s=i(77),r=n(s),a=i(29),l=n(a),h=i(8),d=n(h),u=i(6),c=n(u),p=i(9),f=i(157);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,n){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(m.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return f.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,c.default)(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var s in t)void 0!==i[s]&&(null===i[s]||"object"!==(0,c.default)(i[s])?o(t,i,s,n):"object"===(0,c.default)(t[s])&&e.fillIfDefined(t[s],i[s],n))},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],s=0;s<t.length;s++){var r=t[s];o&&o.hasOwnProperty(r)&&(e[r]=o[r])}return e},e.selectiveDeepExtend=function(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var a=t[r];if(n.hasOwnProperty(a))if(n[a]&&n[a].constructor===Object)void 0===i[a]&&(i[a]={}),i[a].constructor===Object?e.deepExtend(i[a],n[a],!1,s):o(i,n,a,s);else{if(Array.isArray(n[a]))throw new TypeError("Arrays are not supported by deepExtend");o(i,n,a,s)}}return i},e.selectiveNotDeepExtend=function(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r)&&-1===t.indexOf(r))if(n[r]&&n[r].constructor===Object)void 0===i[r]&&(i[r]={}),i[r].constructor===Object?e.deepExtend(i[r],n[r]):o(i,n,r,s);else if(Array.isArray(n[r])){i[r]=[];for(var a=0;a<n[r].length;a++)i[r].push(n[r][a])}else o(i,n,r,s);return i},e.deepExtend=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in i)if(i.hasOwnProperty(r)||!0===n)if(i[r]&&i[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?e.deepExtend(t[r],i[r],n):o(t,i,r,s);else if(Array.isArray(i[r])){t[r]=[];for(var a=0;a<i[r].length;a++)t[r].push(i[r][a])}else o(t,i,r,s);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var n;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?p(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(p.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return n=m.exec(t),n?new Date(Number(n[1])):p(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return p(t);if(t instanceof Date)return p(t.valueOf());if(p.isMoment(t))return p(t);if(e.isString(t))return n=m.exec(t),p(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(p.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return n=m.exec(t),n?new Date(Number(n[1])).toISOString():p(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){n=m.exec(t);return"/Date("+(n?new Date(Number(n[1])).valueOf():new Date(t).valueOf())+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var m=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,c.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(t){return i.indexOf(t)<0})),t.className=i.join(" ")},e.removeClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(t){return n.indexOf(t)<0}),t.className=i.join(" ")},e.forEach=function(t,e){var i,n;if(Array.isArray(t))for(i=0,n=t.length;i<n;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){var n;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?(n=t.substr(t.indexOf("(")+1).replace(")","").split(","),"rgba("+n[0]+","+n[1]+","+n[2]+","+i+")"):(n=e.hexToRGB(t),null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+i+")")},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(n[0],n[1],n[2])}if(!0===e.isValidHex(t)){var o=e.hexToHSV(t),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},r={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},a=e.HSVToHex(r.h,r.s,r.v),l=e.HSVToHex(s.h,s.s,s.v);i={background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(n==o)return{h:0,s:0,v:n};var s=t==n?e-i:i==n?t-e:i-t;return{h:60*((t==n?3:i==n?1:5)-s/(o-n))/360,s:(o-n)/o,v:o}};var g={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),n=i[0].trim(),o=i[1].trim();e[n]=o}}),e},join:function(t){return(0,d.default)(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var n=g.split(t.style.cssText),o=g.split(i),s=e.extend(n,o);t.style.cssText=g.join(s)},e.removeCssText=function(t,e){var i=g.split(t.style.cssText),n=g.split(e);for(var o in n)n.hasOwnProperty(o)&&delete i[o];t.style.cssText=g.join(i)},e.HSVToRGB=function(t,e,i){var n,o,s,r=Math.floor(6*t),a=6*t-r,l=i*(1-e),h=i*(1-a*e),d=i*(1-(1-a)*e);switch(r%6){case 0:n=i,o=d,s=l;break;case 1:n=h,o=i,s=l;break;case 2:n=l,o=i,s=d;break;case 3:n=l,o=h,s=i;break;case 4:n=d,o=l,s=i;break;case 5:n=i,o=l,s=h}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*s)}},e.HSVToHex=function(t,i,n){var o=e.HSVToRGB(t,i,n);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,c.default)(i))){for(var n=(0,
l.default)(i),o=0;o<t.length;o++)i.hasOwnProperty(t[o])&&"object"==(0,c.default)(i[t[o]])&&(n[t[o]]=e.bridgeObject(i[t[o]]));return n}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,c.default)(t))){var i=(0,l.default)(t);if(t instanceof Element)i=t;else{i=(0,l.default)(t);for(var n in t)t.hasOwnProperty(n)&&"object"==(0,c.default)(t[n])&&(i[n]=e.bridgeObject(t[n]))}return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],o=i;o>0&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},e.mergeOptions=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t){return null!==t&&void 0!==t},s=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,c.default)(t))};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");var r=e[i],a=s(n)&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(n),h=a?n[i]:void 0,d=h?h.enabled:void 0;if(void 0!==r){if("boolean"==typeof r)return s(t[i])||(t[i]={}),void(t[i].enabled=r);if(null===r&&!s(t[i])){if(!o(h))return;t[i]=(0,l.default)(h)}if(s(r)){var u=!0;void 0!==r.enabled?u=r.enabled:void 0!==d&&(u=h.enabled),function(t,e,i){s(t[i])||(t[i]={});var n=e[i],o=t[i];for(var r in n)n.hasOwnProperty(r)&&(o[r]=n[r])}(t,e,i),t[i].enabled=u}}},e.binarySearchCustom=function(t,e,i,n){for(var o=0,s=0,r=t.length-1;s<=r&&o<1e4;){var a=Math.floor((s+r)/2),l=t[a],h=void 0===n?l[i]:l[i][n],d=e(h);if(0==d)return a;-1==d?s=a+1:r=a-1,o++}return-1},e.binarySearchValue=function(t,e,i,n,o){var s,r,a,l,h=0,d=0,u=t.length-1;for(o=void 0!=o?o:function(t,e){return t==e?0:t<e?-1:1};d<=u&&h<1e4;){if(l=Math.floor(.5*(u+d)),s=t[Math.max(0,l-1)][i],r=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==o(r,e))return l;if(o(s,e)<0&&o(r,e)>0)return"before"==n?Math.max(0,l-1):l;if(o(r,e)<0&&o(a,e)>0)return"before"==n?l:Math.min(t.length-1,l+1);o(r,e)<0?d=l+1:u=l-1,h++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n},e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var n=!0,o=!1,s=void 0;try{for(var a,l=(0,r.default)(t);!(n=(a=l.next()).done);n=!0){var h=a.value;if(h){i=h[e[0]];for(var d=1;d<e.length;d++)i&&(i=i[e[d]]);if(void 0!==i)break}}}catch(t){o=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw s}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var n=i(6),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(196),s=n(o),r=i(29),a=n(r),l=i(6),h=n(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,h.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.default?(0,s.default)(t,e):t.__proto__=e)}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(142),s=n(o),r=i(144),a=n(r),l="function"==typeof a.default&&"symbol"==typeof s.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===l(s.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(154)},function(t,e,i){function n(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(e){return{set:t}}}}if("undefined"!=typeof window){var o=i(175),s=window.Hammer||i(176);t.exports=o(s,{preventDefault:"mouse"})}else t.exports=function(){return n()}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,d.default)(this._options.type),n=0,o=i.length;n<o;n++){var s=i[n],r=this._options.type[s];this._type[s]="Date"==r||"ISODate"==r||"ASPDate"==r?"Date":r}this._subscribers={},t&&this.add(t),this.setOptions(e)}var s=i(19),r=n(s),a=i(6),l=n(a),h=i(8),d=n(h),u=i(2),c=i(43);o.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=c.extend(this,{replace:["add","update","remove"]})),"object"===(0,l.default)(t.queue)&&this._queue.setOptions(t.queue)))},o.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},o.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},o.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0,s=n.length;o<s;o++){var r=n[o];r.callback&&r.callback(t,e,i||null)}},o.prototype.add=function(t,e){var i,n=[],o=this;if(Array.isArray(t))for(var s=0,r=t.length;s<r;s++)i=o._addItem(t[s]),n.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,l.default)(t)))throw new Error("Unknown dataType");i=o._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n},o.prototype.update=function(t,e){var i=[],n=[],o=[],s=[],r=this,a=r._fieldId,h=function(t){var e=t[a];if(r._data[e]){var l=u.extend({},r._data[e]);e=r._updateItem(t),n.push(e),s.push(t),o.push(l)}else e=r._addItem(t),i.push(e)};if(Array.isArray(t))for(var d=0,c=t.length;d<c;d++)t[d]&&"object"===(0,l.default)(t[d])?h(t[d]):console.warn("Ignoring input item, which is not an object at index "+d);else{if(!t||"object"!==(void 0===t?"undefined":(0,l.default)(t)))throw new Error("Unknown dataType");h(t)}if(i.length&&this._trigger("add",{items:i},e),n.length){var p={items:n,oldData:o,data:s};this._trigger("update",p,e)}return i.concat(n)},o.prototype.get=function(t){var e,i,n,o=this,s=u.getType(arguments[0]);"String"==s||"Number"==s?(e=arguments[0],n=arguments[1]):"Array"==s?(i=arguments[0],n=arguments[1]):n=arguments[0];var r;if(n&&n.returnType){r=-1==["Array","Object"].indexOf(n.returnType)?"Array":n.returnType}else r="Array";var a,l,h,c,p,f=n&&n.type||this._options.type,m=n&&n.filter,g=[];if(void 0!=e)(a=o._getItem(e,f))&&m&&!m(a)&&(a=null);else if(void 0!=i)for(c=0,p=i.length;c<p;c++)a=o._getItem(i[c],f),m&&!m(a)||g.push(a);else for(l=(0,d.default)(this._data),c=0,p=l.length;c<p;c++)h=l[c],a=o._getItem(h,f),m&&!m(a)||g.push(a);if(n&&n.order&&void 0==e&&this._sort(g,n.order),n&&n.fields){var v=n.fields;if(void 0!=e)a=this._filterFields(a,v);else for(c=0,p=g.length;c<p;c++)g[c]=this._filterFields(g[c],v)}if("Object"==r){var y,b={};for(c=0,p=g.length;c<p;c++)y=g[c],b[y.id]=y;return b}return void 0!=e?a:g},o.prototype.getIds=function(t){var e,i,n,o,s,r=this._data,a=t&&t.filter,l=t&&t.order,h=t&&t.type||this._options.type,u=(0,d.default)(r),c=[];if(a)if(l){for(s=[],e=0,i=u.length;e<i;e++)n=u[e],o=this._getItem(n,h),a(o)&&s.push(o);for(this._sort(s,l),e=0,i=s.length;e<i;e++)c.push(s[e][this._fieldId])}else for(e=0,i=u.length;e<i;e++)n=u[e],o=this._getItem(n,h),a(o)&&c.push(o[this._fieldId]);else if(l){for(s=[],e=0,i=u.length;e<i;e++)n=u[e],s.push(r[n]);for(this._sort(s,l),e=0,i=s.length;e<i;e++)c.push(s[e][this._fieldId])}else for(e=0,i=u.length;e<i;e++)n=u[e],o=r[n],c.push(o[this._fieldId]);return c},o.prototype.getDataSet=function(){return this},o.prototype.forEach=function(t,e){var i,n,o,s,r=e&&e.filter,a=e&&e.type||this._options.type,l=this._data,h=(0,d.default)(l);if(e&&e.order){var u=this.get(e);for(i=0,n=u.length;i<n;i++)o=u[i],s=o[this._fieldId],t(o,s)}else for(i=0,n=h.length;i<n;i++)s=h[i],o=this._getItem(s,a),r&&!r(o)||t(o,s)},o.prototype.map=function(t,e){var i,n,o,s,r=e&&e.filter,a=e&&e.type||this._options.type,l=[],h=this._data,u=(0,d.default)(h);for(i=0,n=u.length;i<n;i++)o=u[i],s=this._getItem(o,a),r&&!r(s)||l.push(t(s,o));return e&&e.order&&this._sort(l,e.order),l},o.prototype._filterFields=function(t,e){if(!t)return t;var i,n,o={},s=(0,d.default)(t),r=s.length;if(Array.isArray(e))for(i=0;i<r;i++)n=s[i],-1!=e.indexOf(n)&&(o[n]=t[n]);else for(i=0;i<r;i++)n=s[i],e.hasOwnProperty(n)&&(o[e[n]]=t[n]);return o},o.prototype._sort=function(t,e){if(u.isString(e)){var i=e;t.sort(function(t,e){var n=t[i],o=e[i];return n>o?1:n<o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},o.prototype.remove=function(t,e){var i,n,o,s,r=[],a=[],l=[];for(l=Array.isArray(t)?t:[t],i=0,n=l.length;i<n;i++)(s=this._remove(l[i]))&&void 0!=(o=s[this._fieldId])&&(r.push(o),a.push(s));return r.length&&this._trigger("remove",{items:r,oldData:a},e),r},o.prototype._remove=function(t){var e,i;return u.isNumber(t)||u.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,l.default)(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},o.prototype.clear=function(t){var e,i,n=(0,d.default)(this._data),o=[];for(e=0,i=n.length;e<i;e++)o.push(this._data[n[e]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:o},t),n},o.prototype.max=function(t){var e,i,n=this._data,o=(0,d.default)(n),s=null,r=null;for(e=0,i=o.length;e<i;e++){var a=o[e],l=n[a],h=l[t];null!=h&&(!s||h>r)&&(s=l,r=h)}return s},o.prototype.min=function(t){var e,i,n=this._data,o=(0,d.default)(n),s=null,r=null;for(e=0,i=o.length;e<i;e++){var a=o[e],l=n[a],h=l[t];null!=h&&(!s||h<r)&&(s=l,r=h)}return s},o.prototype.distinct=function(t){var e,i,n,o=this._data,s=(0,d.default)(o),r=[],a=this._options.type&&this._options.type[t]||null,l=0;for(e=0,n=s.length;e<n;e++){var h=s[e],c=o[h],p=c[t],f=!1;for(i=0;i<l;i++)if(r[i]==p){f=!0;break}f||void 0===p||(r[l]=p,l++)}if(a)for(e=0,n=r.length;e<n;e++)r[e]=u.convert(r[e],a);return r},o.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=u.randomUUID(),t[this._fieldId]=e;var i,n,o={},s=(0,d.default)(t);for(i=0,n=s.length;i<n;i++){var r=s[i],a=this._type[r];o[r]=u.convert(t[r],a)}return this._data[e]=o,this.length++,e},o.prototype._getItem=function(t,e){var i,n,o,s,r=this._data[t];if(!r)return null;var a={},l=(0,d.default)(r);if(e)for(o=0,s=l.length;o<s;o++)i=l[o],n=r[i],a[i]=u.convert(n,e[i]);else for(o=0,s=l.length;o<s;o++)i=l[o],n=r[i],a[i]=n;return a[this._fieldId]||(a[this._fieldId]=r.id),a},o.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+(0,r.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=(0,d.default)(t),o=0,s=n.length;o<s;o++){var a=n[o],l=this._type[a];i[a]=u.convert(t[a],l)}return e},t.exports=o},function(t,e,i){function n(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var o=i(8),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(11);n.prototype.setData=function(t){var e,i,n,o,s;if(this._data){for(this._data.off&&this._data.off("*",this.listener),e=this._data.getIds({filter:this._options&&this._options.filter}),s=[],n=0,o=e.length;n<o;n++)s.push(this._data._data[e[n]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:s})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),n=0,o=e.length;n<o;n++)i=e[n],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},n.prototype.refresh=function(){var t,e,i,n=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,s.default)(this._ids),r={},a=[],l=[],h=[];for(e=0,i=n.length;e<i;e++)t=n[e],r[t]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,i=o.length;e<i;e++)t=o[e],r[t]||(l.push(t),h.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a}),l.length&&this._trigger("remove",{items:l,oldData:h})},n.prototype.get=function(t){var e,i,n,o=this,s=r.getType(arguments[0]);"String"==s||"Number"==s||"Array"==s?(e=arguments[0],i=arguments[1],n=arguments[2]):(i=arguments[0],n=arguments[1]);var a=r.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return o._options.filter(t)&&i.filter(t)});var l=[];return void 0!=e&&l.push(e),l.push(a),l.push(n),this._data&&this._data.get.apply(this._data,l)},n.prototype.getIds=function(t){var e;if(this._data){var i,n=this._options.filter;i=t&&t.filter?n?function(e){return n(e)&&t.filter(e)}:t.filter:n,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},n.prototype.map=function(t,e){var i=[];if(this._data){var n,o=this._options.filter;n=e&&e.filter?o?function(t){return o(t)&&e.filter(t)}:e.filter:o,i=this._data.map(t,{filter:n,order:e&&e.order})}else i=[];return i},n.prototype.getDataSet=function(){for(var t=this;t instanceof n;)t=t._data;return t||null},n.prototype._onEvent=function(t,e,i){var n,o,s,r,a=e&&e.items,l=[],h=[],d=[],u=[],c=[],p=[];if(a&&this._data){switch(t){case"add":for(n=0,o=a.length;n<o;n++)s=a[n],(r=this.get(s))&&(this._ids[s]=!0,l.push(s));break;case"update":for(n=0,o=a.length;n<o;n++)s=a[n],r=this.get(s),r?this._ids[s]?(h.push(s),c.push(e.data[n]),u.push(e.oldData[n])):(this._ids[s]=!0,l.push(s)):this._ids[s]&&(delete this._ids[s],d.push(s),p.push(e.oldData[n]));break;case"remove":for(n=0,o=a.length;n<o;n++)s=a[n],this._ids[s]&&(delete this._ids[s],d.push(s),p.push(e.oldData[n]))}this.length+=l.length-d.length,l.length&&this._trigger("add",{items:l},i),h.length&&this._trigger("update",{items:h,oldData:u,data:c},i),d.length&&this._trigger("remove",{items:d,oldData:p},i)}},n.prototype.on=a.prototype.on,n.prototype.off=a.prototype.off,n.prototype._trigger=a.prototype._trigger,n.prototype.subscribe=n.prototype.on,n.prototype.unsubscribe=n.prototype.off,t.exports=n},function(t,e,i){var n=i(57)("wks"),o=i(40),s=i(18).Symbol,r="function"==typeof s;(t.exports=function(t){return n[t]||(n[t]=r&&s[t]||(r?s:o)("Symbol."+t))}).store=n},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,i,n,o,s,r){var a;if("circle"==n.style?(a=e.getSVGElement("circle",o,s),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):(a=e.getSVGElement("rect",o,s),a.setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),r){var l=e.getSVGElement("text",o,s);r.xOffset&&(t+=r.xOffset),r.yOffset&&(i+=r.yOffset),r.content&&(l.textContent=r.content),r.className&&l.setAttributeNS(null,"class",r.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,o,s,r,a,l){if(0!=o){o<0&&(o*=-1,i-=o);var h=e.getSVGElement("rect",r,a);h.setAttributeNS(null,"x",t-.5*n),h.setAttributeNS(null,"y",i),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",o),h.setAttributeNS(null,"class",s),l&&h.setAttributeNS(null,"style",l)}}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var o=i(19),s=n(o),r=i(6),a=n(r),l=i(8),h=n(l),d=i(0),u=n(d),c=i(1),p=n(c),f=i(2),m=!1,g=void 0,v="background: #FFeeee; color: #dd0000",y=function(){function t(){(0,u.default)(this,t)}return(0,p.default)(t,null,[{key:"validate",value:function(e,i,n){m=!1,g=i;var o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),m}},{key:"parse",value:function(e,i,n){for(var o in e)e.hasOwnProperty(o)&&t.check(o,e,i,n)}},{key:"check",value:function(e,i,n,o){if(void 0===n[e]&&void 0===n.__any__)return void t.getSuggestion(e,n,o);var s=e,r=!0;void 0===n[e]&&void 0!==n.__any__&&(s="__any__",r="object"===t.getType(i[e]));var a=n[s];r&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,s,a,o)}},{key:"checkFields",value:function(e,i,n,o,s,r){var a=function(i){console.log("%c"+i+t.printLocation(r,e),v)},l=t.getType(i[e]),d=s[l];void 0!==d?"array"===t.getType(d)&&-1===d.indexOf(i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(d)+' not "'+i[e]+'". '),m=!0):"object"===l&&"__any__"!==o&&(r=f.copyAndExtendArray(r,e),t.parse(i[e],n[o],r)):void 0===s.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print((0,h.default)(s))+". Received ["+l+'] "'+i[e]+'"'),m=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,a.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var o=t.findInOptions(e,i,n,!1),s=t.findInOptions(e,g,[],!0),r=void 0;r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print((0,h.default)(i))+t.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+r,v),m=!0}},{key:"findInOptions",value:function(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,r="",a=[],l=e.toLowerCase(),h=void 0;for(var d in i){var u=void 0;if(void 0!==i[d].__type__&&!0===o){var c=t.findInOptions(e,i[d],f.copyAndExtendArray(n,d));s>c.distance&&(r=c.closestMatch,a=c.path,s=c.distance,h=c.indexMatch)}else-1!==d.toLowerCase().indexOf(l)&&(h=d),u=t.levenshteinDistance(e,d),s>u&&(r=d,a=f.copyArray(n),s=u)}return{closestMatch:r,path:a,distance:s,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",o=0;o<t.length;o++){for(var s=0;s<o+1;s++)n+="  ";n+=t[o]+": {\n"}for(var r=0;r<t.length+1;r++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return(0,s.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n=[];for(i=0;i<=e.length;i++)n[i]=[i];var o;for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}}]),t}();e.default=y,e.printStyle=v},function(t,e,i){function n(t,e){this.options=null,this.props=null}var o=i(2);n.prototype.setOptions=function(t){t&&o.extend(this.options,t)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=n},function(t,e,i){var n=i(18),o=i(7),s=i(80),r=i(26),a=function(t,e,i){var l,h,d,u=t&a.F,c=t&a.G,p=t&a.S,f=t&a.P,m=t&a.B,g=t&a.W,v=c?o:o[e]||(o[e]={}),y=v.prototype,b=c?n:p?n[e]:(n[e]||{}).prototype;c&&(i=e);for(l in i)(h=!u&&b&&void 0!==b[l])&&l in v||(d=h?b[l]:i[l],v[l]=c&&"function"!=typeof b[l]?i[l]:m&&h?s(d,n):g&&b[l]==d?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):f&&"function"==typeof d?s(Function.call,d):d,f&&((v.virtual||(v.virtual={}))[l]=d,t&a.R&&y&&!y[l]&&r(y,l,d)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var n=i(27),o=i(81),s=i(53),r=Object.defineProperty;e.f=i(21)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),o)try{return r(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=function(){function t(e,i,n){(0,a.default)(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,h.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,s.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,o=this.textSize.height;return 0===n&&(n=14,o=14),{width:n,height:o}}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var o=2*n.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,o,s,r,a){if(this.resize(t,s,r,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),t[e](n,o,a.size),this.performFill(t,a),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,s,r,n,o,"hanging");var l=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,l,s,r,"hanging")}this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(m.default);e.default=g},function(t,e,i){var n=i(78),o=i(51);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(20),o=i(39);t.exports=i(21)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(32);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(188),s=n(o),r=i(77),a=n(r);e.default=function(){function t(t,e){var i=[],n=!0,o=!1,s=void 0;try{for(var r,l=(0,a.default)(t);!(n=(r=l.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,s.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(84),o=i(58);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){function n(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}n.subtract=function(t,e){var i=new n;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},n.add=function(t,e){var i=new n;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},n.avg=function(t,e){return new n((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},n.crossProduct=function(t,e){var i=new n;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=n},function(t,e,i){var n,o,s;!function(i,r){o=[],n=r,void 0!==(s="function"==typeof n?n.apply(e,o):n)&&(t.exports=s)}(0,function(){function t(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},s={keydown:{},keyup:{}},r={};for(e=97;e<=122;e++)r[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)r[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)r[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)r["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)r["num"+e]={code:96+e,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r.delete={
code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==s[e][t.keyCode]){for(var n=s[e][t.keyCode],o=0;o<n.length;o++)void 0===n[o].shift?n[o].fn(t):1==n[o].shift&&1==t.shiftKey?n[o].fn(t):0==n[o].shift&&0==t.shiftKey&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);void 0===s[i][r[t].code]&&(s[i][r[t].code]=[]),s[i][r[t].code].push({fn:e,shift:r[t].shift})},o.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in r)r.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=s[i][r[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==r[t].shift||n.push(s[i][r[t].code][a]);s[i][r[t].code]=n}else s[i][r[t].code]=[]},o.reset=function(){s={keydown:{},keyup:{}}},o.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),o}return t})},function(t,e,i){e.convertHiddenOptions=function(t,i,n){if(n&&!Array.isArray(n))return e.convertHiddenOptions(t,i,[n]);if(i.hiddenDates=[],n&&1==Array.isArray(n)){for(var o=0;o<n.length;o++)if(void 0===n[o].repeat){var s={};s.start=t(n[o].start).toDate().valueOf(),s.end=t(n[o].end).toDate().valueOf(),i.hiddenDates.push(s)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,n){if(n&&!Array.isArray(n))return e.updateHiddenDates(t,i,[n]);if(n&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,n);for(var o=t(i.range.start),s=t(i.range.end),r=i.range.end-i.range.start,a=r/i.domProps.centerContainer.width,l=0;l<n.length;l++)if(void 0!==n[l].repeat){var h=t(n[l].start),d=t(n[l].end);if("Invalid Date"==h._d)throw new Error("Supplied start date is not valid: "+n[l].start);if("Invalid Date"==d._d)throw new Error("Supplied end date is not valid: "+n[l].end);var u=d-h;if(u>=4*a){var c=0,p=s.clone();switch(n[l].repeat){case"daily":h.day()!=d.day()&&(c=1),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7,"days"),d.dayOfYear(o.dayOfYear()),d.year(o.year()),d.subtract(7-c,"days"),p.add(1,"weeks");break;case"weekly":var f=d.diff(h,"days"),m=h.day();h.date(o.date()),h.month(o.month()),h.year(o.year()),d=h.clone(),h.day(m),d.day(m),d.add(f,"days"),h.subtract(1,"weeks"),d.subtract(1,"weeks"),p.add(1,"weeks");break;case"monthly":h.month()!=d.month()&&(c=1),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),d.month(o.month()),d.year(o.year()),d.subtract(1,"months"),d.add(c,"months"),p.add(1,"months");break;case"yearly":h.year()!=d.year()&&(c=1),h.year(o.year()),h.subtract(1,"years"),d.year(o.year()),d.subtract(1,"years"),d.add(c,"years"),p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat)}for(;h<p;)switch(i.hiddenDates.push({start:h.valueOf(),end:d.valueOf()}),n[l].repeat){case"daily":h.add(1,"days"),d.add(1,"days");break;case"weekly":h.add(1,"weeks"),d.add(1,"weeks");break;case"monthly":h.add(1,"months"),d.add(1,"months");break;case"yearly":h.add(1,"y"),d.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat)}i.hiddenDates.push({start:h.valueOf(),end:d.valueOf()})}}e.removeDuplicates(i);var g=e.isHidden(i.range.start,i.hiddenDates),v=e.isHidden(i.range.end,i.hiddenDates),y=i.range.start,b=i.range.end;1==g.hidden&&(y=1==i.range.startToFront?g.startDate-1:g.endDate+1),1==v.hidden&&(b=1==i.range.endToFront?v.startDate-1:v.endDate+1),1!=g.hidden&&1!=v.hidden||i.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var n=!1,o=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(o>=r&&o<a){n=!0;break}}if(1==n&&o<e._end.valueOf()&&o!=i){var l=t(i),h=t(a);l.year()!=h.year()?e.switchedYear=!0:l.month()!=h.month()?e.switchedMonth=!0:l.dayOfYear()!=h.dayOfYear()&&(e.switchedDay=!0),e.current=h}},e.toScreen=function(t,i,n){var o;if(0==t.body.hiddenDates.length)return o=t.range.conversion(n),(i.valueOf()-o.offset)*o.scale;var s=e.isHidden(i,t.body.hiddenDates);1==s.hidden&&(i=s.startDate);var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){o=t.range.conversion(n,r);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,o.offset);return i=t.options.moment(i).toDate().valueOf(),i+=a,-(o.offset-i.valueOf())*o.scale}if(i>t.range.end){var l={start:t.range.start,end:i};return i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,l,i),o=t.range.conversion(n,r),(i.valueOf()-o.offset)*o.scale}return i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i),o=t.range.conversion(n,r),(i.valueOf()-o.offset)*o.scale},e.toTime=function(t,i,n){if(0==t.body.hiddenDates.length){var o=t.range.conversion(n);return new Date(i/o.scale+o.offset)}var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-s,a=r*i/n,l=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a);return new Date(l+a+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var s=t[o].start,r=t[o].end;s>=e&&r<i&&(n+=r-s)}return n},e.getHiddenDurationBeforeStart=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var s=t[o].start,r=t[o].end;s>=e&&r<=i&&(n+=r-s)}return n},e.correctTimeForHidden=function(t,i,n,o){return o=t(o).toDate().valueOf(),o-=e.getHiddenDurationBefore(t,i,n,o)},e.getHiddenDurationBefore=function(t,e,i,n){var o=0;n=t(n).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&n>=a&&(o+=a-r)}return o},e.getAccumulatedHiddenDuration=function(t,e,i){for(var n=0,o=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,l=t[r].end;if(a>=e.start&&l<e.end){if(o+=a-s,s=l,o>=i)break;n+=l-a}}return n},e.snapAwayFromHidden=function(t,i,n,o){var s=e.isHidden(i,t);return 1==s.hidden?n<0?1==o?s.startDate-(s.endDate-i)-1:s.startDate-1:1==o?s.endDate+(i-s.startDate)+1:s.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(t>=n&&t<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}var s=i(6),r=n(s),a=i(8),l=n(a),h=i(10),d=i(2),u=i(9);o.prototype.stack=!0,o.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setData=function(t){void 0!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),void 0!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},o.prototype.isVisible=function(t){return!1},o.prototype.show=function(){return!1},o.prototype.hide=function(){return!1},o.prototype.redraw=function(){},o.prototype.repositionX=function(){},o.prototype.repositionY=function(){},o.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var i=new h(e);i.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),i.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},o.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var i=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete",n.title="Delete this item",new h(n).on("tap",function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)}),t.appendChild(n),this.dom.deleteButton=n}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},o.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",t.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var n,o=this.parent.itemSet.body.domProps.scrollTop;n="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height;n+this.parent.top-50<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px");var s,r;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(r=this.options.tooltipOnItemUpdateTime.template.bind(this),s=r(this.data)):(s="start: "+u(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(s+="<br> end: "+u(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=s}}},o.prototype._updateContents=function(t){var e,i,n,o,s=this.parent.itemSet.itemsData.get(this.id),r=this.dom.box||this.dom.point,a=r.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this),n=o(s,r)):n="",a)if(n instanceof Object&&!(n instanceof Element))o(s,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)a.innerHTML="",a.appendChild(n);else if(void 0!=n)a.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if(this.options.template?(i=this.options.template.bind(this),e=i(s,t,this.data)):e=this.data.content,e instanceof Object&&!(e instanceof Element))i(s,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},o.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,l.default)(this.data)}for(var i=0;i<e.length;i++){var n=e[i],o=this.data[n];null!=o?t.setAttribute("data-"+n,o):t.removeAttribute("data-"+n)}}},o.prototype._updateStyle=function(t){this.style&&(d.removeCssText(t,this.style),this.style=null),this.data.style&&(d.addCssText(t,this.data.style),this.style=this.data.style)},o.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},o.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,r.default)(this.options.editable)&&(this.editable={},d.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,r.default)(this.data.editable)&&(this.editable={},d.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},o.prototype.getWidthLeft=function(){return 0},o.prototype.getWidthRight=function(){return 0},o.prototype.getTitle=function(){return this.data.title},t.exports=o},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(51);t.exports=function(t){return Object(n(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function n(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}n.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},n.extend=function(t,e){var i=new n(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var s=0;s<e.replace.length;s++){var r=e.replace[s];o.push({name:r,original:t[r]}),i.replace(t,r)}return i._extended={object:t,methods:o},i},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}},n.prototype.replace=function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:n,context:this})}},n.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},n.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=n},function(t,e){function i(t){if(t)return n(t)}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,o=i.length;n<o;++n)i[n].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){function n(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:l.FORMAT,moment:d,timeAxis:null},this.options=r.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var o=i(6),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(16),l=i(66),h=i(36),d=i(9);n.prototype=new a,n.prototype.setOptions=function(t){t&&(r.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),r.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,s.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof d.locale?d.locale(t.locale):d.lang(t.locale)))},n.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},n.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},n.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,l=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?n.insertBefore(e,a):n.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(i,l):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},n.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=r.convert(this.body.range.start,"Number"),i=r.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=n-h.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();var s=new l(new Date(e),new Date(i),o,this.body.hiddenDates,this.options);s.setMoment(this.options.moment),this.options.format&&s.setFormat(this.options.format),this.options.timeAxis&&s.setScale(this.options.timeAxis),this.step=s;var a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];var d,c,p,f,m,g,v,y,b,_=0,w=void 0,x=0;for(s.start(),d=s.getCurrent(),p=this.body.util.toScreen(d);s.hasNext()&&x<1e3;){switch(x++,f=s.isMajor(),b=s.getClassName(),y=s.getLabelMinor(),d,c=p,s.next(),d=s.getCurrent(),s.isMajor(),p=this.body.util.toScreen(d),g=_,_=p-c,s.scale){case"week":m=!0;break;default:m=_>=.4*g}if(this.options.showMinorLabels&&m){var S=this._repaintMinorText(c,y,t,b);S.style.width=_+"px"}f&&this.options.showMajorLabels?(c>0&&(void 0==w&&(w=c),S=this._repaintMajorText(c,s.getLabelMajor(),t,b)),v=this._repaintMajorLine(c,_,t,b)):m?v=this._repaintMinorLine(c,_,t,b):v&&(v.style.width=parseInt(v.style.width)+_+"px")}if(1e3!==x||u||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),u=!0),this.options.showMajorLabels){var C=this.body.util.toTime(0),D=s.getLabelMajor(C),T=D.length*(this.props.majorCharWidth||10)+10;(void 0==w||T<w)&&this._repaintMajorText(0,D,t,b)}r.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},n.prototype._repaintMinorText=function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift();if(!o){var s=document.createTextNode("");o=document.createElement("div"),o.appendChild(s),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+n,o},n.prototype._repaintMajorText=function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift();if(!o){var s=document.createElement("div");o=document.createElement("div"),o.appendChild(s),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+n,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},n.prototype._repaintMinorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var s=this.props;return o.style.top="top"==i?s.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=s.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-s.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+n):(o.style.left=t-s.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+n),o.style.width=e+"px",o},n.prototype._repaintMajorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var s=this.props;return o.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-s.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+n):(o.style.left=t-s.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+n),o.style.height=s.majorLineHeight+"px",o.style.width=e+"px",o},n.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var u=!1;t.exports=n},function(t,e,i){function n(t,e){this.body=t,this.defaultOptions={moment:a,locales:l,locale:"en",id:void 0,title:void 0},this.options=s.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var o=i(10),s=i(2),r=i(16),a=i(9),l=i(98);n.prototype=new r,n.prototype.setOptions=function(t){t&&s.selectiveExtend(["moment","locale","locales","id"],this.options,t)},n.prototype._create=function(){function t(t){this.body.range._onMouseWheel(t)}var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var i=document.createElement("div");i.style.position="relative",i.style.top="0px",i.style.left="-10px",i.style.height="100%",i.style.width="20px",i.addEventListener?(i.addEventListener("mousewheel",t.bind(this),!1),i.addEventListener("DOMMouseScroll",t.bind(this),!1)):i.attachEvent("onmousewheel",t.bind(this)),e.appendChild(i),this.hammer=new o(i),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL})},n.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},n.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var n=this.options.title;return void 0===n?(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),n=n.charAt(0).toUpperCase()+n.substring(1)):"function"==typeof n&&(n=n.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=n,!1},n.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},n.prototype.setCustomTime=function(t){this.customTime=s.convert(t,"Date"),this.redraw()},n.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},n.prototype.setCustomTitle=function(t){this.options.title=t},n.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},n.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},n.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},n.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=i(117).default,d=i(48).default,u=i(193).default,c=i(200).default,p=i(201).default,f=i(202).default,m=i(203).default,g=i(204).default,v=i(205).default,y=i(206).default,b=i(207).default,_=i(208).default,w=i(209).default,x=i(210).default,S=i(211).default,C=i(212).default,D=i(213).default,T=i(15),k=T.printStyle,O=function(){function t(e,i,n,o,r,a){(0,s.default)(this,t),this.options=l.bridgeObject(r),this.globalOptions=r,this.defaultOptions=a,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new h(this.body,this.options,!1),this.setOptions(e)}return(0,a.default)(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=d.choosify("node",n),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,
borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new u(this.options,this.body,this.labelModule);break;case"circle":this.shape=new c(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new f(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new m(this.options,this.body,this.labelModule);break;case"dot":this.shape=new g(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new v(this.options,this.body,this.labelModule);break;case"icon":this.shape=new y(this.options,this.body,this.labelModule);break;case"image":this.shape=new b(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new _(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new w(this.options,this.body,this.labelModule);break;case"star":this.shape=new x(this.options,this.body,this.labelModule);break;case"text":this.shape=new S(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new C(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new D(this.options,this.body,this.labelModule);break;default:this.shape=new v(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&d.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),d.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var o=i.get(n);l.selectiveNotDeepExtend(["font"],t,o),t.color=l.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments[4],r=["color","fixed","shadow"];if(l.selectiveNotDeepExtend(r,e,i,n),t.checkMass(i),l.mergeOptions(e,i,"shadow",o),void 0!==i.color&&null!==i.color){var a=l.parseColor(i.color);l.fillIfDefined(e.color,a)}else!0===n&&null===i.color&&(e.color=l.bridgeObject(o.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=l.bridgeObject(o.font)),t.updateGroupOptions(e,i,s),void 0!==i.scaling&&l.mergeOptions(e.scaling,i.scaling,"label",o.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",k),t.mass=1}}}]),t}();e.default=O},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(2),u=function(){function t(){(0,a.default)(this,t)}return(0,h.default)(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],n=!0,o=d.topMost(e,"chosen");if("boolean"==typeof o)n=o;else if("object"===(void 0===o?"undefined":(0,s.default)(o))){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var r=d.topMost(e,["chosen",t]);"boolean"!=typeof r&&"function"!=typeof r||(n=r)}return n}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var o=-i.angle;e={x:Math.cos(o)*n.x-Math.sin(o)*n.y,y:Math.sin(o)*n.x+Math.cos(o)*n.y}}else e=n}var s=t.x+t.width,r=t.y+t.width;return t.left<e.x&&s>e.x&&t.top<e.y&&r>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=u},function(t,e,i){i(125);for(var n=i(18),o=i(26),s=i(31),r=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var h=a[l],d=n[h],u=d&&d.prototype;u&&!u[r]&&o(u,r,h),s[h]=s.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var n=i(32);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(27),o=i(130),s=i(58),r=i(56)("IE_PROTO"),a=function(){},l=function(){var t,e=i(82)("iframe"),n=s.length;for(e.style.display="none",i(134).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[s[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[r]=t):i=l(),void 0===e?i:o(i,e)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(57)("keys"),o=i(40);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,i){var n=i(18),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(20).f,o=i(22),s=i(13)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){var n=i(135)(!0);i(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){e.f=i(13)},function(t,e,i){var n=i(18),o=i(7),s=i(52),r=i(61),a=i(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var i=p().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=n,this.end=o):(this.start=e.start||n,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:p,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=c.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function s(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var r=i(8),a=n(r),l=i(19),h=n(l),d=i(6),u=n(d),c=i(2),p=i(9),f=i(16),m=i(36);o.prototype=new f,o.prototype.destroy=function(){this._cancelAnimation()},o.prototype.setOptions=function(t){if(t){var e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];c.selectiveExtend(e,this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},o.prototype.startRolling=function(){function t(){e.stopRolling(),e.rolling=!0;var i=e.end-e.start,n=c.convert(new Date,"Date").valueOf(),o=n-i*e.options.rollingMode.offset,s=n+i*(1-e.options.rollingMode.offset),r={animation:!1};e.setRange(o,s,r),i=1/e.conversion(e.body.domProps.center.width).scale/10,i<30&&(i=30),i>1e3&&(i=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,i)}var e=this;t()},o.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},o.prototype.setRange=function(t,e,i,n,o){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var s=this,r=void 0!=t?c.convert(t,"Date").valueOf():null,l=void 0!=e?c.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var d=this.start,p=this.end,f="object"===(0,u.default)(i.animation)&&"duration"in i.animation?i.animation.duration:500,g="object"===(0,u.default)(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",v=c.easingFunctions[g];if(!v)throw new Error("Unknown easing function "+(0,h.default)(g)+". Choose from: "+(0,a.default)(c.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function t(){if(!s.props.touch.dragging){var e=(new Date).valueOf(),a=e-y,h=v(a/f),u=a>f,c=u||null===r?r:d+(r-d)*h,g=u||null===l?l:p+(l-p)*h;_=s._applyRange(c,g),m.updateHiddenDates(s.options.moment,s.body,s.options.hiddenDates),b=b||_;var w={start:new Date(s.start),end:new Date(s.end),byUser:i.byUser,event:i.event};if(o&&o(h,_,u),_&&s.body.emitter.emit("rangechange",w),u){if(b&&(s.body.emitter.emit("rangechanged",w),n))return n()}else s.animationTimer=setTimeout(t,20)}}()}var _=this._applyRange(r,l);if(m.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),_){var w={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",w),clearTimeout(s.timeoutID),s.timeoutID=setTimeout(function(){s.body.emitter.emit("rangechanged",w)},200),n)return n()}},o.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(t,e){var i,n=null!=t?c.convert(t,"Date").valueOf():this.start,o=null!=e?c.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?c.convert(this.options.max,"Date").valueOf():null,r=null!=this.options.min?c.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<n&&(o=n),null!==r&&n<r&&(i=r-n,n+=i,o+=i,null!=s&&o>s&&(o=s)),null!==s&&o>s&&(i=o-s,n-=i,o-=i,null!=r&&n<r&&(n=r)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);if(a<0&&(a=0),o-n<a){this.end-this.start===a&&n>=this.start-.5&&o<=this.end?(n=this.start,o=this.end):(i=a-(o-n),n-=i/2,o+=i/2)}}if(null!==this.options.zoomMax){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),o-n>l&&(this.end-this.start===l&&n<this.start&&o>this.end?(n=this.start,o=this.end):(i=o-n-l,n+=i/2,o-=i/2))}var h=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,h},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)},o.conversion=function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}},o.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"),this.body.emitter.emit("dragStart"))},o.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;s(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;n-=m.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o,r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;o=this.options.rtl?i/r*n:-i/r*n;var a=this.props.touch.start+o,l=this.props.touch.end+o,h=m.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),d=m.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,!0);if(h!=a||d!=l)return this.deltaDifference+=i,this.props.touch.start=h,this.props.touch.end=d,void this._onDrag(t);this.previousDelta=i,this._applyRange(a,l);var u=new Date(this.start),c=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:c,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},o.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},o.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var i;i=e<0?1-e/5:1/(1+e/5);var n;if(this.rolling)n=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);n=this._pointerToDate(o)}this.zoom(i,n,e,t),t.preventDefault()}},o.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,c.preventDefault(t)},o.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){c.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=m.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=m.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),s=n-o,r=i-o+(this.props.touch.start-(i-o))*e,a=i+s+(this.props.touch.end-(i+s))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var l=m.snapAwayFromHidden(this.body.hiddenDates,r,1-e,!0),h=m.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);l==r&&h==a||(this.props.touch.start=l,this.props.touch.end=h,this.scaleOffset=1-t.scale,r=l,a=h);var d={animation:!1,byUser:!0,event:t};this.setRange(r,a,d),this.startToFront=!1,this.endToFront=!0}},o.prototype._isInsideRange=function(t){var e,i=t.center?t.center.x:t.clientX;e=this.options.rtl?i-c.getAbsoluteLeft(this.body.dom.centerContainer):c.getAbsoluteRight(this.body.dom.centerContainer)-i;var n=this.body.util.toTime(e);return n>=this.start&&n<=this.end},o.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(s(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var n=this.body.domProps.center.height;return e=this.conversion(n),t.y/e.scale+e.offset},o.prototype.getPointer=function(t,e){return this.options.rtl?{x:c.getAbsoluteRight(e)-t.x,y:t.y-c.getAbsoluteTop(e)}:{x:t.x-c.getAbsoluteLeft(e),y:t.y-c.getAbsoluteTop(e)}},o.prototype.zoom=function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var o=m.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),s=m.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),r=o-s,a=e-s+(this.start-(e-s))*t,l=e+r+(this.end-(e+r))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var h=m.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),d=m.snapAwayFromHidden(this.body.hiddenDates,l,-i,!0);h==a&&d==l||(a=h,l=d);var u={animation:!1,byUser:!0,event:n};this.setRange(a,l,u),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,n=this.end+e*t;this.start=i,this.end=n},o.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,n=this.start-i,o=this.end-i,s={animation:!1,byUser:!0,event:null};this.setRange(n,o,s)},t.exports=o},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(){}var s=i(19),r=n(s),a=i(6),l=n(a),h=i(44),d=i(10),u=i(37),c=i(2),p=i(45),f=i(97),m=i(36),g=i(46);h(o.prototype),o.prototype._create=function(t){function e(t){this.isActive()&&this.emit("mousewheel",t);var e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var n=this.props.scrollTop,o=n+i;this.isActive()&&(this._setScrollTop(o),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var s=Math.abs(e)>=Math.abs(i)?e:i,r=s/120*(this.range.end-this.range.start)/20,a=this.range.start+r,l=this.range.end+r,h={animation:!1,byUser:!0,event:t};this.range.setRange(a,l,h)}}function i(t){if(s.options.verticalScroll&&(t.preventDefault(),s.isActive())){var e=-t.target.scrollTop;s._setScrollTop(e),s._redraw(),s.emit("scrollSide",t)}}function n(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||a))return t.dataTransfer.dropEffect="move",a=!0,!1}function o(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return a=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?s.itemSet._onAddItem(t):s.itemSet._onDropObjectOnItem(t),s.emit("drop",s.getEventProperties(t)),!1}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var s=this;this._origRedraw=this._redraw.bind(this),this._redraw=c.throttle(this._origRedraw),this.on("_change",function(t){s.itemSet&&s.itemSet.initialItemSetDrawn&&t&&1==t.queue?s._redraw():s._origRedraw()}),this.hammer=new d(this.dom.root);var r=this.hammer.get("pinch").set({enable:!0});u.disablePreventDefaultVertically(r),this.hammer.get("pan").set({threshold:5,direction:d.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var e=function(e){s.isActive()&&s.emit(t,e)};s.hammer.on(t,e),s.listeners[t]=e}),u.onTouch(this.hammer,function(t){s.emit("touch",t)}.bind(this)),u.onRelease(this.hammer,function(t){s.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",e.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",e.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",e.bind(this)),this.dom.left.parentNode.addEventListener("scroll",i.bind(this)),this.dom.right.parentNode.addEventListener("scroll",i.bind(this));var a=!1;if(this.dom.center.addEventListener("dragover",n.bind(this),!1),this.dom.center.addEventListener("drop",o.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},o.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(c.selectiveExtend(e,this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,l.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,l.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new p(this.body);i.setOptions=function(t){var e=t?c.extend({},t):{};e.orientation="top",p.prototype.setOptions.call(i,e)},this.components.push(i)}}else if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);-1!==n&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&m.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new f(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var o=c.deepExtend({},this.options);this.components.forEach(function(t){c.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},o.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));i.length>0&&i[0].setCustomTime(t)},o.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));return e[0].getCustomTime()},o.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));if(i.length>0)return i[0].setCustomTitle(t)},o.prototype.getEventProperties=function(t){return{event:t}},o.prototype.addCustomTime=function(t,e){var i=void 0!==t?c.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,r.default)(e)+" already exists");var n=new g(this.body,c.extend({},this.options,{time:i,id:e}));return this.customTimes.push(n),this.components.push(n),this._redraw(),e},o.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var n=i.max-i.min,o=new Date(i.min.valueOf()-.01*n),s=new Date(i.max.valueOf()+.01*n),r=!t||void 0===t.animation||t.animation;this.range.setRange(o,s,{animation:r},e)}},o.prototype.getDataRange=function(){
throw new Error("Cannot invoke abstract method getDataRange")},o.prototype.setWindow=function(t,e,i,n){"function"==typeof arguments[2]&&(n=arguments[2],i={});var o,s;1==arguments.length?(s=arguments[0],o=void 0===s.animation||s.animation,this.range.setRange(s.start,s.end,{animation:o})):2==arguments.length&&"function"==typeof arguments[1]?(s=arguments[0],n=arguments[1],o=void 0===s.animation||s.animation,this.range.setRange(s.start,s.end,{animation:o},n)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},n))},o.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,o=c.convert(t,"Date").valueOf(),s=o-n/2,r=o+n/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(s,r,{animation:a},i)},o.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},o.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),s=n.end.valueOf(),r=s-o,a=r/(1+t),l=(r-a)/2,h=o+l,d=s-l;this.setWindow(h,d,e,i)}},o.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),s=n.end.valueOf(),r=s-o,a=o-r*t/2,l=s+r*t/2;this.setWindow(a,l,e,i)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){m.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(c.addClassName(n.root,"vis-top"),c.removeClassName(n.root,"vis-bottom")):(c.removeClassName(n.root,"vis-top"),c.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=c.option.asSize(e.maxHeight,""),n.root.style.minHeight=c.option.asSize(e.minHeight,""),n.root.style.width=c.option.asSize(e.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight,i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth,0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var o=Math.max(i.left.height,i.center.height,i.right.height),s=i.top.height+o+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;n.root.style.height=c.option.asSize(e.height,s+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var r=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=r,i.leftContainer.height=r,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=c.getScrollBarWidth()),e.verticalScroll?e.rtl?(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right),this._setDOM();var a=this._updateScrollTop();"top"!=e.orientation.item&&(a+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),n.center.style.top=a+"px";var l=0==i.scrollTop?"hidden":"",h=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=l,n.shadowBottom.style.visibility=h,n.shadowTopLeft.style.visibility=l,n.shadowBottomLeft.style.visibility=h,n.shadowTopRight.style.visibility=l,n.shadowBottomRight.style.visibility=h,e.verticalScroll&&(n.rightContainer.className="vis-panel vis-right vis-vertical-scroll",n.leftContainer.className="vis-panel vis-left vis-vertical-scroll",n.shadowTopRight.style.visibility="hidden",n.shadowBottomRight.style.visibility="hidden",n.shadowTopLeft.style.visibility="hidden",n.shadowBottomLeft.style.visibility="hidden",n.left.style.top="0px",n.right.style.top="0px"),(!e.verticalScroll||i.center.height<i.centerContainer.height)&&(n.left.style.top=a+"px",n.right.style.top=a+"px",n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right,this._setDOM());var u=i.center.height>i.centerContainer.height;this.hammer.get("pan").set({direction:u?d.DIRECTION_ALL:d.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t});if(t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},o.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},o.prototype._toTime=function(t){return m.toTime(this,t,this.props.center.width)},o.prototype._toGlobalTime=function(t){return m.toTime(this,t,this.props.root.width)},o.prototype._toScreen=function(t){return m.toScreen(this,t,this.props.center.width)},o.prototype._toGlobalScreen=function(t){return m.toScreen(this,t,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){if(1!=t.options.autoResize)return void t._stopAutoResize();t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=c.getScrollBarWidth(),t.body.emitter.emit("_change")))},c.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(c.removeEventListener(window,"resize",this._onResize),this._onResize=null)},o.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(t){this.touch.allowDragging=!1},o.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}},o.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=o},function(t,e,i){function n(t,e,i,s,r){this.moment=o,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(s)?this.hiddenDates=s:this.hiddenDates=void 0!=s?[s]:[],this.format=n.FORMAT,this.options=r||{}}var o=i(9),s=i(36),r=i(2);n.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},n.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},n.prototype.setFormat=function(t){var e=r.deepExtend({},n.FORMAT);this.format=r.deepExtend(e,t)},n.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},n.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},n.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},n.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},n.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,s.stepOverHiddenDates(this.moment,this,t)},n.prototype.getCurrent=function(){return this.current},n.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},n.prototype.setAutoScale=function(t){this.autoScale=t},n.prototype.setMinimumStep=function(t){if(void 0!=t){31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1)}},n.snap=function(t,e,i){var n=o(t);if("year"==e){var s=n.year()+Math.round(n.month()/12);n.year(Math.round(s/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==e)n.date()>15?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==e)n.weekday()>2?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==e){switch(i){case 4:n.minutes(60*Math.round(n.minutes()/60));break;default:n.minutes(30*Math.round(n.minutes()/30))}n.seconds(0),n.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==e){var r=i>5?i/2:1;n.milliseconds(Math.round(n.milliseconds()/r)*r)}return n},n.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},n.prototype.getLabelMinor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},n.prototype.getLabelMajor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},n.prototype.getClassName=function(){function t(t){return t/a%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(o().add(1,"day"),"day")?" vis-tomorrow":t.isSame(o().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function n(t){return t.isSame(new Date,"month")?" vis-current-month":""}var o=this.moment,s=this.moment(this.current),r=s.locale?s.locale("en"):s.lang("en"),a=this.step,l=[];switch(this.scale){case"millisecond":l.push(e(r)),l.push(t(r.milliseconds()));break;case"second":l.push(e(r)),l.push(t(r.seconds()));break;case"minute":l.push(e(r)),l.push(t(r.minutes()));break;case"hour":l.push("vis-h"+r.hours()+(4==this.step?"-h"+(r.hours()+4):"")),l.push(e(r)),l.push(t(r.hours()));break;case"weekday":l.push("vis-"+r.format("dddd").toLowerCase()),l.push(e(r)),l.push(i(r)),l.push(t(r.date()));break;case"day":l.push("vis-day"+r.date()),l.push("vis-"+r.format("MMMM").toLowerCase()),l.push(e(r)),l.push(n(r)),l.push(this.step<=2?e(r):""),l.push(this.step<=2?"vis-"+r.format("dddd").toLowerCase():""),l.push(t(r.date()-1));break;case"week":l.push("vis-week"+r.format("w")),l.push(i(r)),l.push(t(r.week()));break;case"month":l.push("vis-"+r.format("MMMM").toLowerCase()),l.push(n(r)),l.push(t(r.month()));break;case"year":l.push("vis-year"+r.year()),l.push(function(t){return t.isSame(new Date,"year")?" vis-current-year":""}(r)),l.push(t(r.year()))}return l.filter(String).join(" ")},t.exports=n},function(t,e,i){function n(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:a,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var o=i(2),s=i(16),r=i(9),a=i(98);n.prototype=new s,n.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},n.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},n.prototype.setOptions=function(t){t&&o.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},n.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var o=n.current+" "+n.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},n.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,n=1/i/10;n<30&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,n)}var e=this;t()},n.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},n.prototype.setCurrentTime=function(t){var e=o.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},n.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=n},function(t,e,i){function n(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var n in e.subgroupStack)this.subgroupStack[n]=e.subgroupStack[n],this.doInnerStack=this.doInnerStack||e.subgroupStack[n];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}var o=i(8),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(100);n.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},n.prototype.setData=function(t){var e,i;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this),e=i(t,this.dom.inner)):e=t&&t.content,e instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?r.removeClassName(this.dom.inner,"vis-hidden"):r.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),r.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(r.removeClassName(this.dom.label,n),r.addClassName(this.dom.label,"expanded")):(r.removeClassName(this.dom.label,"expanded"),r.addClassName(this.dom.label,n))}else this.nestedGroups&&(this.nestedGroups=null,n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",r.removeClassName(this.dom.label,n),r.removeClassName(this.dom.label,"expanded"),r.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(r.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(r.removeClassName(this.dom.label,this.className),r.removeClassName(this.dom.foreground,this.className),r.removeClassName(this.dom.background,this.className),r.removeClassName(this.dom.axis,this.className)),r.addClassName(this.dom.label,o),r.addClassName(this.dom.foreground,o),r.addClassName(this.dom.background,o),r.addClassName(this.dom.axis,o),this.className=o),this.style&&(r.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(r.addCssText(this.dom.label,t.style),this.style=t.style)},n.prototype.getLabelWidth=function(){return this.props.label.width},n.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},i=0;r.forEach(this.items,function(t,n){if(t.dirty=!0,t.displayed){e[n]=t.redraw(!0),i=e[n].length}});if(i>0)for(var n=0;n<i;n++)r.forEach(e,function(t){t[n]()});return!0}},n.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop,e=this.dom.foreground.offsetLeft,i=this.dom.foreground.offsetWidth;this.top=t,this.right=e,this.width=i},n.prototype._redrawItems=function(t,e,i,n){if(t||this.stackDirty||this.isVisible&&!e){var o={},s=null;if("function"==typeof this.itemSet.options.order){var l=this,h={},d=0;if(r.forEach(this.items,function(t,e){t.displayed||(h[e]=t.redraw(!0),d=h[e].length,l.visibleItems.push(t))}),d>0)for(var u=0;u<d;u++)r.forEach(h,function(t){t[u]()});if(r.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(s in this.subgroups)o[s]=this.subgroups[s].items.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});a.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else{var c=this.orderedItems.byStart.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});a.stack(c,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(s in this.subgroups)o[s]=this.subgroups[s].items;a.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else a.stack(this.visibleItems,i,!0);else a.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},n.prototype._didResize=function(t,e){t=r.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return t=r.updateProperty(this.props.label,"width",i)||t,t=r.updateProperty(this.props.label,"height",n)||t},n.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},n.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var n=this.visibleItems[e];n.repositionY(t),this.isVisible||"__background__"==this.groupId||n.displayed&&n.hide()}},n.prototype.redraw=function(t,e,i,n){var o,s=!1,r=this.isVisible,a=[function(){i=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(i,r,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){o=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){s=this._didResize.bind(this)(s,o)}.bind(this),function(){this._applyGroupHeight.bind(this)(o)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){return!this.isVisible&&this.height&&(s=!1),s}];if(n)return a;var l;return a.forEach(function(t){l=t()}),l},n.prototype._updateSubGroupHeights=function(t){if((0,s.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),r.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=!0)})}},n.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},n.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var n=i[0].top,o=i[0].top+i[0].height;if(r.forEach(i,function(t){n=Math.min(n,t.top),o=Math.max(o,t.top+t.height)}),n>t.axis){var s=n-t.axis;o-=s,r.forEach(i,function(t){t.top-=s})}e=o+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},n.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},n.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},n.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),!this.itemSet.body.range.rolling&&-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},n.prototype._addToSubgroup=function(t,e){e=e||t.data.subgroup,void 0!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],
stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)},n.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start,n=t.subgroups[e].items[0].data.start,o=i-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(n)&&(n=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(o)&&(o=e)}),t.subgroups[e].start=n,t.subgroups[e].end=new Date(o-1)}},n.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},n.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},n.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},n.prototype._removeFromSubgroup=function(t,e){if(void 0!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var n=i.items.indexOf(t);n>=0&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},n.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},n.prototype.order=function(){for(var t=r.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},a.orderByStart(this.orderedItems.byStart),a.orderByEnd(this.orderedItems.byEnd)},n.prototype._updateItemsInRange=function(t,e,i){var n=[],o={},s=(i.end-i.start)/4,a=i.start-s,l=i.end+s,h=function(t){return t<a?-1:t<=l?0:1};if(e.length>0)for(var d=0;d<e.length;d++)this._checkIfVisibleWithReference(e[d],n,o,i);var u=r.binarySearchCustom(t.byStart,h,"data","start");if(this._traceVisible(u,t.byStart,n,o,function(t){return t.data.start<a||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,d=0;d<t.byEnd.length;d++)this._checkIfVisibleWithReference(t.byEnd[d],n,o,i);else{var c=r.binarySearchCustom(t.byEnd,h,"data","end");this._traceVisible(c,t.byEnd,n,o,function(t){return t.data.end<a||t.data.end>l})}var p={},f=0;for(d=0;d<n.length;d++){var m=n[d];if(!m.displayed){p[d]=m.redraw(!0),f=p[d].length}}if(f>0)for(var g=0;g<f;g++)r.forEach(p,function(t){t[g]()});for(d=0;d<n.length;d++)n[d].repositionX();return n},n.prototype._traceVisible=function(t,e,i,n,o){if(-1!=t){var s,r;for(s=t;s>=0&&(r=e[s],!o(r));s--)void 0===n[r.id]&&(n[r.id]=!0,i.push(r));for(s=t+1;s<e.length&&(r=e[s],!o(r));s++)void 0===n[r.id]&&(n[r.id]=!0,i.push(r))}},n.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},n.prototype._checkIfVisibleWithReference=function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},n.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=n},function(t,e,i){function n(t,e,i){r.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var o=i(29),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(68);n.prototype=(0,s.default)(r.prototype),n.prototype.redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,o=this.visibleItems.length;n<o;n++){this.visibleItems[n].repositionY(e)}return!1},n.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=n},function(t,e,i){function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}var o=i(38);n.prototype=new o(null,null,null),n.prototype.baseClassName="vis-item vis-range",n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}},n.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},n.prototype.redraw=function(t){var e,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var n;return i.forEach(function(t){n=t()}),n},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},n.prototype.repositionX=function(t){var e,i=this.parent.width,n=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(n<-i&&(n=-i),o>2*i&&(o=2*i));var r=Math.max(o-n+.5,1,this.props.content.width+4);switch(this.overflow?(this.options.rtl?this.right=n:this.left=n,this.width=r+this.props.content.width,e=this.props.content.width):(this.options.rtl?this.right=n:this.left=n,this.width=r,e=Math.max(o-n,this.props.content.width+4)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(r-e,0)+"px":this.dom.content.style.left=Math.max(r-e,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((r-e)/2,0)+"px":this.dom.content.style.left=Math.max((r-e)/2,0)+"px"}},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},n.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),s=n(o),r=i(6),a=n(r),l=i(0),h=n(l),d=i(1),u=n(d),c=i(2),p=i(179).default,f=function(){function t(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,h.default)(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},c.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new p(o),this.wrapper=void 0}return(0,u.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,a.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,n=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,n=!1,"function"==typeof e?(n=e(o,[]),n=n||this._handleObject(this.configureOptions[o],[o],!0)):!0!==e&&-1===e.indexOf(o)||(n=!0),!1!==n&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);if(!0===this.options.showButton){var s=document.createElement("div");s.className="vis-configuration vis-config-button",s.innerHTML="generate options",s.onclick=function(){t._printOptions()},s.onmouseover=function(){s.className="vis-configuration vis-config-button hover"},s.onmouseout=function(){s.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(s)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return n.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s],s===o&&(r.selected="selected"),r.innerHTML=t[s],n.appendChild(r)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],s=t[2],r=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=s}catch(t){}a.step=r;var l="",h=0;if(void 0!==e){e<0&&1.2*e<o?(a.min=Math.ceil(1.2*e),h=a.min,l="range increased"):e/1.2<o&&(a.min=Math.ceil(e/1.2),h=a.min,l="range increased"),1.2*e>s&&1!==s&&(a.max=Math.ceil(1.2*e),h=a.max,l="range increased"),a.value=e}else a.value=n;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=a.value;var u=this;a.onchange=function(){d.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){d.value=this.value};var c=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,c,a,d);""!==l&&this.popupHistory[p]!==h&&(this.popupHistory[p]=h,this._setupPopup(l,p))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],i=e.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,a.default)(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var o=this;n.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var o=this;n.onchange=function(){o._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,o=t[1],s=document.createElement("div");e=void 0===e?o:e,"none"!==e?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,s.onclick=function(){n._showColorPicker(e,s,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,s)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,n._update(o,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=this.options.filter,s=!1;for(var r in t)if(t.hasOwnProperty(r)){n=!0;var a=t[r],l=c.copyAndExtendArray(e,r);if("function"==typeof o&&!1===(n=o(r,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==n){s=!0;var h=this._getValue(l);if(a instanceof Array)this._handleArray(a,h,l);else if("string"==typeof a)this._makeTextInput(a,h,l);else if("boolean"==typeof a)this._makeCheckbox(a,h,l);else if(a instanceof Object){var d=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==r&&(d=!1),!0===d)if(void 0!==a.enabled){var u=c.copyAndExtendArray(l,"enabled"),p=this._getValue(u);if(!0===p){var f=this._makeLabel(r,l,!0);this._makeItem(l,f),s=this._handleObject(a,l)||s}else this._makeCheckbox(a,p,l)}else{var m=this._makeLabel(r,l,!0);this._makeItem(l,m),s=this._handleObject(a,l)||s}}else console.error("dont know how to handle",a,r,l)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="true"===t||t,t="false"!==t&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,s.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=f},function(t,e,i){function n(t,e){}function o(t,e){return e=void 0===e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function s(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}var r=i(6),a=function(t){return t&&t.__esModule?t:{default:t}}(r),l=i(14);n.draw=function(t,e,i,n){n=n||0;for(var r=s(i,e),h=0;h<t.length;h++)if(r){var d=r(t[h],e);!0!==d&&"object"!==(void 0===d?"undefined":(0,a.default)(d))||l.drawPoint(t[h].screen_x+n,t[h].screen_y,o(e,d),i.svgElements,i.svg,t[h].label)}else l.drawPoint(t[h].screen_x+n,t[h].screen_y,o(e),i.svgElements,i.svg,t[h].label)},n.drawIcon=function(t,e,i,n,s,r){var a=.5*s,h=l.getSVGElement("rect",r.svgElements,r.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline"),l.drawPoint(e+.5*n,i,o(t),r.svgElements,r.svg)},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){(0,a.default)(this,e);var o=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return o.labelOffset=0,o.selected=!1,o}return(0,p.default)(e,t),(0,h.default)(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),t.circle(e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,o){var s,r=0;if(void 0!==this.height){r=.5*this.height;var a=this.labelModule.getTextSize(t,n,o);a.lineCount>=1&&(r+=a.height/2)}s=i+r,this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,s,n,o,"hanging")}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),s=n(o),r=i(6),a=n(r),l=i(29),h=n(l),d=i(0),u=n(d),c=i(1),p=n(c),f=i(2),m=i(117).default,g=i(48).default,v=i(215).default,y=i(217).default,b=i(218).default,_=i(219).default,w=function(){function t(e,i,n,o){if((0,u.default)(this,t),void 0===i)throw new Error("No body provided");this.options=f.bridgeObject(n),this.globalOptions=n,this.defaultOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new m(this.body,this.options,!0),this.setOptions(e)}return(0,p.default)(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value));var i=[e,this.options,this.defaultOptions];this.chooser=g.choosify("edge",i),this.updateLabelModule(e);var n=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(n=!0),n}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var r=this.options.hoverWidth;"function"==typeof r?o.width=r(o.width):"number"==typeof r&&(o.width+=r),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof y&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof v&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof b&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof _&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new y(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new v(this.options,this.body,this.labelModule):this.edgeType=new b(this.options,this.body,this.labelModule):this.edgeType=new _(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save();var s=this._getRotation(t);0!=s.angle&&(t.translate(s.x,s.y),t.rotate(s.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var r,a,l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,a=i.y-l):(r=i.x+l,a=i.y-.5*i.shape.height),o=this._pointOnCircle(r,a,l,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();g.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var n={left:t.x,top:t.y};return this.isOverlappingWith(n)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,n=this.to.x,o=this.to.y,s=t.left,r=t.top;return this.edgeType.getDistanceToEdge(e,i,n,o,s,r)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var o=this.from.y-this.to.y,s=this.from.x-this.to.x,r=Math.atan2(o,s);return(r<-1&&s<0||r>0&&s<0)&&(r+=Math.PI),n.angle=r,n}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),
y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(f.selectiveDeepExtend(r,t,e,i),g.isValidLabel(e.label)?t.label=e.label:t.label=void 0,f.mergeOptions(t,e,"smooth",n),f.mergeOptions(t,e,"shadow",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,h.default)(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),f.mergeOptions(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,h.default)(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var l=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=l.indexOf("to"),t.arrows.middle.enabled=-1!=l.indexOf("middle"),t.arrows.from.enabled=-1!=l.indexOf("from")}else{if("object"!==(0,a.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,s.default)(e.arrows));f.mergeOptions(t.arrows,e.arrows,"to",n.arrows),f.mergeOptions(t.arrows,e.arrows,"middle",n.arrows),f.mergeOptions(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,h.default)(n.arrows));if(void 0!==e.color&&null!==e.color){var d=e.color,u=t.color;if(o)f.deepExtend(u,n.color,!1,i);else for(var c in u)u.hasOwnProperty(c)&&delete u[c];if(f.isString(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,void 0===d.opacity&&(u.opacity=1);else{var p=!1;void 0!==d.color&&(u.color=d.color,p=!0),void 0!==d.highlight&&(u.highlight=d.highlight,p=!0),void 0!==d.hover&&(u.hover=d.hover,p=!0),void 0!==d.inherit&&(u.inherit=d.inherit),void 0!==d.opacity&&(u.opacity=Math.min(1,Math.max(0,d.opacity))),!0===p?u.inherit=!1:void 0===u.inherit&&(u.inherit="from")}}else!0===i&&null===e.color&&(t.color=f.bridgeObject(n.color));!0===i&&null===e.font&&(t.font=f.bridgeObject(n.font))}}]),t}();e.default=w},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(118),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,o,s,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),l=0,h=0,d=1,u=this.to,c=!1;for(t.id===this.from.id&&(u=this.from,c=!0);h<=d&&l<10;){var p=.5*(h+d);if(i=this.getPoint(p,a),n=Math.atan2(u.y-i.y,u.x-i.x),o=u.distanceToBorder(e,n),s=Math.sqrt(Math.pow(i.x-u.x,2)+Math.pow(i.y-u.y,2)),r=o-s,Math.abs(r)<.2)break;r<0?!1===c?h=p:d=p:!1===c?d=p:h=p,l++}return i.t=p,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,s,r){var a=1e9,l=void 0,h=void 0,d=void 0,u=void 0,c=void 0,p=t,f=e;for(h=1;h<10;h++)d=.1*h,u=Math.pow(1-d,2)*t+2*d*(1-d)*r.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*r.y+Math.pow(d,2)*n,h>0&&(l=this._getDistanceToLine(p,f,u,c,o,s),a=l<a?l:a),p=u,f=c;return a}},{key:"_bezierCurve",value:function(t,e,i,n){var o=void 0!==i&&void 0!==i.x,s=void 0!==n&&void 0!==n.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&s?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===n&&-1e9===o&&(n=0,o=0,s=0,r=0),{minX:s,maxX:r,minY:n,maxY:o}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.x&&(s=e.x),r<e.x&&(r=e.x),n>e.y&&(n=e.y),o<e.y&&(o=e.y);return 1e9===s&&-1e9===r&&1e9===n&&-1e9===o&&(n=0,o=0,s=0,r=0),{minX:s,maxX:r,minY:n,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(l.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):l.deepExtend(i,t.options,!0),i}}]),t}();e.default=h},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var n=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(52),o=i(17),s=i(83),r=i(26),a=i(22),l=i(31),h=i(129),d=i(59),u=i(85),c=i(13)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,m,g,v,y){h(i,e,m);var b,_,w,x=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},S=e+" Iterator",C="values"==g,D=!1,T=t.prototype,k=T[c]||T["@@iterator"]||g&&T[g],O=k||x(g),E=g?C?x("entries"):O:void 0,M="Array"==e?T.entries||k:k;if(M&&(w=u(M.call(new t)))!==Object.prototype&&w.next&&(d(w,S,!0),n||a(w,c)||r(w,c,f)),C&&k&&"values"!==k.name&&(D=!0,O=function(){return k.call(this)}),n&&!y||!p&&!D&&T[c]||r(T,c,O),l[e]=O,l[S]=f,g)if(b={values:C?O:x("values"),keys:v?O:x("keys"),entries:E},y)for(_ in b)_ in T||s(T,_,b[_]);else o(o.P+o.F*(p||D),e,b);return b}},function(t,e,i){var n=i(128);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(32),o=i(18).document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var n=i(22),o=i(25),s=i(131)(!1),r=i(56)("IE_PROTO");t.exports=function(t,e){var i,a=o(t),l=0,h=[];for(i in a)i!=r&&n(a,i)&&h.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~s(h,i)||h.push(i));return h}},function(t,e,i){var n=i(22),o=i(41),s=i(56)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,i){var n=i(50),o=i(13)("toStringTag"),s="Arguments"==n(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=r(e=Object(t),o))?i:s?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n=i(17),o=i(7),s=i(28);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*s(function(){i(1)}),"Object",r)}},function(t,e,i){var n=i(84),o=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(42),o=i(39),s=i(25),r=i(53),a=i(22),l=i(81),h=Object.getOwnPropertyDescriptor;e.f=i(21)?h:function(t,e){if(t=s(t),e=r(e,!0),l)try{return h(t,e)}catch(t){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){function n(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=n},function(t,e,i){function n(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||void 0==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var o=i(2);n.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},n.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},n.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,n=i-t,o=Math.max(this.playInterval-n,0),s=this;this.playTimeout=setTimeout(function(){s.playNext()},o)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},n.prototype.setPlayInterval=function(t){this.playInterval=t},n.prototype.getPlayInterval=function(){return this.playInterval},n.prototype.setPlayLoop=function(t){this.playLoop=t},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},n.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t)}},n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,n=Math.round(i/e*(this.values.length-1));return n<0&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},n.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,n=this.leftToIndex(i);this.setIndex(n),o.preventDefault()},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=n},function(t,e,i){function n(t,e,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,n)}n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.prototype.setRange=function(t,e,i,n){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,n)},n.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=n.calculatePrettyStep(t):this._step=t)},n.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),n=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),s=i;return Math.abs(n-t)<=Math.abs(s-t)&&(s=n),Math.abs(o-t)<=Math.abs(s-t)&&(s=o),s<=0&&(s=1),s},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},t.exports=n},function(t,e,i){function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function s(t,e){return void 0===t||""===t?e:t+o(e)}function r(t,e,i,n){for(var o,r,a=0;a<i.length;++a)o=i[a],r=s(n,o),e[r]=t[o]}function a(t,e,i,n){for(var o,r,a=0;a<i.length;++a)o=i[a],void 0!==t[o]&&(r=s(n,o),e[r]=t[o])}function l(t,e){if(void 0===t||n(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");k=t,r(t,e,D),r(t,e,T,"default"),d(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new x(0,0,-1)}function h(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===k||n(k))throw new Error("DEFAULTS not set for module Settings");a(t,e,D),a(t,e,T,"default"),d(t,e)}}function d(t,e){void 0!==t.backgroundColor&&m(t.backgroundColor,e),g(t.dataColor,e),f(t.style,e),u(t.showLegend,e),v(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),void 0!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&_.selectiveDeepExtend(["tooltipStyle"],e,t)}function u(t,e){if(void 0===t){if(void 0===k.showLegend){var i=e.style===S.DOTCOLOR||e.style===S.DOTSIZE;e.showLegend=i}}else e.showLegend=t}function c(t){var e=C[t];return void 0===e?-1:e}function p(t){var e=!1;for(var i in S)if(S[i]===t){e=!0;break}return e}function f(t,e){if(void 0!==t){var i;if("string"==typeof t){if(-1===(i=c(t)))throw new Error("Style '"+t+"' is invalid")}else{if(!p(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}}function m(t,e){var i="white",n="gray",o=1;if("string"==typeof t)i=t,n="none",o=0;else{if("object"!==(void 0===t?"undefined":(0,b.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(n=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=n,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}function g(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}function v(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new w),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}var y=i(6),b=function(t){return t&&t.__esModule?t:{default:t}}(y),_=i(2),w=i(95),x=i(34),S={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},C={dot:S.DOT,"dot-line":S.DOTLINE,"dot-color":S.DOTCOLOR,"dot-size":S.DOTSIZE,line:S.LINE,grid:S.GRID,surface:S.SURFACE,bar:S.BAR,"bar-color":S.BARCOLOR,"bar-size":S.BARSIZE},D=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],T=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],k=void 0;t.exports.STYLE=S,t.exports.setDefaults=l,t.exports.setOptions=h,t.exports.setCameraPosition=v},function(t,e,i){function n(){this.armLocation=new r,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new r,this.offsetMultiplier=.6,this.cameraLocation=new r,this.cameraRotation=new r(.5*Math.PI,0,0),this.calculateCameraOrientation()}var o=i(165),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(34);n.prototype.setOffset=function(t,e){var i=Math.abs,n=s.default,o=this.offsetMultiplier,r=this.armLength*o;i(t)>r&&(t=n(t)*r),i(e)>r&&(e=n(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},n.prototype.getOffset=function(){return this.cameraOffset},n.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},n.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},n.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},n.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},n.prototype.getArmLength=function(){return this.armLength},n.prototype.getCameraLocation=function(){return this.cameraLocation},n.prototype.getCameraRotation=function(){return this.cameraRotation},n.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,i=this.cameraOffset.x,n=this.cameraOffset.y,o=Math.sin,s=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*s(e)+n*-o(e)*s(t),this.cameraLocation.y=this.cameraLocation.y+i*o(e)+n*s(e)*s(t),this.cameraLocation.z=this.cameraLocation.z+n*o(t)},t.exports=n},function(t,e,i){function n(t,e,i){this.dataGroup=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var o=i(12);n.prototype.isLoaded=function(){return this.loaded},n.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},n.prototype.getLabel=function(){return this.graph.filterLabel},n.prototype.getColumn=function(){return this.column},n.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},n.prototype.getValues=function(){return this.values},n.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},n.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var n=new o(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(n),this.dataPoints[t]=e}return e},n.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},n.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},n.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=n},function(t,e,i){function n(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){o(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=s(),this.escListener=this.deactivate.bind(this)}function o(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var s=i(35),r=i(44),a=i(10),l=i(2);r(n.prototype),n.current=null,n.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},n.prototype.activate=function(){n.current&&n.current.deactivate(),n.current=this,this.active=!0,this.dom.overlay.style.display="none",l.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},n.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",l.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},n.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=n},function(t,e,i){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:p.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=d.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){var o=i.groupsData.getDataSet();o.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(i){var n=o.get(i);n&&(n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),e=e.concat(n))}),o.update(e,n)}})}},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var s=i(29),r=n(s),a=i(6),l=n(a),h=i(10),d=i(2),u=i(11),c=i(12),p=i(66),f=i(16),m=i(68),g=i(69),v=i(101),y=i(102),b=i(70),_=i(103),w=i(104).default,x="__ungrouped__",S="__background__";o.prototype=new f,o.types={background:_,box:v,range:b,point:y},o.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var s=new g(S,null,this);s.show(),this.groups[S]=s,this.hammer=new h(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:h.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new h(this.body.dom.rightContainer):this.groupHammer=new h(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:h.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},o.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];d.selectiveExtend(e,this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,l.default)(t.itemsAlwaysDraggable)&&(d.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,l.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,l.default)(t.margin)&&(d.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,l.default)(t.margin.item)&&d.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,l.default)(t.editable)&&d.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,l.default)(t.groupEditable)&&d.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this)),this.markDirty()}},o.prototype.markDirty=function(t){
this.groupIds=[],t&&t.refreshItems&&d.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},o.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},o.prototype.setSelection=function(t){var e,i,n,o;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)n=this.selection[e],(o=this.items[n])&&o.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)n=t[e],(o=this.items[n])&&(this.selection.push(n),o.select())},o.prototype.getSelection=function(){return this.selection.concat([])},o.prototype.getVisibleItems=function(){var t,e,i=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end)):(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end));var n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var s=this.groups[o],r=s.isVisible?s.visibleItems:[],a=0;a<r.length;a++){var l=r[a];this.options.rtl?l.right<e&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>e&&n.push(l.id)}return n},o.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){e.splice(i,1);break}},o.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=d.option.asSize,n=this.options,o=n.orientation.item,s=!1,r=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,r.className="vis-itemset",s=this._orderGroups()||s;var a=e.end-e.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,h=e.start!=this.lastRangeStart,u=n.stack!=this.lastStack,c=n.stackSubgroups!=this.lastStackSubgroups,p=l||h||u||c;this.lastVisibleInterval=a,this.lastRangeStart=e.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var f=this._firstGroup(),m={item:t.item,axis:t.axis},g={item:t.item,axis:t.item.vertical/2},v=0,y=t.axis+t.item.vertical;this.groups[S].redraw(e,g,p);var b={},_=0;if(d.forEach(this.groups,function(t,i){if(i!==S){var n=t==f?m:g;b[i]=t.redraw(e,n,p,!0),_=b[i].length}}),_>0){for(var w={},x=0;x<_;x++)d.forEach(b,function(t,e){w[e]=t[x]()});d.forEach(this.groups,function(t,e){if(e!==S){var i=w[e];s=i||s,v+=t.height}}),v=Math.max(v,y)}return v=Math.max(v,y),r.style.height=i(v),this.props.width=r.offsetWidth,this.props.height=v,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,s=this._isResized()||s},o.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups[x]||null},o.prototype._updateUngrouped=function(){var t,e,i=this.groups[x];if(this.groupsData){if(i){i.hide(),delete this.groups[x];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var n=this._getGroupId(t.data),o=this.groups[n];o&&o.add(t)||t.hide()}}}else if(!i){i=new m(null,null,this),this.groups[x]=i;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},o.prototype.getLabelSet=function(){return this.dom.labelSet},o.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof u||t instanceof c))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(d.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;d.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},o.prototype.getItems=function(){return this.itemsData},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(d.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof u||t instanceof c))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.groupsData;this.groupsData instanceof c&&(n=this.groupsData.getDataSet()),n.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var i=n.get(e);i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),n.update(i)})});var o=this.id;d.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},o.prototype.getGroups=function(){return this.groupsData},o.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},o.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},o.prototype._getGroupId=function(t){return"background"==this._getType(t)&&void 0==t.group?S:this.groupsData?t.group:x},o.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,n=e.itemsData.get(t,e.itemOptions),s=e.items[t],r=n?e._getType(n):null,a=o.types[r];if(s&&(a&&s instanceof a?e._updateItem(s,n):(i=s.selected,e._removeItem(s),s=null)),!s&&n){if(!a)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');s=new a(n,e.conversion,e.options),s.id=t,e._addItem(s),i&&(this.selection.push(t),s.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},o.prototype._onAdd=o.prototype._onUpdate,o.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var n=i.items[t];n&&(e++,i._removeItem(n))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},o.prototype._order=function(){d.forEach(this.groups,function(t){t.order()})},o.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},o.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),n=e.groups[t];if(n)n.setData(i);else{if(t==x||t==S)throw new Error("Illegal group id. "+t+" is a reserved id.");var o=(0,r.default)(e.options);d.extend(o,{height:null}),n=new m(t,i,e),e.groups[t]=n;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("_change",{queue:!0})},o.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},o.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!d.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},o.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var i=this.groupsData.get(t);if(i.nestedInGroup||e.push(t),i.nestedGroups){var n=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}),o=n.map(function(t){return t.id});e=e.concat(o)}},this),e},o.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},o.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},o.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},o.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof b&&e.push(t[i]);return e},o.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},o.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},o.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,i=this.touchParams.item||null,n=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var o=this.touchParams.dragLeftItem,s=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,o)e={item:o,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(s)e={item:s,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var r=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var i=n.items[e],o=n._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:r-o,data:this._cloneItemData(i.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},o.prototype._onDragStartAddItem=function(t){var e,i,n=this.options.snap||null;this.options.rtl?(e=d.getAbsoluteRight(this.dom.frame),i=e-t.center.x+10):(e=d.getAbsoluteLeft(this.dom.frame),i=t.center.x-e-10);var o=this.body.util.toTime(i),s=this.body.util.getScale(),r=this.body.util.getStep(),a=n?n(o,s,r):o,l=a,h={type:"range",start:a,end:l,content:"new item"},u=d.randomUUID();h[this.itemsData._fieldId]=u;var c=this.groupFromTarget(t);c&&(h.group=c.groupId);var p=new b(h,this.conversion,this.options);p.id=u,p.data=this._cloneItemData(h),this._addItem(p),this.touchParams.selectedItem=p;var f={item:p,initialX:t.center.x,data:p.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()},o.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,i=this,n=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var o=this.body.util.getScale(),s=this.body.util.getStep(),r=this.touchParams.selectedItem,a=(this.options.editable.overrideItems||null==r.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=r.editable&&r.editable.updateGroup,l=null;if(a&&r&&void 0!=r.data.group){var h=i.groupFromTarget(t);h&&(l=this._getGroupIndex(h.groupId))}this.touchParams.itemProps.forEach(function(h){var u,c,p,f,m,g=i.body.util.toTime(t.center.x-e),v=i.body.util.toTime(h.initialX-e);u=this.options.rtl?-(g-v):g-v;var y=this._cloneItemData(h.item.data);if(null==h.item.editable||h.item.editable.updateTime||h.item.editable.updateGroup||i.options.editable.overrideItems){if((this.options.editable.overrideItems||null==r.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=r.editable&&r.editable.updateTime)if(h.dragLeft)this.options.rtl?void 0!=y.end&&(p=d.convert(h.data.end,"Date"),m=new Date(p.valueOf()+u),y.end=n?n(m,o,s):m):void 0!=y.start&&(c=d.convert(h.data.start,"Date"),f=new Date(c.valueOf()+u),y.start=n?n(f,o,s):f);else if(h.dragRight)this.options.rtl?void 0!=y.start&&(c=d.convert(h.data.start,"Date"),f=new Date(c.valueOf()+u),y.start=n?n(f,o,s):f):void 0!=y.end&&(p=d.convert(h.data.end,"Date"),m=new Date(p.valueOf()+u),y.end=n?n(m,o,s):m);else if(void 0!=y.start)if(c=d.convert(h.data.start,"Date").valueOf(),f=new Date(c+u),void 0!=y.end){p=d.convert(h.data.end,"Date");var b=p.valueOf()-c.valueOf();y.start=n?n(f,o,s):f,y.end=new Date(y.start.valueOf()+b)}else y.start=n?n(f,o,s):f;if(a&&!h.dragLeft&&!h.dragRight&&null!=l&&void 0!=y.group){var _=l-h.groupOffset;_=Math.max(0,_),_=Math.min(i.groupIds.length-1,_),y.group=i.groupIds[_]}y=this._cloneItemData(y),i.options.onMoving(y,function(t){t&&h.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},o.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),t.data.group=i.groupId,i.add(t),i.order()}},o.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach(function(t){var n=t.item.id;if(null!=e.itemsData.get(n,e.itemOptions)){var o=this._cloneItemData(t.item.data);e.options.onMove(o,function(o){o?(o[i._fieldId]=n,i.update(o)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.body.emitter.emit("_change")})}.bind(this))}},o.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData.getDataSet(),n=i.get(e.groupId);void 0==n.showNested&&(n.showNested=!0),n.showNested=!n.showNested;var o=i.get(e.nestedGroups).map(function(t){return t.visible=n.showNested,t});if(i.update(o.concat(n)),n.showNested)d.removeClassName(e.dom.label,"collapsed"),d.addClassName(e.dom.label,"expanded");else{d.removeClassName(e.dom.label,"expanded");var s=this.options.rtl?"collapsed-rtl":"collapsed";d.addClassName(e.dom.label,s)}}},o.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},o.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof c&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,s=d.getAbsoluteTop(i.dom.foreground),r=this.groupTouchParams.group.height;if(n){if(s+r<o)return}else{if(s+i.height-r>o)return}}if(i&&i!=this.groupTouchParams.group){var a=e.get(i.groupId),l=e.get(this.groupTouchParams.group.groupId);l&&a&&(this.options.groupOrderSwap(l,a,e),e.update(l),e.update(a));var h=e.getIds({order:this.options.groupOrder});if(!d.equalArray(h,this.groupTouchParams.originalOrder))for(var u=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(u.length,h.length),m=0,g=0,v=0;m<f;){for(;m+g<f&&m+v<f&&h[m+g]==u[m+v];)m++;if(m+g>=f)break;if(h[m+g]==p)g=1;else if(u[m+v]==p)v=1;else{var y=h.indexOf(u[m+v]),b=e.get(h[m+g]),_=e.get(u[m+v]);this.options.groupOrderSwap(b,_,e),e.update(b),e.update(_);var w=h[m+g];h[m+g]=u[m+v],h[y]=w,m++}}}}},o.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,n=e.groupsData.getDataSet(),o=d.extend({},n.get(i));e.options.onMoveGroup(o,function(t){if(t)t[n._fieldId]=i,n.update(t);else{var o=n.getIds({order:e.options.groupOrder});if(!d.equalArray(o,e.groupTouchParams.originalOrder))for(var s=e.groupTouchParams.originalOrder,r=Math.min(s.length,o.length),a=0;a<r;){for(;a<r&&o[a]==s[a];)a++;if(a>=r)break;var l=o.indexOf(s[a]),h=n.get(o[a]),u=n.get(s[a]);e.options.groupOrderSwap(h,u,n),n.update(h),n.update(u);var c=o[a];o[a]=s[a],o[l]=c,a++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},o.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);var n=this.getSelection(),o=this.itemFromTarget(t),s=o?[o.id]:[];this.setSelection(s);var r=this.getSelection();(r.length>0||n.length>0)&&this.body.emitter.emit("select",{items:r,event:t})}},o.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e){if(e!==this.itemFromRelatedTarget(t)){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new w(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var n=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-d.getAbsoluteLeft(n)+n.offsetLeft,t.clientY-d.getAbsoluteTop(n)+n.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}}},o.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);if(e){e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))}},o.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-d.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-d.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},o.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},o.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}}},o.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)},o.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,i,n=this,o=this.options.snap||null;this.options.rtl?(e=d.getAbsoluteRight(this.dom.frame),i=e-t.center.x):(e=d.getAbsoluteLeft(this.dom.frame),i=t.center.x-e);var s,r,a=this.body.util.toTime(i),l=this.body.util.getScale(),h=this.body.util.getStep();"drop"==t.type?(r=JSON.parse(t.dataTransfer.getData("text")),r.content=r.content?r.content:"new item",r.start=r.start?r.start:o?o(a,l,h):a,r.type=r.type||"box",r[this.itemsData._fieldId]=r.id||d.randomUUID(),"range"!=r.type||r.end||(s=this.body.util.toTime(i+this.props.width/5),r.end=o?o(s,l,h):s)):(r={start:o?o(a,l,h):a,content:"new item"},r[this.itemsData._fieldId]=d.randomUUID(),"range"===this.options.type&&(s=this.body.util.toTime(i+this.props.width/5),r.end=o?o(s,l,h):s));var u=this.groupFromTarget(t);u&&(r.group=u.groupId),r=this._cloneItemData(r),this.options.onAdd(r,function(e){e&&(n.itemsData.getDataSet().add(e),"drop"==t.type&&n.setSelection([e.id]))})}},o.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1)&&this.options.multiselect){var n=this.itemsData.get(e.id).group,s=void 0;this.options.multiselectPerGroup&&i.length>0&&(s=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=s&&s!=n||i.push(e.id);var r=o._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||s==n){i=[];for(var a in this.items)if(this.items.hasOwnProperty(a)){var l=this.items[a],h=l.data.start,d=void 0!==l.data.end?l.data.end:h;!(h>=r.min&&d<=r.max)||this.options.multiselectPerGroup&&s!=this.itemsData.get(l.id).group||l instanceof _||i.push(l.id)}}}else{var u=i.indexOf(e.id);-1==u?i.push(e.id):i.splice(u,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},o._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},o.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},o.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},o.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},o.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=i[n],s=this.groups[o],r=s.dom.foreground,a=d.getAbsoluteTop(r);if(e>a&&e<a+r.offsetHeight)return s;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&e>a)return s}else if(0===n&&e<a+r.offset)return s}return null},o.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},o.prototype._cloneItemData=function(t,e){var i=d.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=d.convert(i.start,e&&e.start||"Date")),void 0!=i.end&&(i.end=d.convert(i.end,e&&e.end||"Date")),i},t.exports=o},function(t,e,i){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,i,n){if(n)for(var o=0;o<t.length;o++)t[o].top=null;for(var o=0;o<t.length;o++){var s=t[o];if(s.stack&&null===s.top){s.top=i.axis;do{for(var r=null,a=0,l=t.length;a<l;a++){var h=t[a];if(null!==h.top&&h!==s&&h.stack&&e.collision(s,h,i.item,h.options.rtl)){r=h;break}}null!=r&&(s.top=r.top+r.height+i.item.vertical)}while(r)}}},e.substack=function(t,i,n){for(var o=0;o<t.length;o++)t[o].top=null;var s=n.height;for(o=0;o<t.length;o++){var r=t[o];if(r.stack&&null===r.top){r.top=r.baseTop;do{for(var a=null,l=0,h=t.length;l<h;l++){var d=t[l];if(null!==d.top&&d!==r&&e.collision(r,d,i.item,d.options.rtl)){a=d;break}}null!=a&&(r.top=a.top+a.height+i.item.vertical),r.top+r.height>s&&(s=r.top+r.height)}while(a)}}n.height=s-n.top+.5*i.item.vertical},e.nostack=function(t,i,n,o){for(var s=0;s<t.length;s++)if(void 0==t[s].data.subgroup)t[s].top=i.item.vertical;else if(void 0!==t[s].data.subgroup&&o){var r=0;for(var a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<n[t[s].data.subgroup].index&&(r+=n[a].height,n[t[s].data.subgroup].top=r);t[s].top=r+.5*i.item.vertical}o||e.stackSubgroups(t,i,n)},e.stackSubgroups=function(t,i,n){for(var o in n)if(n.hasOwnProperty(o)){n[o].top=0;do{var s=null;for(var r in n)if(null!==n[r].top&&r!==o&&n[o].index>n[r].index&&e.collisionByTimes(n[o],n[r])){s=n[r];break}null!=s&&(n[o].top=s.top+s.height)}while(s)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=n[t[a].data.subgroup].top+.5*i.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,i,n){var o=!1,s=[];for(var r in n)n[r].hasOwnProperty("index")?s[n[r].index]=r:s.push(r);for(var a=0;a<s.length;a++)if(r=s[a],n.hasOwnProperty(r)){o=o||n[r].stack,n[r].top=0;for(var l in n)n[l].visible&&n[r].index>n[l].index&&(n[r].top+=n[l].height);for(var h=t[r],d=0;d<h.length;d++)void 0!==h[d].data.subgroup&&(h[d].top=n[h[d].data.subgroup].top+.5*i.item.vertical,n[r].stack&&(h[d].baseTop=h[d].top));o&&n[r].stack&&e.substack(t[r],i,n[r])}},e.collision=function(t,e,i,n){return n?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){function n(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}var o=i(38);n.prototype=new o(null,null,null),n.prototype.isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e,this.dom.line.className="vis-item vis-line"+e,this.dom.dot.className="vis-item vis-dot"+e}},n.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},n.prototype.redraw=function(t){var e,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var n;return i.forEach(function(t){n=t()}),n},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,s=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-s+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},n.prototype.getWidthLeft=function(){return this.width/2},n.prototype.getWidthRight=function(){return this.width/2},t.exports=n},function(t,e,i){function n(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}var o=i(38);n.prototype=new o(null,null,null),n.prototype.isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point)
;var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e,this.dom.dot.className="vis-item vis-dot"+e}},n.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},n.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},n.prototype.redraw=function(t){var e,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var n;return i.forEach(function(t){n=t()}),n},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype.getWidthLeft=function(){return this.props.dot.width},n.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=n},function(t,e,i){function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}var o=i(38),s=i(69),r=i(70);n.prototype=new o(null,null,null),n.prototype.baseClassName="vis-item vis-background",n.prototype.stack=!1,n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}},n.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},n.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},n.prototype._repaintDomAdditionals=function(){},n.prototype.redraw=function(t){var e,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var n;return i.forEach(function(t){n=t()}),n},n.prototype.show=r.prototype.show,n.prototype.hide=r.prototype.hide,n.prototype.repositionX=r.prototype.repositionX,n.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[n].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof s?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i){(0,s.default)(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,a.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,r=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>o-this.padding&&(a=!0),s=a?this.x-i:this.x,r=l?this.y-e:this.y}else r=this.y-e,r+e+this.padding>n&&(r=n-e-this.padding),r<this.padding&&(r=this.padding),s=this.x,s+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",s="number",r="object",a={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:r,boolean:o,function:"function"}},align:{string:n},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:s,undefined:"undefined"},__type__:{object:r}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:s},clickToUse:{boolean:o},dataAttributes:{string:n,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},end:{number:s,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:r,function:"function"}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:r,function:"function"}},__type__:{object:r}},moment:{function:"function"},groupOrder:{string:n,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},groupOrderSwap:{function:"function"},height:{string:n,number:s},hiddenDates:{start:{date:"date",number:s,string:n,moment:"moment"},end:{date:"date",number:s,string:n,moment:"moment"},repeat:{string:n},__type__:{object:r,array:"array"}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},limitSize:{boolean:o},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:r}},margin:{axis:{number:s},item:{horizontal:{number:s,undefined:"undefined"},vertical:{number:s,undefined:"undefined"},__type__:{object:r,number:s}},__type__:{object:r,number:s}},max:{date:"date",number:s,string:n,moment:"moment"},maxHeight:{number:s,string:n},maxMinorChars:{number:s},min:{date:"date",number:s,string:n,moment:"moment"},minHeight:{number:s,string:n},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:n,undefined:"undefined"},item:{string:n,undefined:"undefined"},__type__:{string:n,object:r}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:s,string:n,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:n,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:r}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:r}},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:s,undefined:"undefined"},__type__:{object:r}},type:{string:n},width:{string:n,number:s},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:s},zoomMin:{number:s},__type__:{object:r}},l={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=a,e.configureOptions=l},function(t,e,i){function n(t,e){this.id=r.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=r.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=r.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var o=i(6),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(14),l=i(11),h=i(12),d=i(16),u=i(107),c=i(109),p=i(112),f=i(110),m=i(111),g=i(72);n.prototype=new d,n.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new p(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new p(this.body,this.options.legend,"right",this.options.groups),this.show()},n.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),r.selectiveDeepExtend(e,this.options,t),r.mergeOptions(this.options,t,"interpolation"),r.mergeOptions(this.options,t,"drawPoints"),r.mergeOptions(this.options,t,"shaded"),r.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,s.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(r.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e)}},n.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){r.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},n.prototype._onUpdate=function(t){this._updateAllGroupData(t)},n.prototype._onAdd=function(t){this._onUpdate(t)},n.prototype._onRemove=function(t){this._onUpdate(t)},n.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},n.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},n.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},n.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},n.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new c(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},n.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},n=this.itemsData.get(),o=this.itemsData._fieldId,s={};t&&t.map(function(t){s[t]=t});for(var a={},l=0;l<n.length;l++){var h=n[l],d=h.group;null!==d&&void 0!==d||(d="__ungrouped__"),a.hasOwnProperty(d)?a[d]++:a[d]=1}var u={};if(!e&&t)for(d in this.groups)if(this.groups.hasOwnProperty(d)){g=this.groups[d];var c=g.getItems();i[d]=c.filter(function(t){return u[t[o]]=t[o],t[o]!==s[t[o]]});var p=a[d];a[d]-=i[d].length,i[d].length<p&&(i[d][p-1]={})}for(l=0;l<n.length;l++)if(h=n[l],d=h.group,null!==d&&void 0!==d||(d="__ungrouped__"),e||!t||h[o]===s[h[o]]||!u.hasOwnProperty(h[o])){i.hasOwnProperty(d)||(i[d]=new Array(a[d]));var f=r.bridgeObject(h);f.x=r.convert(h.x,"Date"),f.end=r.convert(h.end,"Date"),f.orginalY=h.y,f.y=Number(h.y),f[o]=h[o];var m=i[d].length-a[d]--;i[d][m]=f}for(d in this.groups)this.groups.hasOwnProperty(d)&&(i.hasOwnProperty(d)||(i[d]=new Array(0)));for(d in i)if(i.hasOwnProperty(d))if(0==i[d].length)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var g=void 0;void 0!=this.groupsData&&(g=this.groupsData.get(d)),void 0==g&&(g={id:d,content:this.options.defaultGroup+d}),this._updateGroup(g,d),this.groups[d].setItems(i[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},n.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=r.option.asSize(3*this.props.width),this.svg.style.left=r.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var s=this.props.width/o,a=n*s;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},n.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}r.insertSort(t,function(t,e){var i=t.zIndex,n=e.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o].id;return n},n.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),s=this._getSortedGroupIds();if(s.length>0){var r={};for(this._getRelevantData(s,r,n,o),this._applySampling(s,r),e=0;e<s.length;e++)this._convertXcoordinates(r[s[e]]);if(this._getYRanges(s,r,i),1==this._updateYAxis(s,i))return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<s.length;e++)t=this.groups[s[e]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=l&&(this._stack(r[t.id],r[l.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==l.options.shaded.orientation?(l.options.shaded.orientation="group",l.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=l.id))),l=t)),this._convertYcoordinates(r[s[e]],t);var h={};for(e=0;e<s.length;e++)if(t=this.groups[s[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var d=r[s[e]];if(null==d||0==d.length)continue;if(h.hasOwnProperty(s[e])||(h[s[e]]=m.calcPath(d,t)),"group"===t.options.shaded.orientation){var u=t.options.shaded.groupId;if(-1===s.indexOf(u)){console.log(t.id+": Unknown shading group target given:"+u);continue}h.hasOwnProperty(u)||(h[u]=m.calcPath(r[u],this.groups[u])),m.drawShading(h[s[e]],t,h[u],this.framework)}else m.drawShading(h[s[e]],t,void 0,this.framework)}for(f.draw(s,r,this.framework),e=0;e<s.length;e++)if(t=this.groups[s[e]],r[s[e]].length>0)switch(t.options.style){case"line":h.hasOwnProperty(s[e])||(h[s[e]]=m.calcPath(r[s[e]],t)),m.draw(h[s[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||g.draw(r[s[e]],t,this.framework)}}}return a.cleanupElements(this.svgElements),!1},n.prototype._stack=function(t,e){var i,n,o,s,r;i=0;for(var a=0;a<t.length;a++){s=void 0,r=void 0;for(var l=i;l<e.length;l++){if(e[l].x===t[a].x){s=e[l],r=e[l],i=l;break}if(e[l].x>t[a].x){r=e[l],s=0==l?r:e[l-1],i=l;break}}void 0===r&&(s=e[e.length-1],r=e[e.length-1]),n=r.x-s.x,o=r.y-s.y,t[a].y=0==n?t[a].orginalY+r.y:t[a].orginalY+o/n*(t[a].x-s.x)+s.y}},n.prototype._getRelevantData=function(t,e,i,n){var o,s,a,l;if(t.length>0)for(s=0;s<t.length;s++){o=this.groups[t[s]];var h=o.getItems();if(1==o.options.sort){var d=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},u=Math.max(0,r.binarySearchValue(h,i,"x","before",d)),c=Math.min(h.length,r.binarySearchValue(h,n,"x","after",d)+1);c<=0&&(c=h.length);var p=new Array(c-u);for(a=u;a<c;a++)l=o.itemsData[a],p[a-u]=l;e[t[s]]=p}else e[t[s]]=o.itemsData}},n.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var n=0;n<t.length;n++)if(i=this.groups[t[n]],1==i.options.sampling){var o=e[t[n]];if(o.length>0){var s=1,r=o.length,a=this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x),l=r/a;s=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(l)));for(var h=new Array(r),d=0;d<r;d+=s){var u=Math.round(d/s);h[u]=o[d]}e[t[n]]=h.splice(0,Math.round(r/s))}}},n.prototype._getYRanges=function(t,e,i){var n,o,s,r,a=[],l=[];if(t.length>0){for(s=0;s<t.length;s++)n=e[t[s]],r=this.groups[t[s]].options,n.length>0&&(o=this.groups[t[s]],!0===r.stack&&"bar"===r.style?"left"===r.yAxisOrientation?a=a.concat(n):l=l.concat(n):i[t[s]]=o.getYRange(n,t[s]));f.getStackedYRange(a,i,t,"__barStackLeft","left"),f.getStackedYRange(l,i,t,"__barStackRight","right")}},n.prototype._updateYAxis=function(t,e){var i,n,o=!1,s=!1,r=!1,a=1e9,l=1e9,h=-1e9,d=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];c&&"right"!=c.options.yAxisOrientation?(s=!0,a=1e9,h=-1e9):c&&c.options.yAxisOrientation&&(r=!0,l=1e9,d=-1e9)}for(u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore&&(i=e[t[u]].min,n=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(s=!0,a=a>i?i:a,h=h<n?n:h):(r=!0,l=l>i?i:l,d=d<n?n:d));1==s&&this.yAxisLeft.setRange(a,h),1==r&&this.yAxisRight.setRange(l,d)}o=this._toggleAxisVisiblity(s,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(r,this.yAxisRight)||o,1==r&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==r?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return o},n.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},n.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,void 0!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0},n.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))},t.exports=n},function(t,e,i){function n(t,e,i,n){this.id=r.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=r.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}var o=i(8),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(14),l=i(16),h=i(108);n.prototype=new l,n.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},n.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},n.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];r.selectiveDeepExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},n.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var n=(0,s.default)(this.groups);n.sort(function(t,e){return t<e?-1:1});for(var o=0;o<n.length;o++){var r=n[o];!0!==this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&!0!==this.linegraphOptions.visibility[r]||(this.groups[r].getLegend(e,15,this.framework,t,i),i+=19)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},n.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},n.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},n.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},
n.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},n.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var n=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var s=this.options.orientation,r=this.options.showMinorLabels,a=this.options.showMajorLabels;n.minorLabelHeight=r?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===s?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return t},n.prototype._redrawLabels=function(){var t=this,e=!1;a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels);var i=this.options.orientation,n=void 0!=this.options[i].range?this.options[i].range:{},o=!0;void 0!=n.max&&(this.range.end=n.max,o=!1);var s=!0;void 0!=n.min&&(this.range.start=n.min,s=!1),this.scale=new h(this.range.start,this.range.end,s,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var n=e.y,o=e.major;t.options.showMinorLabels&&!1===o&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),o&&n>=0&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(o?t._redrawLine(n,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var r=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(r=this.props.titleCharHeight);var l=!0===this.options.icons?Math.max(this.options.iconWidth,r)+this.options.labelOffsetX+15:r+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&!0===this.options.visible?(this.width=this.maxLabelSize+l,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),e=!1),e},n.prototype.convertValue=function(t){return this.scale.convertValue(t)},n.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},n.prototype._redrawLabel=function(t,e,i,n,o){var s=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);s.className=n,s.innerHTML=e,"left"===i?(s.style.left="-"+this.options.labelOffsetX+"px",s.style.textAlign="right"):(s.style.right="-"+this.options.labelOffsetX+"px",s.style.textAlign="left"),s.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var r=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*r&&(this.maxLabelSize=e.length*r)},n.prototype._redrawLine=function(t,e,i,n,o){if(!0===this.master){var s=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);s.className=i,s.innerHTML="","left"===e?s.style.left=this.width-n+"px":s.style.right=this.width-n+"px",s.style.width=o+"px",s.style.top=t+"px"}},n.prototype._redrawTitle=function(t){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&r.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)},n.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure",s.appendChild(o),this.dom.frame.appendChild(s),this.props.titleCharHeight=s.clientHeight,this.props.titleCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}},t.exports=n},function(t,e,i){function n(t,e,i,n,o,s){var r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=s,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=r,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var l=this,h=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=h(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=h(this._end)),this.determineScale()}}n.prototype.setCharHeight=function(t){this.majorCharHeight=t},n.prototype.setHeight=function(t){this.containerHeight=t},n.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var o=!1,s=n;Math.abs(s)<=Math.abs(i);s++){this.magnitudefactor=Math.pow(10,s);for(var r=0;r<this.minorSteps.length;r++){if(this.magnitudefactor*this.minorSteps[r]>=e){o=!0,this.minorStepIdx=r;break}}if(!0===o)break}},n.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},n.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},n.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},n.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},n.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,n=this._start+i;this._end-n>1e-5;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t},n.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,n=this._end,o=this,s=function(){o.magnitudefactor*=2},r=function(){o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?s():(s(),s())):(this.minorStepIdx=2,1==e?r():(r(),r())));for(var a=t.convertValue(0),l=t.getStep()*t.scale,h=!1,d=0;!h&&d++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=i,this._end=this._start+u;var c=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var m=a-c;this._end+=m/this.scale,this._start=this._end-u}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+u):(this._start+=p-f/this.scale,this._end=this._start+u);if(!this.autoScaleEnd&&this._end>n+1e-5)r(),h=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){r(),h=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&u<n-i?(s(),h=!1):h=!0}}},n.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},n.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=n},function(t,e,i){function n(t,e,i,n){this.id=e;var o=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=r.selectiveBridgeObject(o,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}var o=i(6),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(110),l=i(111),h=i(72);n.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&r.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},n.prototype.getItems=function(){return this.itemsData},n.prototype.setZeroPosition=function(t){this.zeroPosition=t},n.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];r.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),r.mergeOptions(this.options,t,"interpolation"),r.mergeOptions(this.options,t,"drawPoints"),r.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,s.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},n.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},n.prototype.getLegend=function(t,e,i,n,o){if(void 0==i||null==i){i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}}switch(void 0!=n&&null!=n||(n=0),void 0!=o&&null!=o||(o=.5*e),this.options.style){case"line":l.drawIcon(this,n,o,t,e,i);break;case"points":case"point":h.drawIcon(this,n,o,t,e,i);break;case"bar":a.drawIcon(this,n,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},n.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=n},function(t,e,i){function n(t,e){}var o=i(14),s=i(72);n.drawIcon=function(t,e,i,n,s,r){var a=.5*s,l=o.getSVGElement("rect",r.svgElements,r.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-a),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*n),d=t.options.barChart.width,u=d/h,c=Math.round(.4*s),p=Math.round(.75*s),f=Math.round((n-2*h)/3);if(o.drawBar(e+.5*h+f,i+a-c-1,h,c,t.className+" vis-bar",r.svgElements,r.svg,t.style),o.drawBar(e+1.5*h+f+2,i+a-p-1,h,p,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var m={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/u,className:t.className};o.drawPoint(e+.5*h+f,i+a-c-1,m,r.svgElements,r.svg),o.drawPoint(e+1.5*h+f+2,i+a-p-1,m,r.svgElements,r.svg)}},n.draw=function(t,e,i){var r,a,l,h,d,u,c=[],p={},f=0;for(d=0;d<t.length;d++)if(h=i.groups[t[d]],"bar"===h.options.style&&!0===h.visible&&(void 0===i.options.groups.visibility[t[d]]||!0===i.options.groups.visibility[t[d]]))for(u=0;u<e[t[d]].length;u++)c.push({screen_x:e[t[d]][u].screen_x,screen_end:e[t[d]][u].screen_end,screen_y:e[t[d]][u].screen_y,x:e[t[d]][u].x,end:e[t[d]][u].end,y:e[t[d]][u].y,groupId:t[d],label:e[t[d]][u].label}),f+=1;if(0!==f)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),n._getDataIntersections(p,c),d=0;d<c.length;d++){h=i.groups[c[d].groupId];var m=void 0!=h.options.barChart.minWidth?h.options.barChart.minWidth:.1*h.options.barChart.width;a=c[d].screen_x;var g=0;if(void 0===p[a])d+1<c.length&&(r=Math.abs(c[d+1].screen_x-a)),l=n._getSafeDrawData(r,h,m);else{var v=d+(p[a].amount-p[a].resolved);v<c.length&&(r=Math.abs(c[v].screen_x-a)),l=n._getSafeDrawData(r,h,m),p[a].resolved+=1,!0===h.options.stack&&!0!==h.options.excludeFromStacking?c[d].screen_y<h.zeroPosition?(g=p[a].accumulatedNegative,p[a].accumulatedNegative+=h.zeroPosition-c[d].screen_y):(g=p[a].accumulatedPositive,p[a].accumulatedPositive+=h.zeroPosition-c[d].screen_y):!0===h.options.barChart.sideBySide&&(l.width=l.width/p[a].amount,l.offset+=p[a].resolved*l.width-.5*l.width*(p[a].amount+1))}var y=l.width,b=c[d].screen_x;if(void 0!=c[d].screen_end?(y=c[d].screen_end-c[d].screen_x,b+=.5*y):b+=l.offset,o.drawBar(b,c[d].screen_y-g,y,h.zeroPosition-c[d].screen_y,h.className+" vis-bar",i.svgElements,i.svg,h.style),!0===h.options.drawPoints.enabled){var _={screen_x:c[d].screen_x,screen_y:c[d].screen_y-g,x:c[d].x,y:c[d].y,groupId:c[d].groupId,label:c[d].label};s.draw([_],h,i,l.offset)}}},n._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x))),0===i&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},n._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&t>0?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},n.getStackedYRange=function(t,e,i,o,s){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};n._getDataIntersections(r,t),e[o]=n._getStackedYRange(r,t),e[o].yAxisOrientation=s,i.push(o)}},n._getStackedYRange=function(t,e){for(var i,n=e[0].screen_y,o=e[0].screen_y,s=0;s<e.length;s++)i=e[s].screen_x,void 0===t[i]?(n=n>e[s].screen_y?e[s].screen_y:n,o=o<e[s].screen_y?e[s].screen_y:o):e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y;for(var r in t)t.hasOwnProperty(r)&&(n=n>t[r].accumulatedNegative?t[r].accumulatedNegative:n,n=n>t[r].accumulatedPositive?t[r].accumulatedPositive:n,o=o<t[r].accumulatedNegative?t[r].accumulatedNegative:o,o=o<t[r].accumulatedPositive?t[r].accumulatedPositive:o);return{min:n,max:o}},t.exports=n},function(t,e,i){function n(t,e){}var o=i(14);n.calcPath=function(t,e){if(null!=t&&t.length>0){return 1==e.options.interpolation.enabled?n._catmullRom(t,e):n._linear(t)}},n.drawIcon=function(t,e,i,n,s,r){var a,l,h=.5*s,d=o.getSVGElement("rect",r.svgElements,r.svg);if(d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-h),d.setAttributeNS(null,"width",n),d.setAttributeNS(null,"height",2*h),d.setAttributeNS(null,"class","vis-outline"),a=o.getSVGElement("path",r.svgElements,r.svg),a.setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i),1==t.options.shaded.enabled&&(l=o.getSVGElement("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?l.setAttributeNS(null,"d","M"+e+", "+(i-h)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-h)):l.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+h)+" L"+(e+n)+","+(i+h)+"L"+(e+n)+","+i),l.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&l.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var u={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};o.drawPoint(e+.5*n,i,u,r.svgElements,r.svg)}},n.drawShading=function(t,e,i,n){if(1==e.options.shaded.enabled){var s=Number(n.svg.style.height.replace("px","")),r=o.getSVGElement("path",n.svgElements,n.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var l,h=0;h="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),l="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+h+" H"+t[0][0]+" Z",r.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style),r.setAttributeNS(null,"d",l)}},n.draw=function(t,e,i){if(null!=t&&void 0!=t){var n=o.getSVGElement("path",i.svgElements,i.svg);n.setAttributeNS(null,"class",e.className),void 0!==e.style&&n.setAttributeNS(null,"style",e.style);var s="L";1==e.options.interpolation.enabled&&(s="C"),n.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1))}},n.serializePath=function(t,e,i){if(t.length<2)return"";var n,o=e;if(i)for(n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},n._catmullRomUniform=function(t){var e,i,n,o,s,r,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=t.length,h=0;h<l-1;h++)e=0==h?t[0]:t[h-1],i=t[h],n=t[h+1],o=h+2<l?t[h+2]:n,s={screen_x:(-e.screen_x+6*i.screen_x+n.screen_x)*(1/6),screen_y:(-e.screen_y+6*i.screen_y+n.screen_y)*(1/6)},r={screen_x:(i.screen_x+6*n.screen_x-o.screen_x)*(1/6),screen_y:(i.screen_y+6*n.screen_y-o.screen_y)*(1/6)},a.push([s.screen_x,s.screen_y]),a.push([r.screen_x,r.screen_y]),a.push([n.screen_x,n.screen_y]);return a},n._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var n,o,s,r,a,l,h,d,u,c,p,f,m,g,v,y,b,_,w,x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var S=t.length,C=0;C<S-1;C++)n=0==C?t[0]:t[C-1],o=t[C],s=t[C+1],r=C+2<S?t[C+2]:s,h=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),d=Math.sqrt(Math.pow(o.screen_x-s.screen_x,2)+Math.pow(o.screen_y-s.screen_y,2)),u=Math.sqrt(Math.pow(s.screen_x-r.screen_x,2)+Math.pow(s.screen_y-r.screen_y,2)),g=Math.pow(u,i),y=Math.pow(u,2*i),v=Math.pow(d,i),b=Math.pow(d,2*i),w=Math.pow(h,i),_=Math.pow(h,2*i),c=2*_+3*w*v+b,p=2*y+3*g*v+b,f=3*w*(w+v),f>0&&(f=1/f),m=3*g*(g+v),m>0&&(m=1/m),a={screen_x:(-b*n.screen_x+c*o.screen_x+_*s.screen_x)*f,screen_y:(-b*n.screen_y+c*o.screen_y+_*s.screen_y)*f},l={screen_x:(y*o.screen_x+p*s.screen_x-b*r.screen_x)*m,screen_y:(y*o.screen_y+p*s.screen_y-b*r.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=o),0==l.screen_x&&0==l.screen_y&&(l=s),x.push([a.screen_x,a.screen_y]),x.push([l.screen_x,l.screen_y]),x.push([s.screen_x,s.screen_y]);return x},n._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=n},function(t,e,i){function n(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=r.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var o=i(8),s=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(2),a=i(14),l=i(16);n.prototype=new l,n.prototype.clear=function(){this.groups={},this.amountOfGroups=0},n.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},n.prototype.updateGroup=function(t,e){this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];r.selectiveDeepExtend(e,this.options,t)},n.prototype.redraw=function(){var t=0,e=(0,s.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(i=0;i<e.length;i++)n=e[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},n.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,s.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),a.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,o=this.options.iconSize,r=.75*this.options.iconSize,l=i+.5*r+3;this.svg.style.width=o+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(o,r,this.framework,n,l),l+=r+this.options.iconSpacing)}}},t.exports=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",s="number",r="object",a={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:r,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:n,number:s},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:r},__type__:{boolean:o,object:r}},style:{string:["line","bar","points"]},barChart:{width:{number:s},minWidth:{number:s},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:r}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:s},__type__:{object:r,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:s},style:{string:["square","circle"]},__type__:{object:r,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:n,number:s},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:s,undefined:"undefined"},max:{number:s,undefined:"undefined"},__type__:{object:r}},format:{function:"function"},title:{text:{string:n,number:s,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},right:{range:{min:{number:s,undefined:"undefined"},max:{number:s,undefined:"undefined"},__type__:{object:r}},format:{function:"function"},title:{text:{string:n,number:s,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},__type__:{object:r}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:r}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:r}},__type__:{object:r,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:r}},autoResize:{boolean:o},throttleRedraw:{number:s},clickToUse:{boolean:o},end:{number:s,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:r}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},moment:{function:"function"},height:{string:n,number:s},hiddenDates:{start:{date:"date",number:s,string:n,moment:"moment"},end:{date:"date",number:s,string:n,moment:"moment"},repeat:{string:n},__type__:{object:r,array:"array"}},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:r}},max:{date:"date",number:s,string:n,moment:"moment"},maxHeight:{number:s,string:n},maxMinorChars:{number:s},min:{date:"date",number:s,string:n,moment:"moment"},minHeight:{number:s,string:n},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:n},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:s,string:n,moment:"moment"},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:s,undefined:"undefined"},__type__:{object:r}},width:{string:n,number:s},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:s},zoomMin:{number:s},zIndex:{number:s},__type__:{object:r}},l={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=a,e.configureOptions=l},function(t,e,i){function n(t){return A=t,f()}function o(){R=0,L=A.charAt(0)}function s(){R++,L=A.charAt(R)}function r(){return A.charAt(R+1)}function a(t){return j.test(t)}function l(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var n=e.split("."),o=t;n.length;){var s=n.shift();n.length?(o[s]||(o[s]={}),o=o[s]):o[s]=i}}function d(t,e){for(var i,n,o=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,n=r.nodes.length;i<n;i++)if(e.id===r.nodes[i].id){o=r.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=l(o.attr,t.node))),i=s.length-1;i>=0;i--){var a=s[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=l(o.attr,e.attr))}function u(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=l({},t.edge);e.attr=l(i,e.attr)}}function c(t,e,i,n,o){var s={from:e,to:i,type:n};return t.edge&&(s.attr=l({},t.edge)),s.attr=l(s.attr||{},o),s}
function p(){for(F=P.NULL,z="";" "===L||"\t"===L||"\n"===L||"\r"===L;)s();do{var t=!1;if("#"===L){for(var e=R-1;" "===A.charAt(e)||"\t"===A.charAt(e);)e--;if("\n"===A.charAt(e)||""===A.charAt(e)){for(;""!=L&&"\n"!=L;)s();t=!0}}if("/"===L&&"/"===r()){for(;""!=L&&"\n"!=L;)s();t=!0}if("/"===L&&"*"===r()){for(;""!=L;){if("*"===L&&"/"===r()){s(),s();break}s()}t=!0}for(;" "===L||"\t"===L||"\n"===L||"\r"===L;)s()}while(t);if(""===L)return void(F=P.DELIMITER);var i=L+r();if(N[i])return F=P.DELIMITER,z=i,s(),void s();if(N[L])return F=P.DELIMITER,z=L,void s();if(a(L)||"-"===L){for(z+=L,s();a(L);)z+=L,s();return"false"===z?z=!1:"true"===z?z=!0:isNaN(Number(z))||(z=Number(z)),void(F=P.IDENTIFIER)}if('"'===L){for(s();""!=L&&('"'!=L||'"'===L&&'"'===r());)'"'===L?(z+=L,s()):"\\"===L&&"n"===r()?(z+="\n",s()):z+=L,s();if('"'!=L)throw x('End of string " expected');return s(),void(F=P.IDENTIFIER)}for(F=P.UNKNOWN;""!=L;)z+=L,s();throw new SyntaxError('Syntax error in part "'+S(z,30)+'"')}function f(){var t={};if(o(),p(),"strict"===z&&(t.strict=!0,p()),"graph"!==z&&"digraph"!==z||(t.type=z,p()),F===P.IDENTIFIER&&(t.id=z,p()),"{"!=z)throw x("Angle bracket { expected");if(p(),m(t),"}"!=z)throw x("Angle bracket } expected");if(p(),""!==z)throw x("End of file expected");return p(),delete t.node,delete t.edge,delete t.graph,t}function m(t){for(;""!==z&&"}"!=z;)g(t),";"===z&&p()}function g(t){var e=v(t);if(e)return void _(t,e);if(!y(t)){if(F!=P.IDENTIFIER)throw x("Identifier expected");var i=z;if(p(),"="===z){if(p(),F!=P.IDENTIFIER)throw x("Identifier expected");t[i]=z,p()}else b(t,i)}}function v(t){var e=null;if("subgraph"===z&&(e={},e.type="subgraph",p(),F===P.IDENTIFIER&&(e.id=z,p())),"{"===z){if(p(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,m(e),"}"!=z)throw x("Angle bracket } expected");p(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function y(t){return"node"===z?(p(),t.node=w(),"node"):"edge"===z?(p(),t.edge=w(),"edge"):"graph"===z?(p(),t.graph=w(),"graph"):null}function b(t,e){var i={id:e},n=w();n&&(i.attr=n),d(t,i),_(t,e)}function _(t,e){for(;"->"===z||"--"===z;){var i,n=z;p();var o=v(t);if(o)i=o;else{if(F!=P.IDENTIFIER)throw x("Identifier or subgraph expected");i=z,d(t,{id:i}),p()}u(t,c(t,e,i,n,w())),e=i}}function w(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===z;){for(p(),t={};""!==z&&"]"!=z;){if(F!=P.IDENTIFIER)throw x("Attribute name expected");var i=z;if(p(),"="!=z)throw x("Equal sign = expected");if(p(),F!=P.IDENTIFIER)throw x("Attribute value expected");var n=z;"style"===i&&(n=e[n]),h(t,i,n),p(),","==z&&p()}if("]"!=z)throw x("Bracket ] expected");p()}return t}function x(t){return new SyntaxError(t+', got "'+S(z,30)+'" (char '+R+")")}function S(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function C(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function D(t,e,i){for(var n=e.split("."),o=n.pop(),s=t,r=0;r<n.length;r++){var a=n[r];a in s||(s[a]={}),s=s[a]}return s[o]=i,t}function T(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];Array.isArray(o)?o.forEach(function(e){D(i,e,t[n])}):"string"==typeof o?D(i,o,t[n]):D(i,n,t[n])}return i}function k(t){var e=n(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};l(e,T(t.attr,M)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var o=function(t){var e={from:t.from,to:t.to};return l(e,T(t.attr,I)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,n;e=t.from instanceof Object?t.from.nodes:{id:t.from},n=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=o(t);i.edges.push(e)}),C(e,n,function(e,n){var s=c(i,e.id,n.id,t.type,t.attr),r=o(s);i.edges.push(r)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=o(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}var O=i(29),E=function(t){return t&&t.__esModule?t:{default:t}}(O),M={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},I=(0,E.default)(M);I.color="color.color",I.style="dashes";var P={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},N={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},A="",R=0,L="",z="",F=P.NULL,j=/[a-zA-Z_0-9.:#]/;e.parseDOT=n,e.DOTToGraph=k},function(t,e,i){function n(t,e){var i=[],n=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var s=t.edges,r=t.nodes,a=0;a<s.length;a++){var l={},h=s[a];l.id=h.id,l.from=h.source,l.to=h.target,l.attributes=h.attributes,l.label=h.label,l.title=void 0!==h.attributes?h.attributes.title:void 0,"Directed"===h.type&&(l.arrows="to"),h.color&&!1===o.inheritColor&&(l.color=h.color),i.push(l)}for(var d=0;d<r.length;d++){var u={},c=r[d];u.id=c.id,u.attributes=c.attributes,u.x=c.x,u.y=c.y,u.label=c.label,u.title=void 0!==c.attributes?c.attributes.title:c.title,!0===o.nodes.parseColor?u.color=c.color:u.color=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,u.size=c.size,u.fixed=o.nodes.fixed&&void 0!==c.x&&void 0!==c.y,n.push(u)}return{nodes:n,edges:i}}e.parseGephi=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(185),h=n(l),d=function(){function t(e){(0,s.default)(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,a.default)(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){if(void 0!==t&&void 0!==i){if(void 0===e)return void console.warn("No broken url image defined");i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e}}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var o=new h.default;return this.images[t]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),s=n(o),r=i(6),a=n(r),l=i(0),h=n(l),d=i(1),u=n(d),c=i(2),p=i(48).default,f=i(191).default,m=["bold","ital","boldital","mono"],g=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,h.default)(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return(0,u.default)(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),p.isValidLabel(t.label)?this.labelDirty=!0:t.label="",void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,a.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;if(c.forEach(m,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e))return void(this.fontOptions.vadjust=0);c.forEach(e,function(t,e){void 0!==t&&null!==t&&"object"!==(void 0===t?"undefined":(0,a.default)(t))&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=c.topMost(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===(void 0===i?"undefined":(0,a.default)(i))){var n=c.topMost(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var o=c.topMost(t,["widthConstraint","minimum"]);"number"==typeof o&&(e.minWdt=Number(o))}var s=c.topMost(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===(void 0===s?"undefined":(0,a.default)(s))){var r=c.topMost(t,["heightConstraint","minimum"]);"number"==typeof r&&(e.minHgt=Number(r));var l=c.topMost(t,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(e.valign=l))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),c.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=p.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var o=e[n],s={};t.parseFontString(s,o)&&(o=s),c.forEach(o,function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(-1!==m.indexOf(e)?i[e]={}:i[e]=t))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var o=void 0,s=0;s<e.length;++s){var r=e[s];if(r.hasOwnProperty(i)){if(void 0===(o=r[i])||null===o)continue;var a={};if(t.parseFontString(a,o)&&(o=a),o.hasOwnProperty(n))return o[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var s=n[o];i[s]=this.getFontOption(t,e,s)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=0;n<m.length;++n)!function(t){var n=m[t],o=e.fontOptions[n],s=e.getFontOptions(i,n);c.forEach(s,function(t,e){o[e]=t}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}(n)}},{key:"draw",value:function(t,e,i,n,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var r=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&r<this.elementOptions.scaling.label.drawThreshold-1||(r>=this.elementOptions.scaling.label.maxVisible&&(r=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,o,e,i,s),this._drawBackground(t),this._drawText(t,e,this.size.yLine,s,r))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments[4],r=this._setAlignment(t,e,i,n),a=(0,s.default)(r,2);e=a[0],i=a[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var l=0;l<this.lineCount;l++){var h=this.lines[l];if(h&&h.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-h.width);for(var u=0;u<h.blocks.length;u++){var c=h.blocks[u];t.font=c.font;var p=this._getColor(c.color,o,c.strokeColor),f=(0,s.default)(p,2),m=f[0],g=f[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=g,t.lineJoin="round"),t.fillStyle=m,c.strokeWidth>0&&t.strokeText(c.text,e+d,i+c.vadjust),t.fillText(c.text,e+d,i+c.vadjust),d+=c.width}i+=h.height}}}},{key:"_setAlignment",value:function(t,e,i,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"}else t.textBaseline=n;return[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=c.overrideOpacity(n,s),o=c.overrideOpacity(o,s)}return[n,o]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,e,i));var r="";return void 0!==s.mod&&""!==s.mod&&(r+=s.mod+" "),r+=s.size+"px "+s.face,t.font=r.replace(/"/g,""),s.font=t.font,s.height=s.size,s}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new f(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}();e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(2),u=i(119).default,c=function(){function t(e,i,n){(0,a.default)(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,h.default)(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,i,n,o){if(this.from!=this.to)this._line(t,e,i,n,o);else{var r=this._getCircleData(t),a=(0,s.default)(r,3),l=a[0],h=a[1],d=a[2];this._circle(t,e,l,h,d)}}},{key:"_drawDashedLine",value:function(t,e,i,n,o){t.lineCap="round";var r=[5,5];if(!0===Array.isArray(e.dashes)&&(r=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var a=this._getCircleData(t),l=(0,s.default)(a,3),h=l[0],d=l[1],u=l[2];this._circle(t,e,h,d,u)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,r);else{var c=this._getCircleData(t),p=(0,s.default)(c,3),f=p[0],m=p[1],g=p[2];this._circle(t,e,f,m,g)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var n=this._getCircleData(t).slice(0,2),o=(0,s.default)(n,2),r=o[0],a=o[1];e=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,n=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-o):(e=n.x+o,i=n.y-.5*n.shape.height),[e,i,o]}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var n=i.x,o=i.y,s=i.low,r=i.high,a=i.direction,l=0,h=this.options.selfReferenceSize,d=void 0,u=void 0,c=void 0,p=void 0,f=void 0,m=.5*(s+r);s<=r&&l<10&&(m=.5*(s+r),d=this._pointOnCircle(n,o,h,m),u=Math.atan2(t.y-d.y,t.x-d.x),c=t.distanceToBorder(e,u),p=Math.sqrt(Math.pow(d.x-t.x,2)+Math.pow(d.y-t.y,2)),f=c-p,!(Math.abs(f)<.05));)f>0?a>0?s=m:r=m:a>0?r=m:s=m,l++;return d.t=m,d}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,n){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=void 0,r=void 0;return s=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(s=d.overrideOpacity(this.from.options.color.border,e.opacity),r=d.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(s=this.from.options.color.border),o.addColorStop(0,s),o.addColorStop(1,r),o}return"to"===e.inheritsColor?d.overrideOpacity(this.to.options.color.border,e.opacity):d.overrideOpacity(this.from.options.color.border,e.opacity)}return d.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,o){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,o,r,a,l){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,i,n,o,r,a);else{var d=this._getCircleData(void 0),u=(0,s.default)(d,3),c=u[0],p=u[1],f=u[2],m=c-o,g=p-r;h=Math.abs(Math.sqrt(m*m+g*g)-f)}return h}},{key:"_getDistanceToLine",value:function(t,e,i,n,o,s){var r=i-t,a=n-e,l=r*r+a*a,h=((o-t)*r+(s-e)*a)/l;h>1?h=1:h<0&&(h=0);var d=t+h*r,u=e+h*a,c=d-o,p=u-s;return Math.sqrt(c*c+p*p)}},{key:"getArrowData",value:function(t,e,i,n,o,r){var a=void 0,l=void 0,h=void 0,d=void 0,u=void 0,c=void 0,p=void 0,f=r.width;if("from"===e?(h=this.from,d=this.to,u=.1,c=r.fromArrowScale,p=r.fromArrowType):"to"===e?(h=this.to,d=this.from,u=-.1,c=r.toArrowScale,p=r.toArrowType):(h=this.to,d=this.from,c=r.middleArrowScale,p=r.middleArrowType),h!=d)if("middle"!==e)if(!0===this.options.smooth.enabled){l=this.findBorderPosition(h,t,{via:i});var m=this.getPoint(Math.max(0,Math.min(1,l.t+u)),i);a=Math.atan2(l.y-m.y,l.x-m.x)}else a=Math.atan2(h.y-d.y,h.x-d.x),l=this.findBorderPosition(h,t);else a=Math.atan2(h.y-d.y,h.x-d.x),l=this.getPoint(.5,i);else{var g=this._getCircleData(t),v=(0,s.default)(g,3),y=v[0],b=v[1],_=v[2];"from"===e?(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1}),a=-2*l.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1}),a=-2*l.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(l=this._pointOnCircle(y,b,_,.175),a=3.9269908169872414)}"middle"===e&&c<0&&(f*=-1);var w=15*c+3*f;return{point:l,core:{x:l.x-.9*w*Math.cos(a),y:l.y-.9*w*Math.sin(a)},angle:a,length:w,type:p}}},{key:"drawArrowHead",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,u.draw(t,o),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=c},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(4),a=n(r),l=i(5),h=n(l),d=i(0),u=n(d),c=i(1),p=n(c),f=function(){function t(){(0,u.default)(this,t)}return(0,p.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var i=e.point.x,n=e.point.y,o=e.angle,s=e.length,r=0;r<t.length;++r){var a=t[r],l=a.x*Math.cos(o)-a.y*Math.sin(o),h=a.x*Math.sin(o)+a.y*Math.cos(o);a.x=i+s*l,a.y=n+s*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),m=function(t){function e(){return(0,u.default)(this,e),(0,a.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,p.default)(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];f.transform(i,e),f.drawPath(t,i)}}]),e}(f),g=function(){function t(){(0,u.default)(this,t)}return(0,p.default)(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};f.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),v=function(){function t(){(0,u.default)(this,t)}return(0,p.default)(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];f.transform(i,e),f.drawPath(t,i)}}]),t}(),y=function(){function t(){(0,u.default)(this,t)}return(0,p.default)(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":g.draw(t,e);break;case"bar":v.draw(t,e);break;case"arrow":default:m.draw(t,e)}}}]),t}();e.default=y},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return(0,a.default)(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(var s=0;s<n;s++)t=e[i[s]],t.options.mass>0&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=void 0,n=void 0,o=void 0;i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+n*n),o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t)}}},{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),r=e*s,a=i*s;this.physicsBody.forces[n.id].x+=r,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,n=e.length,o=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var h=t[e[l]],d=h.x,u=h.y;h.options.mass>0&&(d<o&&(o=d),d>r&&(r=d),u<s&&(s=u),u>a&&(a=u))}var c=Math.abs(r-o)-Math.abs(a-s);c>0?(s-=.5*c,a+=.5*c):(o+=.5*c,r-=.5*c);var p=Math.max(1e-5,Math.abs(r-o)),f=.5*p,m=.5*(o+r),g=.5*(s+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:g-f,maxY:g+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<n;y++)i=t[e[y]],i.options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,o=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=n;var s=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n=t.children.NW.range,o=void 0;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,n=void 0,o=void 0,s=void 0,r=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+r,o=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,n=t.range.maxX,o=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,n=t.range.minX+r,o=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,n=t.range.maxX,o=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,a.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,n=void 0,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=0;a<s.length;a++){n=o[s[a]],t=-n.x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,r,n)}}},{key:"_calculateForces",value:function(t,e,i,n,o){var s=0===t?0:this.options.centralGravity/t;n[o.id].x=e*s,n[o.id].y=i*s}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",s="number",r="object",a=["arrow","circle","bar"],l={configure:{enabled:{boolean:o},filter:{boolean:o,string:n,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:r,boolean:o,string:n,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:s},type:{string:a},__type__:{object:r,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:s},type:{string:a},__type__:{object:r,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:s},type:{string:a},__type__:{object:r,boolean:o}},__type__:{string:["from","to","middle"],object:r}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:r,boolean:o}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],boolean:o},opacity:{number:s},__type__:{object:r,string:n}},dashes:{boolean:o,array:"array"},font:{color:{string:n},size:{number:s},face:{string:n},background:{string:n},strokeWidth:{number:s},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:s},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},boldital:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},ital:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},mono:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},__type__:{object:r,string:n}},hidden:{boolean:o},hoverWidth:{function:"function",number:s},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:s,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:s},max:{number:s},label:{enabled:{boolean:o},min:{number:s},max:{number:s},maxVisible:{number:s},drawThreshold:{number:s},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},selectionWidth:{function:"function",
number:s},selfReferenceSize:{number:s},shadow:{enabled:{boolean:o},color:{string:n},size:{number:s},x:{number:s},y:{number:s},__type__:{object:r,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:s},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:r,boolean:o}},title:{string:n,undefined:"undefined"},width:{number:s},widthConstraint:{maximum:{number:s},__type__:{object:r,boolean:o,number:s}},value:{number:s,undefined:"undefined"},__type__:{object:r}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:r}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:s},y:{number:s},zoom:{number:s},__type__:{object:r}},bindToWindow:{boolean:o},__type__:{object:r,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:s},zoomView:{boolean:o},__type__:{object:r}},layout:{randomSeed:{undefined:"undefined",number:s},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:s},nodeSpacing:{number:s},treeSpacing:{number:s},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:r,boolean:o}},__type__:{object:r}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:r,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:r,boolean:o}},nodes:{borderWidth:{number:s},borderWidthSelected:{number:s,undefined:"undefined"},brokenImage:{string:n,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:r,boolean:o}},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:r,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:r,string:n}},__type__:{object:r,string:n}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:r,boolean:o}},font:{align:{string:n},color:{string:n},size:{number:s},face:{string:n},background:{string:n},strokeWidth:{number:s},strokeColor:{string:n},vadjust:{number:s},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},boldital:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},ital:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},mono:{color:{string:n},size:{number:s},face:{string:n},mod:{string:n},vadjust:{number:s},__type__:{object:r,string:n}},__type__:{object:r,string:n}},group:{string:n,number:s,undefined:"undefined"},heightConstraint:{minimum:{number:s},valign:{string:n},__type__:{object:r,boolean:o,number:s}},hidden:{boolean:o},icon:{face:{string:n},code:{string:n},size:{number:s},color:{string:n},__type__:{object:r}},id:{string:n,number:s},image:{selected:{string:n,undefined:"undefined"},unselected:{string:n,undefined:"undefined"},__type__:{object:r,string:n}},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:s,undefined:"undefined"},margin:{top:{number:s},right:{number:s},bottom:{number:s},left:{number:s},__type__:{object:r,number:s}},mass:{number:s},physics:{boolean:o},scaling:{min:{number:s},max:{number:s},label:{enabled:{boolean:o},min:{number:s},max:{number:s},maxVisible:{number:s},drawThreshold:{number:s},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},shadow:{enabled:{boolean:o},color:{string:n},size:{number:s},x:{number:s},y:{number:s},__type__:{object:r,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:s},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:r}},size:{number:s},title:{string:n,dom:"dom",undefined:"undefined"},value:{number:s,undefined:"undefined"},widthConstraint:{minimum:{number:s},maximum:{number:s},__type__:{object:r,boolean:o,number:s}},x:{number:s},y:{number:s},__type__:{object:r}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:s},centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},damping:{number:s},avoidOverlap:{number:s},__type__:{object:r}},forceAtlas2Based:{gravitationalConstant:{number:s},centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},damping:{number:s},avoidOverlap:{number:s},__type__:{object:r}},repulsion:{centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},nodeDistance:{number:s},damping:{number:s},__type__:{object:r}},hierarchicalRepulsion:{centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},nodeDistance:{number:s},damping:{number:s},__type__:{object:r}},maxVelocity:{number:s},minVelocity:{number:s},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:s},updateInterval:{number:s},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:r,boolean:o}},timestep:{number:s},adaptiveTimestep:{boolean:o},__type__:{object:r,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:r}},height:{string:n},width:{string:n},__type__:{object:r}};l.groups.__any__=l.nodes,l.manipulation.controlNodeStyle=l.nodes;var h={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};e.allOptions=l,e.configureOptions=h},function(t,e,i){var n=i(2);n.extend(e,i(159)),n.extend(e,i(177)),n.extend(e,i(181))},function(t,e,i){i(49),i(60),t.exports=i(136)},function(t,e,i){var n=i(126),o=i(127),s=i(31),r=i(25);t.exports=i(79)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,i):"values"==e?o(0,t[i]):o(0,[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(54),o=i(39),s=i(59),r={};i(26)(r,i(13)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(r,{next:o(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var n=i(20),o=i(27),s=i(33);t.exports=i(21)?Object.defineProperties:function(t,e){o(t);for(var i,r=s(e),a=r.length,l=0;a>l;)n.f(t,i=r[l++],e[i]);return t}},function(t,e,i){var n=i(25),o=i(132),s=i(133);t.exports=function(t){return function(e,i,r){var a,l=n(e),h=o(l.length),d=s(r,h);if(t&&i!=i){for(;h>d;)if((a=l[d++])!=a)return!0}else for(;h>d;d++)if((t||d in l)&&l[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var n=i(55),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(55),o=Math.max,s=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):s(t,e)}},function(t,e,i){var n=i(18).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(55),o=i(51);t.exports=function(t){return function(e,i){var s,r,a=String(o(e)),l=n(i),h=a.length;return l<0||l>=h?t?"":void 0:(s=a.charCodeAt(l),s<55296||s>56319||l+1===h||(r=a.charCodeAt(l+1))<56320||r>57343?t?a.charAt(l):s:t?a.slice(l,l+2):r-56320+(s-55296<<10)+65536)}}},function(t,e,i){var n=i(27),o=i(137);t.exports=i(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){var n=i(86),o=i(13)("iterator"),s=i(31);t.exports=i(7).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||s[n(t)]}},function(t,e,i){i(139);var n=i(7).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(17);n(n.S,"Object",{create:i(54)})},function(t,e,i){i(141),t.exports=i(7).Object.keys},function(t,e,i){var n=i(41),o=i(33);i(87)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60),i(49),t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146),i(151),i(152),i(153),t.exports=i(7).Symbol},function(t,e,i){var n=i(18),o=i(22),s=i(21),r=i(17),a=i(83),l=i(147).KEY,h=i(28),d=i(57),u=i(59),c=i(40),p=i(13),f=i(61),m=i(62),g=i(148),v=i(149),y=i(27),b=i(25),_=i(53),w=i(39),x=i(54),S=i(150),C=i(89),D=i(20),T=i(33),k=C.f,O=D.f,E=S.f,M=n.Symbol,I=n.JSON,P=I&&I.stringify,N=p("_hidden"),A=p("toPrimitive"),R={}.propertyIsEnumerable,L=d("symbol-registry"),z=d("symbols"),F=d("op-symbols"),j=Object.prototype,B="function"==typeof M,H=n.QObject,W=!H||!H.prototype||!H.prototype.findChild,$=s&&h(function(){return 7!=x(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=k(j,e);n&&delete j[e],O(t,e,i),n&&t!==j&&O(j,e,n)}:O,Y=function(t){var e=z[t]=x(M.prototype);return e._k=t,e},G=B&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},V=function(t,e,i){return t===j&&V(F,e,i),y(t),e=_(e,!0),y(i),o(z,e)?(i.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),i=x(i,{enumerable:w(0,!1)})):(o(t,N)||O(t,N,w(1,{})),t[N][e]=!0),$(t,e,i)):O(t,e,i)},q=function(t,e){y(t);for(var i,n=g(e=b(e)),o=0,s=n.length;s>o;)V(t,i=n[o++],e[i]);return t},U=function(t,e){return void 0===e?x(t):q(x(t),e)},X=function(t){var e=R.call(this,t=_(t,!0));return!(this===j&&o(z,t)&&!o(F,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,N)&&this[N][t])||e)},K=function(t,e){if(t=b(t),e=_(e,!0),t!==j||!o(z,e)||o(F,e)){var i=k(t,e);return!i||!o(z,e)||o(t,N)&&t[N][e]||(i.enumerable=!0),i}},Z=function(t){for(var e,i=E(b(t)),n=[],s=0;i.length>s;)o(z,e=i[s++])||e==N||e==l||n.push(e);return n},J=function(t){for(var e,i=t===j,n=E(i?F:b(t)),s=[],r=0;n.length>r;)!o(z,e=n[r++])||i&&!o(j,e)||s.push(z[e]);return s};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(i){this===j&&e.call(F,i),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),$(this,t,w(1,i))};return s&&W&&$(j,t,{configurable:!0,set:e}),Y(t)},a(M.prototype,"toString",function(){return this._k}),C.f=K,D.f=V,i(88).f=S.f=Z,i(42).f=X,i(63).f=J,s&&!i(52)&&a(j,"propertyIsEnumerable",X,!0),f.f=function(t){return Y(p(t))}),r(r.G+r.W+r.F*!B,{Symbol:M});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=T(p.store),it=0;et.length>it;)m(et[it++]);r(r.S+r.F*!B,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=M(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),r(r.S+r.F*!B,"Object",{create:U,defineProperty:V,defineProperties:q,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),I&&r(r.S+r.F*(!B||h(function(){var t=M();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);return e=n[1],"function"==typeof e&&(i=e),!i&&v(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!G(e))return e}),n[1]=e,P.apply(I,n)}}}),M.prototype[A]||i(26)(M.prototype,A,M.prototype.valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},function(t,e,i){var n=i(40)("meta"),o=i(32),s=i(22),r=i(20).f,a=0,l=Object.isExtensible||function(){return!0},h=!i(28)(function(){return l(Object.preventExtensions({}))}),d=function(t){r(t,n,{value:{i:"O"+ ++a,w:{}}})},u=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[n].i},c=function(t,e){if(!s(t,n)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[n].w},p=function(t){return h&&f.NEED&&l(t)&&!s(t,n)&&d(t),t},f=t.exports={KEY:n,NEED:!1,fastKey:u,getWeak:c,onFreeze:p}},function(t,e,i){var n=i(33),o=i(63),s=i(42);t.exports=function(t){var e=n(t),i=o.f;if(i)for(var r,a=i(t),l=s.f,h=0;a.length>h;)l.call(t,r=a[h++])&&e.push(r);return e}},function(t,e,i){var n=i(50);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(25),o=i(88).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(t){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?a(t):o(n(t))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){!function(e,i){t.exports=i()}(0,function(){"use strict";function e(){return kn.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function s(t){return void 0===t}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var i in e)h(e,i)&&(t[i]=e[i]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,i,n){return Ce(t,e,i,n,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(t){return null==t._pf&&(t._pf=c()),t._pf}function f(t){if(null==t._isValid){var e=p(t),i=On.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function m(t){var e=u(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}function g(t,e){var i,n,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),En.length>0)for(i=0;i<En.length;i++)n=En[i],o=e[n],s(o)||(t[n]=o);return t}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mn&&(Mn=!0,e.updateOffset(this),Mn=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=b(e)),i}function w(t,e,i){var n,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&_(t[n])!==_(e[n]))&&r++;return r+s}function x(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,i){var n=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}x(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function C(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),In[t]||(x(i),In[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,i;for(i in t)e=t[i],D(e)?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(t,e){var i,o=d({},t);for(i in e)h(e,i)&&(n(t[i])&&n(e[i])?(o[i]={},d(o[i],t[i]),d(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);for(i in t)h(t,i)&&!h(e,i)&&n(t[i])&&(o[i]=d({},o[i]));return o}function O(t){null!=t&&this.set(t)}function E(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n}function M(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function I(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function N(t,e,i,n){var o=this._relativeTime[i];return D(o)?o(t,e,i,n):o.replace(/%d/i,t)}function A(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)}function R(t,e){var i=t.toLowerCase();zn[i]=zn[i+"s"]=zn[e]=t}function L(t){return"string"==typeof t?zn[t]||zn[t.toLowerCase()]:void 0}function z(t){var e,i,n={};for(i in t)h(t,i)&&(e=L(i))&&(n[e]=t[i]);return n}function F(t,e){Fn[t]=e}function j(t){var e=[];for(var i in t)e.push({unit:i,priority:Fn[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function B(t,e,i){var n=""+Math.abs(t),o=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function H(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Wn[t]=o),e&&(Wn[e[0]]=function(){return B(o.apply(this,arguments),e[1],e[2])}),i&&(Wn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,i,n=t.match(jn);for(e=0,i=n.length;e<i;e++)Wn[n[e]]?n[e]=Wn[n[e]]:n[e]=W(n[e]);return function(e){var o,s="";for(o=0;o<i;o++)s+=D(n[o])?n[o].call(e,t):n[o];return s}}function Y(t,e){return t.isValid()?(e=G(e,t.localeData()),Hn[e]=Hn[e]||$(e),Hn[e](t)):t.localeData().invalidDate()}function G(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Bn.lastIndex=0;n>=0&&Bn.test(t);)t=t.replace(Bn,i),Bn.lastIndex=0,n-=1;return t}function V(t,e,i){ro[t]=D(e)?e:function(t,n){return t&&i?i:e}}function q(t,e){return h(ro,t)?ro[t](e._strict,e._locale):new RegExp(U(t))}function U(t){return X(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),r(e)&&(n=function(t,i){i[e]=_(t)}),i=0;i<t.length;i++)ao[t[i]]=n}function Z(t,e){K(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function J(t,e,i){null!=e&&h(ao,t)&&ao[t](e,i._a,i,t)}function Q(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function it(t,i){return function(n){return null!=n?(ot(this,t,n),e.updateOffset(this,i),this):nt(this,t)}}function nt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ot(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&tt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),lt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function st(t){return t=L(t),D(this[t])?this[t]():this}function rt(t,e){if("object"==typeof t){t=z(t);for(var i=j(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=L(t),D(this[t]))return this[t](e);return this}function at(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=at(e,12);return t+=(e-i)/12,1===i?tt(t)?29:28:31-i%7%2}function ht(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||_o).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function dt(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[_o.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(t,e,i){var n,o,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(o=yo.call(this._shortMonthsParse,r),-1!==o?o:null):(o=yo.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===e?-1!==(o=yo.call(this._shortMonthsParse,r))?o:(o=yo.call(this._longMonthsParse,r),-1!==o?o:null):-1!==(o=yo.call(this._longMonthsParse,r))?o:(o=yo.call(this._shortMonthsParse,r),-1!==o?o:null)}function ct(t,e,i){var n,o,s;if(this._monthsParseExact)return ut.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function pt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),!r(e))return t;return i=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ft(t){return null!=t?(pt(this,t),e.updateOffset(this,!0),this):nt(this,"Month")}function mt(){return lt(this.year(),this.month())}function gt(t){return this._monthsParseExact?(h(this,"_monthsRegex")||yt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=So),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(h(this,"_monthsRegex")||yt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Co),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],s=[];for(e=0;e<12;e++)i=u([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),s.sort(t),e=0;e<12;e++)n[e]=X(n[e]),o[e]=X(o[e]);for(e=0;e<24;e++)s[e]=X(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function bt(t,e,i,n,o,s,r){var a=new Date(t,e,i,n,o,s,r);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function _t(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,i){var n=7+e-i;return-(7+_t(t,0,n).getUTCDay()-e)%7+n-1}function xt(t,e,i,n,o){var s,r,a=(7+i-n)%7,l=wt(t,n,o),h=1+7*(e-1)+a+l;return h<=0?(s=t-1,r=Q(s)+h):h>Q(t)?(s=t+1,r=h-Q(t)):(s=t,r=h),{year:s,dayOfYear:r}}function St(t,e,i){var n,o,s=wt(t.year(),e,i),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return r<1?(o=t.year()-1,n=r+Ct(o,e,i)):r>Ct(t.year(),e,i)?(n=r-Ct(t.year(),e,i),o=t.year()+1):(o=t.year(),n=r),{week:n,year:o}}function Ct(t,e,i){var n=wt(t,e,i),o=wt(t+1,e,i);return(Q(t)-n+o)/7}function Dt(t){return St(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function kt(){return this._week.doy}function Ot(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Et(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Mt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function It(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function Nt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function At(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Rt(t,e,i){var n,o,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(o=yo.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===e?(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===e?-1!==(o=yo.call(this._weekdaysParse,r))?o:-1!==(o=yo.call(this._shortWeekdaysParse,r))?o:(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):"ddd"===e?-1!==(o=yo.call(this._shortWeekdaysParse,r))?o:-1!==(o=yo.call(this._weekdaysParse,r))?o:(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):-1!==(o=yo.call(this._minWeekdaysParse,r))?o:-1!==(o=yo.call(this._weekdaysParse,r))?o:(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:null)}function Lt(t,e,i){var n,o,s;if(this._weekdaysParseExact)return Rt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=u([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function zt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Mt(t,this.localeData()),this.add(t-e,"d")):e}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function jt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=It(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Bt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Eo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||$t.call(this),
t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mo),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Io),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function t(t,e){return e.length-t.length}var e,i,n,o,s,r=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=u([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),a.push(o),l.push(s),h.push(n),h.push(o),h.push(s);for(r.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=X(a[e]),l[e]=X(l[e]),h[e]=X(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Yt(){return this.hours()%12||12}function Gt(){return this.hours()||24}function Vt(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function qt(t,e){return e._meridiemParse}function Ut(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Zt(t){for(var e,i,n,o,s=0;s<t.length;){for(o=Kt(t[s]).split("-"),e=o.length,i=Kt(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=Jt(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&w(o,i,!0)>=e-1)break;e--}s++}return null}function Jt(e){var i=null;if(!Lo[e]&&void 0!==t&&t&&t.exports)try{i=Po._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Qt(i)}catch(t){}return Lo[e]}function Qt(t,e){var i;return t&&(i=s(e)?ie(t):te(t,e))&&(Po=i),Po._abbr}function te(t,e){if(null!==e){var i=Ro;if(e.abbr=t,null!=Lo[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Lo[t]._config;else if(null!=e.parentLocale){if(null==Lo[e.parentLocale])return zo[e.parentLocale]||(zo[e.parentLocale]=[]),zo[e.parentLocale].push({name:t,config:e}),null;i=Lo[e.parentLocale]._config}return Lo[t]=new O(k(i,e)),zo[t]&&zo[t].forEach(function(t){te(t.name,t.config)}),Qt(t),Lo[t]}return delete Lo[t],null}function ee(t,e){if(null!=e){var i,n=Ro;null!=Lo[t]&&(n=Lo[t]._config),e=k(n,e),i=new O(e),i.parentLocale=Lo[t],Lo[t]=i,Qt(t)}else null!=Lo[t]&&(null!=Lo[t].parentLocale?Lo[t]=Lo[t].parentLocale:null!=Lo[t]&&delete Lo[t]);return Lo[t]}function ie(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Po;if(!i(t)){if(e=Jt(t))return e;t=[t]}return Zt(t)}function ne(){return Pn(Lo)}function oe(t){var e,i=t._a;return i&&-2===p(t).overflow&&(e=i[ho]<0||i[ho]>11?ho:i[uo]<1||i[uo]>lt(i[lo],i[ho])?uo:i[co]<0||i[co]>24||24===i[co]&&(0!==i[po]||0!==i[fo]||0!==i[mo])?co:i[po]<0||i[po]>59?po:i[fo]<0||i[fo]>59?fo:i[mo]<0||i[mo]>999?mo:-1,p(t)._overflowDayOfYear&&(e<lo||e>uo)&&(e=uo),p(t)._overflowWeeks&&-1===e&&(e=go),p(t)._overflowWeekday&&-1===e&&(e=vo),p(t).overflow=e),t}function se(t,e,i){return null!=t?t:null!=e?e:i}function re(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ae(t){var e,i,n,o,s=[];if(!t._d){for(n=re(t),t._w&&null==t._a[uo]&&null==t._a[ho]&&le(t),null!=t._dayOfYear&&(o=se(t._a[lo],n[lo]),(t._dayOfYear>Q(o)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),i=_t(o,0,t._dayOfYear),t._a[ho]=i.getUTCMonth(),t._a[uo]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[co]&&0===t._a[po]&&0===t._a[fo]&&0===t._a[mo]&&(t._nextDay=!0,t._a[co]=0),t._d=(t._useUTC?_t:bt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[co]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(p(t).weekdayMismatch=!0)}}function le(t){var e,i,n,o,s,r,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)s=1,r=4,i=se(e.GG,t._a[lo],St(De(),1,4).year),n=se(e.W,1),((o=se(e.E,1))<1||o>7)&&(l=!0);else{s=t._locale._week.dow,r=t._locale._week.doy;var h=St(De(),s,r);i=se(e.gg,t._a[lo],h.year),n=se(e.w,h.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+s,(e.e<0||e.e>6)&&(l=!0)):o=s}n<1||n>Ct(i,s,r)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(a=xt(i,n,o,s,r),t._a[lo]=a.year,t._dayOfYear=a.dayOfYear)}function he(t){var e,i,n,o,s,r,a=t._i,l=Fo.exec(a)||jo.exec(a);if(l){for(p(t).iso=!0,e=0,i=Ho.length;e<i;e++)if(Ho[e][1].exec(l[1])){o=Ho[e][0],n=!1!==Ho[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=Wo.length;e<i;e++)if(Wo[e][1].exec(l[3])){s=(l[2]||" ")+Wo[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Bo.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=o+(s||"")+(r||""),ve(t)}else t._isValid=!1}function de(t,e,i,n,o,s){var r=[ue(t),xo.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return s&&r.push(parseInt(s,10)),r}function ue(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ce(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function pe(t,e,i){if(t){if(ko.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return p(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function fe(t,e,i){if(t)return Go[t];if(e)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}function me(t){var e=Yo.exec(ce(t._i));if(e){var i=de(e[4],e[3],e[2],e[5],e[6],e[7]);if(!pe(e[1],i,t))return;t._a=i,t._tzm=fe(e[8],e[9],e[10]),t._d=_t.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function ge(t){var i=$o.exec(t._i);if(null!==i)return void(t._d=new Date(+i[1]));he(t),!1===t._isValid&&(delete t._isValid,me(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function ve(t){if(t._f===e.ISO_8601)return void he(t);if(t._f===e.RFC_2822)return void me(t);t._a=[],p(t).empty=!0;var i,n,o,s,r,a=""+t._i,l=a.length,h=0;for(o=G(t._f,t._locale).match(jn)||[],i=0;i<o.length;i++)s=o[i],n=(a.match(q(s,t))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&p(t).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),h+=n.length),Wn[s]?(n?p(t).empty=!1:p(t).unusedTokens.push(s),J(s,n,t)):t._strict&&!n&&p(t).unusedTokens.push(s);p(t).charsLeftOver=l-h,a.length>0&&p(t).unusedInput.push(a),t._a[co]<=12&&!0===p(t).bigHour&&t._a[co]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[co]=ye(t._locale,t._a[co],t._meridiem),ae(t),oe(t)}function ye(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function be(t){var e,i,n,o,s;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ve(e),f(e)&&(s+=p(e).charsLeftOver,s+=10*p(e).unusedTokens.length,p(e).score=s,(null==n||s<n)&&(n=s,i=e));d(t,i||e)}function _e(t){if(!t._d){var e=z(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function we(t){var e=new v(oe(xe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function xe(t){var e=t._i,n=t._f;return t._locale=t._locale||ie(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(oe(e)):(a(e)?t._d=e:i(n)?be(t):n?ve(t):Se(t),f(t)||(t._d=null),t))}function Se(t){var o=t._i;s(o)?t._d=new Date(e.now()):a(o)?t._d=new Date(o.valueOf()):"string"==typeof o?ge(t):i(o)?(t._a=l(o.slice(0),function(t){return parseInt(t,10)}),ae(t)):n(o)?_e(t):r(o)?t._d=new Date(o):e.createFromInputFallback(t)}function Ce(t,e,s,r,a){var l={};return!0!==s&&!1!==s||(r=s,s=void 0),(n(t)&&o(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=s,l._i=t,l._f=e,l._strict=r,we(l)}function De(t,e,i,n){return Ce(t,e,i,n,!1)}function Te(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}function ke(){return Te("isBefore",[].slice.call(arguments,0))}function Oe(){return Te("isAfter",[].slice.call(arguments,0))}function Ee(t){for(var e in t)if(-1===yo.call(Xo,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Xo.length;++n)if(t[Xo[n]]){if(i)return!1;parseFloat(t[Xo[n]])!==_(t[Xo[n]])&&(i=!0)}return!0}function Me(){return this._isValid}function Ie(){return Ke(NaN)}function Pe(t){var e=z(t),i=e.year||0,n=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=Ee(e),this._milliseconds=+d+1e3*h+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=ie(),this._bubble()}function Ne(t){return t instanceof Pe}function Ae(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,e){H(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+B(~~(t/60),2)+e+B(~~t%60,2)})}function Le(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(Ko)||["-",0,0],s=60*o[1]+_(o[2]);return 0===s?0:"+"===o[0]?s:-s}function ze(t,i){var n,o;return i._isUTC?(n=i.clone(),o=(y(t)||a(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),e.updateOffset(n,!1),n):De(t).local()}function Fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function je(t,i,n){var o,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Le(no,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&i&&(o=Fe(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==t&&(!i||this._changeInProgress?ei(this,Ke(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Fe(this)}function Be(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function He(t){return this.utcOffset(0,t)}function We(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this}function $e(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(io,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ye(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ve(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=xe(t),t._a){var e=t._isUTC?u(t._a):De(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qe(){return!!this.isValid()&&!this._isUTC}function Ue(){return!!this.isValid()&&this._isUTC}function Xe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ke(t,e){var i,n,o,s=t,a=null;return Ne(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(s={},e?s[e]=t:s.milliseconds=t):(a=Zo.exec(t))?(i="-"===a[1]?-1:1,s={y:0,d:_(a[uo])*i,h:_(a[co])*i,m:_(a[po])*i,s:_(a[fo])*i,ms:_(Ae(1e3*a[mo]))*i}):(a=Jo.exec(t))?(i="-"===a[1]?-1:(a[1],1),s={y:Ze(a[2],i),M:Ze(a[3],i),w:Ze(a[4],i),d:Ze(a[5],i),h:Ze(a[6],i),m:Ze(a[7],i),s:Ze(a[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Qe(De(s.from),De(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),n=new Pe(s),Ne(t)&&h(t,"_locale")&&(n._locale=t._locale),n}function Ze(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Je(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Qe(t,e){var i;return t.isValid()&&e.isValid()?(e=ze(e,t),t.isBefore(e)?i=Je(t,e):(i=Je(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ti(t,e){return function(i,n){var o,s;return null===n||isNaN(+n)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=Ke(i,n),ei(this,o,t),this}}function ei(t,i,n,o){var s=i._milliseconds,r=Ae(i._days),a=Ae(i._months);t.isValid()&&(o=null==o||o,a&&pt(t,nt(t,"Month")+a*n),r&&ot(t,"Date",nt(t,"Date")+r*n),s&&t._d.setTime(t._d.valueOf()+s*n),o&&e.updateOffset(t,r||a))}function ii(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ni(t,i){var n=t||De(),o=ze(n,this).startOf("day"),s=e.calendarFormat(this,o)||"sameElse",r=i&&(D(i[s])?i[s].call(this,n):i[s]);return this.format(r||this.localeData().calendar(s,this,De(n)))}function oi(){return new v(this)}function si(t,e){var i=y(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&(e=L(s(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function ri(t,e){var i=y(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&(e=L(s(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function ai(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function li(t,e){var i,n=y(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&(e=L(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function hi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function di(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ui(t,e,i){var n,o,s;if(!this.isValid())return NaN;if(n=ze(t,this),!n.isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=L(e)){case"year":s=ci(this,n)/12;break;case"month":s=ci(this,n);break;case"quarter":s=ci(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-o)/864e5;break;case"week":s=(this-n-o)/6048e5;break;default:s=this-n}return i?s:b(s)}function ci(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(o,"months");return e-s<0?(i=t.clone().add(o-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(o+1,"months"),n=(e-s)/(i-s)),-(o+n)||0}function pi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fi(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+o)}function gi(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=Y(this,t);return this.localeData().postformat(i)}function vi(t,e){return this.isValid()&&(y(t)&&t.isValid()||De(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function yi(t){return this.from(De(),t)}function bi(t,e){return this.isValid()&&(y(t)&&t.isValid()||De(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _i(t){return this.to(De(),t)}function wi(t){var e;return void 0===t?this._locale._abbr:(e=ie(t),null!=e&&(this._locale=e),this)}function xi(){return this._locale}function Si(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ci(t){return void 0===(t=L(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Di(){return this._d.valueOf()-6e4*(this._offset||0)}function Ti(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function Oi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ei(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mi(){return this.isValid()?this.toISOString():null}function Ii(){return f(this)}function Pi(){return d({},p(this))}function Ni(){return p(this).overflow}function Ai(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ri(t,e){H(0,[t,t.length],0,e)}function Li(t){return Bi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zi(t){return Bi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Fi(){return Ct(this.year(),1,4)}function ji(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Bi(t,e,i,n,o){var s;return null==t?St(this,n,o).year:(s=Ct(t,n,o),e>s&&(e=s),Hi.call(this,t,e,i,n,o))}function Hi(t,e,i,n,o){var s=xt(t,e,i,n,o),r=_t(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Wi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function $i(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Yi(t,e){e[mo]=_(1e3*("0."+t))}function Gi(){return this._isUTC?"UTC":""}function Vi(){return this._isUTC?"Coordinated Universal Time":""}function qi(t){return De(1e3*t)}function Ui(){return De.apply(null,arguments).parseZone()}function Xi(t){return t}function Ki(t,e,i,n){var o=ie(),s=u().set(n,e);return o[i](s,t)}function Zi(t,e,i){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return Ki(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Ki(t,n,i,"month");return o}function Ji(t,e,i,n){"boolean"==typeof t?(r(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,r(e)&&(i=e,e=void 0),e=e||"");var o=ie(),s=t?o._week.dow:0;if(null!=i)return Ki(e,(i+s)%7,n,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Ki(e,(a+s)%7,n,"day");return l}function Qi(t,e){return Zi(t,e,"months")}function tn(t,e){return Zi(t,e,"monthsShort")}function en(t,e,i){return Ji(t,e,i,"weekdays")}function nn(t,e,i){return Ji(t,e,i,"weekdaysShort")}function on(t,e,i){return Ji(t,e,i,"weekdaysMin")}function sn(){var t=this._data;return this._milliseconds=hs(this._milliseconds),this._days=hs(this._days),this._months=hs(this._months),t.milliseconds=hs(t.milliseconds),t.seconds=hs(t.seconds),t.minutes=hs(t.minutes),t.hours=hs(t.hours),t.months=hs(t.months),t.years=hs(t.years),this}function rn(t,e,i,n){var o=Ke(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function an(t,e){return rn(this,t,e,1)}function ln(t,e){return rn(this,t,e,-1)}function hn(t){return t<0?Math.floor(t):Math.ceil(t)}function dn(){var t,e,i,n,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*hn(cn(a)+r),r=0,a=0),l.milliseconds=s%1e3,t=b(s/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,i=b(e/60),l.hours=i%24,r+=b(i/24),o=b(un(r)),a+=o,r-=hn(cn(o)),n=b(a/12),a%=12,l.days=r,l.months=a,l.years=n,this}function un(t){return 4800*t/146097}function cn(t){return 146097*t/4800}function pn(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=L(t))||"year"===t)return e=this._days+n/864e5,i=this._months+un(e),"month"===t?i:i/12;switch(e=this._days+Math.round(cn(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function fn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function mn(t){return function(){return this.as(t)}}function gn(){return Ke(this)}function vn(t){return t=L(t),this.isValid()?this[t+"s"]():NaN}function yn(t){return function(){return this.isValid()?this._data[t]:NaN}}function bn(){return b(this.days()/7)}function _n(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function wn(t,e,i){var n=Ke(t).abs(),o=Ds(n.as("s")),s=Ds(n.as("m")),r=Ds(n.as("h")),a=Ds(n.as("d")),l=Ds(n.as("M")),h=Ds(n.as("y")),d=o<=Ts.ss&&["s",o]||o<Ts.s&&["ss",o]||s<=1&&["m"]||s<Ts.m&&["mm",s]||r<=1&&["h"]||r<Ts.h&&["hh",r]||a<=1&&["d"]||a<Ts.d&&["dd",a]||l<=1&&["M"]||l<Ts.M&&["MM",l]||h<=1&&["y"]||["yy",h];return d[2]=e,d[3]=+t>0,d[4]=i,_n.apply(null,d)}function xn(t){return void 0===t?Ds:"function"==typeof t&&(Ds=t,!0)}function Sn(t,e){return void 0!==Ts[t]&&(void 0===e?Ts[t]:(Ts[t]=e,"s"===t&&(Ts.ss=e-1),!0))}function Cn(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=wn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Dn(t){return(t>0)-(t<0)||+t}function Tn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n=ks(this._milliseconds)/1e3,o=ks(this._days),s=ks(this._months);t=b(n/60),e=b(t/60),n%=60,t%=60,i=b(s/12),s%=12;var r=i,a=s,l=o,h=e,d=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var p=c<0?"-":"",f=Dn(this._months)!==Dn(c)?"-":"",m=Dn(this._days)!==Dn(c)?"-":"",g=Dn(this._milliseconds)!==Dn(c)?"-":"";return p+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(l?m+l+"D":"")+(h||d||u?"T":"")+(h?g+h+"H":"")+(d?g+d+"M":"")+(u?g+u+"S":"")}var kn,On;On=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var En=e.momentProperties=[],Mn=!1,In={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Pn;Pn=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)h(t,e)&&i.push(e);return i};var Nn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},An={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rn=/\d{1,2}/,Ln={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zn={},Fn={},jn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Bn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hn={},Wn={},$n=/\d/,Yn=/\d\d/,Gn=/\d{3}/,Vn=/\d{4}/,qn=/[+-]?\d{6}/,Un=/\d\d?/,Xn=/\d\d\d\d?/,Kn=/\d\d\d\d\d\d?/,Zn=/\d{1,3}/,Jn=/\d{1,4}/,Qn=/[+-]?\d{1,6}/,to=/\d+/,eo=/[+-]?\d+/,io=/Z|[+-]\d\d:?\d\d/gi,no=/Z|[+-]\d\d(?::?\d\d)?/gi,oo=/[+-]?\d+(\.\d{1,3})?/,so=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ro={},ao={},lo=0,ho=1,uo=2,co=3,po=4,fo=5,mo=6,go=7,vo=8;H("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),R("year","y"),F("year",1),V("Y",eo),V("YY",Un,Yn),V("YYYY",Jn,Vn),V("YYYYY",Qn,qn),V("YYYYYY",Qn,qn),K(["YYYYY","YYYYYY"],lo),K("YYYY",function(t,i){i[lo]=2===t.length?e.parseTwoDigitYear(t):_(t)}),K("YY",function(t,i){i[lo]=e.parseTwoDigitYear(t)}),K("Y",function(t,e){e[lo]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var yo,bo=it("FullYear",!0);yo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),F("month",8),V("M",Un),V("MM",Un,Yn),V("MMM",function(t,e){return e.monthsShortRegex(t)}),V("MMMM",function(t,e){return e.monthsRegex(t)}),K(["M","MM"],function(t,e){e[ho]=_(t)-1}),K(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[ho]=o:p(i).invalidMonth=t});var _o=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),So=so,Co=so;H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),F("week",5),F("isoWeek",5),V("w",Un),V("ww",Un,Yn),V("W",Un),V("WW",Un,Yn),Z(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=_(t)});var Do={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),V("d",Un),V("e",Un),V("E",Un),V("dd",function(t,e){return e.weekdaysMinRegex(t)}),V("ddd",function(t,e){return e.weekdaysShortRegex(t)}),V("dddd",function(t,e){return e.weekdaysRegex(t)}),Z(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:p(i).invalidWeekday=t}),Z(["d","e","E"],function(t,e,i,n){e[n]=_(t)});var To="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ko="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Eo=so,Mo=so,Io=so;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Yt),H("k",["kk",2],0,Gt),H("hmm",0,0,function(){return""+Yt.apply(this)+B(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Yt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Vt("a",!0),Vt("A",!1),R("hour","h"),F("hour",13),V("a",qt),V("A",qt),V("H",Un),V("h",Un),V("k",Un),V("HH",Un,Yn),V("hh",Un,Yn),V("kk",Un,Yn),V("hmm",Xn),V("hmmss",Kn),V("Hmm",Xn),V("Hmmss",Kn),K(["H","HH"],co),K(["k","kk"],function(t,e,i){var n=_(t);e[co]=24===n?0:n}),K(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),K(["h","hh"],function(t,e,i){e[co]=_(t),p(i).bigHour=!0}),K("hmm",function(t,e,i){var n=t.length-2;e[co]=_(t.substr(0,n)),e[po]=_(t.substr(n)),p(i).bigHour=!0}),K("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[co]=_(t.substr(0,n)),e[po]=_(t.substr(n,2)),e[fo]=_(t.substr(o)),p(i).bigHour=!0}),K("Hmm",function(t,e,i){var n=t.length-2;e[co]=_(t.substr(0,n)),e[po]=_(t.substr(n))}),K("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[co]=_(t.substr(0,n)),e[po]=_(t.substr(n,2)),e[fo]=_(t.substr(o))});var Po,No=/[ap]\.?m?\.?/i,Ao=it("Hours",!0),Ro={calendar:Nn,longDateFormat:An,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Rn,relativeTime:Ln,months:wo,monthsShort:xo,week:Do,weekdays:To,weekdaysMin:Oo,weekdaysShort:ko,meridiemParse:No},Lo={},zo={},Fo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bo=/Z|[+-]\d\d(?::?\d\d)?/,Ho=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Wo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$o=/^\/?Date\((\-?\d+)/i,Yo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Go={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Vo=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),qo=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),Uo=function(){return Date.now?Date.now():+new Date},Xo=["year","quarter","month","week","day","hour","minute","second","millisecond"];Re("Z",":"),Re("ZZ",""),V("Z",no),V("ZZ",no),K(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Le(no,t)});var Ko=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Zo=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=Pe.prototype,Ke.invalid=Ie;var Qo=ti(1,"add"),ts=ti(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var es=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ri("gggg","weekYear"),Ri("ggggg","weekYear"),Ri("GGGG","isoWeekYear"),Ri("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),V("G",eo),V("g",eo),V("GG",Un,Yn),V("gg",Un,Yn),V("GGGG",Jn,Vn),V("gggg",Jn,Vn),V("GGGGG",Qn,qn),V("ggggg",Qn,qn),Z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=_(t)}),Z(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),R("quarter","Q"),F("quarter",7),V("Q",$n),K("Q",function(t,e){e[ho]=3*(_(t)-1)}),H("D",["DD",2],"Do","date"),R("date","D"),F("date",9),V("D",Un),V("DD",Un,Yn),V("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),K(["D","DD"],uo),
K("Do",function(t,e){e[uo]=_(t.match(Un)[0],10)});var is=it("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),F("dayOfYear",4),V("DDD",Zn),V("DDDD",Gn),K(["DDD","DDDD"],function(t,e,i){i._dayOfYear=_(t)}),H("m",["mm",2],0,"minute"),R("minute","m"),F("minute",14),V("m",Un),V("mm",Un,Yn),K(["m","mm"],po);var ns=it("Minutes",!1);H("s",["ss",2],0,"second"),R("second","s"),F("second",15),V("s",Un),V("ss",Un,Yn),K(["s","ss"],fo);var os=it("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),F("millisecond",16),V("S",Zn,$n),V("SS",Zn,Yn),V("SSS",Zn,Gn);var ss;for(ss="SSSS";ss.length<=9;ss+="S")V(ss,to);for(ss="S";ss.length<=9;ss+="S")K(ss,Yi);var rs=it("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var as=v.prototype;as.add=Qo,as.calendar=ni,as.clone=oi,as.diff=ui,as.endOf=Ci,as.format=gi,as.from=vi,as.fromNow=yi,as.to=bi,as.toNow=_i,as.get=st,as.invalidAt=Ni,as.isAfter=si,as.isBefore=ri,as.isBetween=ai,as.isSame=li,as.isSameOrAfter=hi,as.isSameOrBefore=di,as.isValid=Ii,as.lang=es,as.locale=wi,as.localeData=xi,as.max=qo,as.min=Vo,as.parsingFlags=Pi,as.set=rt,as.startOf=Si,as.subtract=ts,as.toArray=Oi,as.toObject=Ei,as.toDate=ki,as.toISOString=fi,as.inspect=mi,as.toJSON=Mi,as.toString=pi,as.unix=Ti,as.valueOf=Di,as.creationData=Ai,as.year=bo,as.isLeapYear=et,as.weekYear=Li,as.isoWeekYear=zi,as.quarter=as.quarters=Wi,as.month=ft,as.daysInMonth=mt,as.week=as.weeks=Ot,as.isoWeek=as.isoWeeks=Et,as.weeksInYear=ji,as.isoWeeksInYear=Fi,as.date=is,as.day=as.days=zt,as.weekday=Ft,as.isoWeekday=jt,as.dayOfYear=$i,as.hour=as.hours=Ao,as.minute=as.minutes=ns,as.second=as.seconds=os,as.millisecond=as.milliseconds=rs,as.utcOffset=je,as.utc=He,as.local=We,as.parseZone=$e,as.hasAlignedHourOffset=Ye,as.isDST=Ge,as.isLocal=qe,as.isUtcOffset=Ue,as.isUtc=Xe,as.isUTC=Xe,as.zoneAbbr=Gi,as.zoneName=Vi,as.dates=S("dates accessor is deprecated. Use date instead.",is),as.months=S("months accessor is deprecated. Use month instead",ft),as.years=S("years accessor is deprecated. Use year instead",bo),as.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Be),as.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ve);var ls=O.prototype;ls.calendar=E,ls.longDateFormat=M,ls.invalidDate=I,ls.ordinal=P,ls.preparse=Xi,ls.postformat=Xi,ls.relativeTime=N,ls.pastFuture=A,ls.set=T,ls.months=ht,ls.monthsShort=dt,ls.monthsParse=ct,ls.monthsRegex=vt,ls.monthsShortRegex=gt,ls.week=Dt,ls.firstDayOfYear=kt,ls.firstDayOfWeek=Tt,ls.weekdays=Pt,ls.weekdaysMin=At,ls.weekdaysShort=Nt,ls.weekdaysParse=Lt,ls.weekdaysRegex=Bt,ls.weekdaysShortRegex=Ht,ls.weekdaysMinRegex=Wt,ls.isPM=Ut,ls.meridiem=Xt,Qt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Qt),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ie);var hs=Math.abs,ds=mn("ms"),us=mn("s"),cs=mn("m"),ps=mn("h"),fs=mn("d"),ms=mn("w"),gs=mn("M"),vs=mn("y"),ys=yn("milliseconds"),bs=yn("seconds"),_s=yn("minutes"),ws=yn("hours"),xs=yn("days"),Ss=yn("months"),Cs=yn("years"),Ds=Math.round,Ts={ss:44,s:45,m:45,h:22,d:26,M:11},ks=Math.abs,Os=Pe.prototype;return Os.isValid=Me,Os.abs=sn,Os.add=an,Os.subtract=ln,Os.as=pn,Os.asMilliseconds=ds,Os.asSeconds=us,Os.asMinutes=cs,Os.asHours=ps,Os.asDays=fs,Os.asWeeks=ms,Os.asMonths=gs,Os.asYears=vs,Os.valueOf=fn,Os._bubble=dn,Os.clone=gn,Os.get=vn,Os.milliseconds=ys,Os.seconds=bs,Os.minutes=_s,Os.hours=ws,Os.days=xs,Os.weeks=bn,Os.months=Ss,Os.years=Cs,Os.humanize=Cn,Os.toISOString=Tn,Os.toString=Tn,Os.toJSON=Tn,Os.locale=wi,Os.localeData=xi,Os.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tn),Os.lang=es,H("X",0,0,"unix"),H("x",0,0,"valueOf"),V("x",eo),V("X",oo),K("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),K("x",function(t,e,i){i._d=new Date(_(t))}),e.version="2.19.1",function(t){kn=t}(De),e.fn=as,e.min=ke,e.max=Oe,e.now=Uo,e.utc=u,e.unix=qi,e.months=Qi,e.isDate=a,e.locale=Qt,e.invalid=m,e.duration=Ke,e.isMoment=y,e.weekdays=en,e.parseZone=Ui,e.localeData=ie,e.isDuration=Ne,e.monthsShort=tn,e.weekdaysMin=on,e.defineLocale=te,e.updateLocale=ee,e.locales=ne,e.weekdaysShort=nn,e.normalizeUnits=L,e.relativeTimeRounding=xn,e.relativeTimeThreshold=Sn,e.calendarFormat=ii,e.prototype=as,e})}).call(e,i(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=156},function(t,e,i){(function(e){function i(t,e,i){var n=e&&i||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=u[t])});o<16;)e[n+o++]=0;return e}function n(t,e){var i=e||0,n=d;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}function o(t,e,i){var o=e&&i||0,s=e||[];t=t||{};var r=void 0!==t.clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),l=void 0!==t.nsecs?t.nsecs:v+1,h=a-g+(l-v)/1e4;if(h<0&&void 0===t.clockseq&&(r=r+1&16383),(h<0||a>g)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=a,v=l,m=r,a+=122192928e5;var d=(1e4*(268435455&a)+l)%4294967296;s[o++]=d>>>24&255,s[o++]=d>>>16&255,s[o++]=d>>>8&255,s[o++]=255&d;var u=a/4294967296*1e4&268435455;s[o++]=u>>>8&255,s[o++]=255&u,s[o++]=u>>>24&15|16,s[o++]=u>>>16&255,s[o++]=r>>>8|128,s[o++]=255&r;for(var c=t.node||f,p=0;p<6;p++)s[o+p]=c[p];return e||n(s)}function s(t,e,i){var o=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;a++)e[o+a]=s[a];return e||n(s)}var r,a="undefined"!=typeof window?window:void 0!==e?e:null;if(a&&a.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);r=function(){return crypto.getRandomValues(l),l}}if(!r){var h=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),h[e]=t>>>((3&e)<<3)&255;return h}}for(var d=[],u={},c=0;c<256;c++)d[c]=(c+256).toString(16).substr(1),u[d[c]]=c;var p=r(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),g=0,v=0,y=s;y.v1=o,y.v4=s,y.parse=i,y.unparse=n,t.exports=y}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Graph3d=i(161),e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var n=i(7),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,i){function n(t,e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new _,this.dataPoints=null,this.create(),f.setDefaults(n.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(e)}function o(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function s(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var r=i(90),a=function(t){return t&&t.__esModule?t:{default:t}}(r),l=i(44),h=i(2),d=i(34),u=i(91),c=i(92),p=i(93),f=i(94),m=i(15).default,g=i(15),v=g.printStyle,y=i(172),b=y.allOptions,_=i(173);n.STYLE=f.STYLE;n.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:n.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},l(n.prototype),n.prototype._setScale=function(){this.scale=new d(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},n.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},n.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=t.x*this.scale.x,o=t.y*this.scale.y,s=t.z*this.scale.z,r=e.x,a=e.y,l=e.z,h=Math.sin(i.x),u=Math.cos(i.x),c=Math.sin(i.y),p=Math.cos(i.y),f=Math.sin(i.z),m=Math.cos(i.z);return new d(p*(f*(o-a)+m*(n-r))-c*(s-l),h*(p*(s-l)+c*(f*(o-a)+m*(n-r)))+u*(m*(o-a)-f*(n-r)),u*(p*(s-l)+c*(f*(o-a)+m*(n-r)))-h*(m*(o-a)-f*(n-r)))},n.prototype._convertTranslationToScreen=function(t){var e,i,n=this.eye.x,o=this.eye.y,s=this.eye.z,r=t.x,a=t.y,l=t.z;return this.showPerspective?(e=s/l*(r-n),i=s/l*(a-o)):(e=r*(-s/this.camera.getArmLength()),i=a*(-s/this.camera.getArmLength())),new u(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},n.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}var o=function(t,e){return e.dist-t.dist};t.sort(o)},n.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},n.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new d;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new d(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},n.prototype._getDataPoints=function(t){var e,i,o,s,r=[];if(this.style===n.STYLE.GRID||this.style===n.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,t),l=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var h=[];for(o=0;o<r.length;o++){s=r[o];var d=a.indexOf(s.point.x),u=l.indexOf(s.point.y);void 0===h[d]&&(h[d]=[]),h[d][u]=s}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)h[e][i]&&(h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0,h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0,h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0)}else if(this._checkValueField(t),r=this.getDataPoints(t),this.style===n.STYLE.LINE)for(o=0;o<r.length;o++)o>0&&(r[o-1].pointNext=r[o]);return r},n.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},n=function(t){e._onTouchStart(t)},o=function(t){e._onWheel(t)},s=function(t){e._onTooltip(t)},r=function(t){e._onClick(t)};h.addEventListener(this.frame.canvas,"mousedown",i),h.addEventListener(this.frame.canvas,"touchstart",n),h.addEventListener(this.frame.canvas,"mousewheel",o),h.addEventListener(this.frame.canvas,"mousemove",s),h.addEventListener(this.frame.canvas,"click",r),this.containerElement.appendChild(this.frame)},n.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},n.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},n.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},n.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},n.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},n.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},n.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},n.prototype.setData=function(t){void 0!==t&&null!==t&&(this._readData(t),this.redraw(),this.animationStart())},n.prototype.setOptions=function(t){if(void 0!==t){!0===m.validate(t,b)&&console.log("%cErrors have been found in the supplied options object.",v),this.animationStop(),f.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart()}},n.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case n.STYLE.BAR:t=n.prototype._redrawBarGraphPoint;break;case n.STYLE.BARCOLOR:t=n.prototype._redrawBarColorGraphPoint;break;case n.STYLE.BARSIZE:t=n.prototype._redrawBarSizeGraphPoint;break;case n.STYLE.DOT:t=n.prototype._redrawDotGraphPoint;break;case n.STYLE.DOTLINE:t=n.prototype._redrawDotLineGraphPoint;break;case n.STYLE.DOTCOLOR:t=n.prototype._redrawDotColorGraphPoint;break;case n.STYLE.DOTSIZE:t=n.prototype._redrawDotSizeGraphPoint;break;case n.STYLE.SURFACE:t=n.prototype._redrawSurfaceGraphPoint;break;case n.STYLE.GRID:t=n.prototype._redrawGridGraphPoint;break;case n.STYLE.LINE:t=n.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},n.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},n.prototype._getContext=function(){var t=this.frame.canvas,e=t.getContext("2d");return e.lineJoin="round",e.lineCap="round",e},n.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},n.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},n.prototype._getLegendWidth=function(){var t;if(this.style===n.STYLE.DOTSIZE){t=this._dotSize()*this.dotSizeMaxFraction}else t=this.style===n.STYLE.BARSIZE?this.xBarWidth:20;return t},n.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==n.STYLE.LINE&&this.style!==n.STYLE.BARSIZE){var t=this.style===n.STYLE.BARSIZE||this.style===n.STYLE.DOTSIZE,e=this.style===n.STYLE.DOTSIZE||this.style===n.STYLE.DOTCOLOR||this.style===n.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),o=this.margin,s=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,a=r-s,l=o+i,h=this._getContext();if(h.lineWidth=1,h.font="14px arial",!1===t){var d,c=i;for(d=0;d<c;d++){var f=(d-0)/(c-0),m=240*f,g=this._hsv2rgb(m,1,1);h.strokeStyle=g,h.beginPath(),h.moveTo(a,o+d),h.lineTo(r,o+d),h.stroke()}h.strokeStyle=this.axisColor,h.strokeRect(a,o,s,i)}else{var v;this.style===n.STYLE.DOTSIZE?v=s*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,n.STYLE.BARSIZE),h.strokeStyle=this.axisColor,h.fillStyle=this.dataColor.fill,h.beginPath(),h.moveTo(a,o),h.lineTo(r,o),h.lineTo(a+v,l),h.lineTo(a,l),h.closePath(),h.fill(),h.stroke()}var y=e?this.valueRange.min:this.zRange.min,b=e?this.valueRange.max:this.zRange.max,_=new p(y,b,(b-y)/5,!0);_.start(!0);for(var w,x;!_.end();)d=l-(_.getCurrent()-y)/(b-y)*i,w=new u(a-5,d),x=new u(a,d),this._line(h,w,x),h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.axisColor,h.fillText(_.getCurrent(),a-10,d),_.next();h.textAlign="right",h.textBaseline="top";var S=this.legendLabel;h.fillText(S,r,l+this.margin)}},n.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",!t)return void(e.slider=void 0);var i={visible:this.showAnimationControls},n=new c(e,i);e.slider=n,e.style.padding="10px",n.setValues(t.values),n.setPlayInterval(this.animationInterval);var o=this,s=function(){var t=o.dataGroup.dataFilter,e=n.getIndex();t.selectValue(e),o.dataPoints=t._getDataPoints(),o.redraw()};n.setOnChangeCallback(s)},n.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},n.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,n=this.margin;e.fillText(t,i,n)}},n.prototype._line=function(t,e,i,n){void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},n.prototype.drawAxisLabelX=function(t,e,i,n,o){void 0===o&&(o=0);var s=this._convert3Dto2D(e);Math.cos(2*n)>0?(t.textAlign="center",t.textBaseline="top",s.y+=o):Math.sin(2*n)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,s.x,s.y)},n.prototype.drawAxisLabelY=function(t,e,i,n,o){void 0===o&&(o=0);var s=this._convert3Dto2D(e);Math.cos(2*n)<0?(t.textAlign="center",t.textBaseline="top",s.y+=o):Math.sin(2*n)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,s.x,s.y)},n.prototype.drawAxisLabelZ=function(t,e,i,n){void 0===n&&(n=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,o.x-n,o.y)},n.prototype._line3d=function(t,e,i,n){var o=this._convert3Dto2D(e),s=this._convert3Dto2D(i);this._line(t,o,s,n)},n.prototype._redrawAxis=function(){var t,e,i,n,o,s,r,a,l,h,c,f=this._getContext();f.font=24/this.camera.getArmLength()+"px arial";var m,g=.025/this.scale.x,v=.025/this.scale.y,y=5/this.camera.getArmLength(),b=this.camera.getArmRotation().horizontal,_=new u(Math.cos(b),Math.sin(b)),w=this.xRange,x=this.yRange,S=this.zRange;for(f.lineWidth=1,n=void 0===this.defaultXStep,i=new p(w.min,w.max,this.xStep,n),i.start(!0);!i.end();){var C=i.getCurrent();if(this.showGrid?(t=new d(C,x.min,S.min),e=new d(C,x.max,S.min),this._line3d(f,t,e,this.gridColor)):this.showXAxis&&(t=new d(C,x.min,S.min),e=new d(C,x.min+g,S.min),this._line3d(f,t,e,this.axisColor),t=new d(C,x.max,S.min),e=new d(C,x.max-g,S.min),this._line3d(f,t,e,this.axisColor)),this.showXAxis){r=_.x>0?x.min:x.max,m=new d(C,r,S.min);var D="  "+this.xValueLabel(C)+"  ";this.drawAxisLabelX(f,m,D,b,y)}i.next()}for(f.lineWidth=1,n=void 0===this.defaultYStep,i=new p(x.min,x.max,this.yStep,n),i.start(!0);!i.end();){var T=i.getCurrent();if(this.showGrid?(t=new d(w.min,T,S.min),e=new d(w.max,T,S.min),this._line3d(f,t,e,this.gridColor)):this.showYAxis&&(t=new d(w.min,T,S.min),e=new d(w.min+v,T,S.min),this._line3d(f,t,e,this.axisColor),t=new d(w.max,T,S.min),e=new d(w.max-v,T,S.min),this._line3d(f,t,e,this.axisColor)),this.showYAxis){s=_.y>0?w.min:w.max,m=new d(s,T,S.min);var k="  "+this.yValueLabel(T)+"  ";this.drawAxisLabelY(f,m,k,b,y)}i.next()}if(this.showZAxis){for(f.lineWidth=1,n=void 0===this.defaultZStep,i=new p(S.min,S.max,this.zStep,n),i.start(!0),s=_.x>0?w.min:w.max,r=_.y<0?x.min:x.max;!i.end();){var O=i.getCurrent(),E=new d(s,r,O),M=this._convert3Dto2D(E);e=new u(M.x-y,M.y),this._line(f,M,e,this.axisColor);var I=this.zValueLabel(O)+" ";this.drawAxisLabelZ(f,E,I,5),i.next()}f.lineWidth=1,t=new d(s,r,S.min),e=new d(s,r,S.max),this._line3d(f,t,e,this.axisColor)}if(this.showXAxis){var P,N;f.lineWidth=1,P=new d(w.min,x.min,S.min),N=new d(w.max,x.min,S.min),this._line3d(f,P,N,this.axisColor),P=new d(w.min,x.max,S.min),N=new d(w.max,x.max,S.min),this._line3d(f,P,N,this.axisColor)}this.showYAxis&&(f.lineWidth=1,t=new d(w.min,x.min,S.min),e=new d(w.min,x.max,S.min),this._line3d(f,t,e,this.axisColor),t=new d(w.max,x.min,S.min),e=new d(w.max,x.max,S.min),this._line3d(f,t,e,this.axisColor));var A=this.xLabel;A.length>0&&this.showXAxis&&(c=.1/this.scale.y,s=(w.max+3*w.min)/4,r=_.x>0?x.min-c:x.max+c,o=new d(s,r,S.min),this.drawAxisLabelX(f,o,A,b));var R=this.yLabel;R.length>0&&this.showYAxis&&(h=.1/this.scale.x,s=_.y>0?w.min-h:w.max+h,r=(x.max+3*x.min)/4,o=new d(s,r,S.min),this.drawAxisLabelY(f,o,R,b));var L=this.zLabel;L.length>0&&this.showZAxis&&(l=30,s=_.x>0?w.min:w.max,r=_.y<0?x.min:x.max,a=(S.max+3*S.min)/4,o=new d(s,r,a),this.drawAxisLabelZ(f,o,L,l))},n.prototype._hsv2rgb=function(t,e,i){var n,o,s,r,a,l;switch(r=i*e,a=Math.floor(t/60),l=r*(1-Math.abs(t/60%2-1)),a){case 0:n=r,o=l,s=0;break;case 1:n=l,o=r,s=0;break;case 2:n=0,o=r,s=l;break;case 3:n=0,o=l,s=r;break;case 4:n=l,o=0,s=r;break;case 5:n=r,o=0,s=l;break;default:n=0,o=0,s=0}return"RGB("+parseInt(255*n)+","+parseInt(255*o)+","+parseInt(255*s)+")"},n.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},n.prototype._redrawBar=function(t,e,i,n,o,s){var r,a=this,l=e.point,h=this.zRange.min,u=[{point:new d(l.x-i,l.y-n,l.z)},{point:new d(l.x+i,l.y-n,l.z)},{point:new d(l.x+i,l.y+n,l.z)},{point:new d(l.x-i,l.y+n,l.z)}],c=[{point:new d(l.x-i,l.y-n,h)},{point:new d(l.x+i,l.y-n,h)},{point:new d(l.x+i,l.y+n,h)},{point:new d(l.x-i,l.y+n,h)}];u.forEach(function(t){t.screen=a._convert3Dto2D(t.point)}),c.forEach(function(t){t.screen=a._convert3Dto2D(t.point)});var p=[{corners:u,center:d.avg(c[0].point,c[2].point)},{corners:[u[0],u[1],c[1],c[0]],center:d.avg(c[1].point,c[0].point)},{corners:[u[1],u[2],c[2],c[1]],center:d.avg(c[2].point,c[1].point)},{corners:[u[2],u[3],c[3],c[2]],center:d.avg(c[3].point,c[2].point)},{corners:[u[3],u[0],c[0],c[3]],center:d.avg(c[0].point,c[3].point)}];e.surfaces=p;for(var f=0;f<p.length;f++){r=p[f];var m=this._convertPointToTranslation(r.center);r.dist=this.showPerspective?m.length():-m.z}p.sort(function(t,e){var i=e.dist-t.dist;return i||(t.corners===u?1:e.corners===u?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=s,t.fillStyle=o;for(var g=2;g<p.length;g++)r=p[g],this._polygon(t,r.corners)},n.prototype._polygon=function(t,e,i,n){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var s=e[o];t.lineTo(s.screen.x,s.screen.y)}t.closePath(),t.fill(),t.stroke()}},n.prototype._drawCircle=function(t,e,i,n,o){var s=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=n,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,s,0,2*Math.PI,!0),t.fill(),t.stroke()},n.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},n.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value)e=t.point.value,i=t.point.value;else{var n=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(n,1,1),i=this._hsv2rgb(n,1,.8)}return{fill:e,border:i}},n.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},n.prototype._calcRadius=function(t,e){void 0===e&&(e=this._dotSize());var i;return i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()),i<0&&(i=0),i},n.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,i,n,o.fill,o.border)},n.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,i,n,o.fill,o.border)},n.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),n=this.xBarWidth/2*(.8*i+.2),o=this.yBarWidth/2*(.8*i+.2),s=this._getColorsSize();this._redrawBar(t,e,n,o,s.fill,s.border)},n.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},n.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},n.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},n.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),n=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=i*this.dotSizeMinFraction,s=i*this.dotSizeMaxFraction-o,r=o+s*n,a=this._getColorsSize();this._drawCircle(t,e,a.fill,a.border,r)},n.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,n=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==o){var s,r,a=!0;if(this.showGrayBottom||this.showShadow){var l=d.subtract(o.trans,e.trans),h=d.subtract(n.trans,i.trans),u=d.crossProduct(l,h),c=u.length();a=u.z>0}if(a){var p,f=(e.point.z+i.point.z+n.point.z+o.point.z)/4,m=240*(1-(f-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(p=Math.min(1+u.x/c/2,1),s=this._hsv2rgb(m,1,p),r=s):(p=1,s=this._hsv2rgb(m,1,p),r=this.axisColor)}else s="gray",r=this.axisColor;t.lineWidth=this._getStrokeWidth(e);var g=[e,i,o,n];this._polygon(t,g,s,r)}},n.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var n=(e.point.z+i.point.z)/2,o=240*(1-(n-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(o,1,1),this._line(t,e.screen,i.screen)}},n.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},n.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},n.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}},n.prototype._storeMousePosition=function(t){this.startMouseX=o(t),this.startMouseY=s(t),this._startCameraOffset=this.camera.getOffset()},n.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},h.addEventListener(document,"mousemove",e.onmousemove),h.addEventListener(document,"mouseup",e.onmouseup),h.preventDefault(t)}},n.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(o(t))-this.startMouseX,i=parseFloat(s(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var n=.5*this.frame.clientWidth,r=.5*this.frame.clientHeight,a=(this._startCameraOffset.x||0)-e/n*this.camera.armLength*.8,l=(this._startCameraOffset.y||0)+i/r*this.camera.armLength*.8;this.camera.setOffset(a,l),this._storeMousePosition(t)}else{var d=this.startArmRotation.horizontal+e/200,u=this.startArmRotation.vertical+i/200,c=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(d))<c&&(d=Math.round(d/Math.PI)*Math.PI-.001),Math.abs(Math.cos(d))<c&&(d=(Math.round(d/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(u))<c&&(u=Math.round(u/Math.PI)*Math.PI),Math.abs(Math.cos(u))<c&&(u=(Math.round(u/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(d,u)}this.redraw();var p=this.getCameraPosition();this.emit("cameraPositionChange",p),h.preventDefault(t)},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,h.removeEventListener(document,"mousemove",this.onmousemove),h.removeEventListener(document,"mouseup",this.onmouseup),h.preventDefault(t)},n.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=o(t)-e.left,n=s(t)-e.top,r=this._dataPointFromXY(i,n);r&&this.onclick_callback(r.point.data)}h.preventDefault(t)}},n.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=o(t)-e.left,n=s(t)-e.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var r=this._dataPointFromXY(i,n);r!==this.tooltip.dataPoint&&(r?this._showTooltip(r):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout(function(){
a.tooltipTimeout=null;var t=a._dataPointFromXY(i,n);t&&a._showTooltip(t)},300)}}},n.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},h.addEventListener(document,"touchmove",e.ontouchmove),h.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},n.prototype._onTouchMove=function(t){this._onMouseMove(t)},n.prototype._onTouchEnd=function(t){this.touchDown=!1,h.removeEventListener(document,"touchmove",this.ontouchmove),h.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},n.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),n=i*(1-e/10);this.camera.setArmLength(n),this.redraw(),this._hideTooltip()}var o=this.getCameraPosition();this.emit("cameraPositionChange",o),h.preventDefault(t)},n.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:t<0?-1:0}var n=e[0],o=e[1],s=e[2],r=i((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x)),a=i((s.x-o.x)*(t.y-o.y)-(s.y-o.y)*(t.x-o.x)),l=i((n.x-s.x)*(t.y-s.y)-(n.y-s.y)*(t.x-s.x));return!(0!=r&&0!=a&&r!=a||0!=a&&0!=l&&a!=l||0!=r&&0!=l&&r!=l)},n.prototype._dataPointFromXY=function(t,e){var i,o=null,s=null,r=null,a=new u(t,e);if(this.style===n.STYLE.BAR||this.style===n.STYLE.BARCOLOR||this.style===n.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){o=this.dataPoints[i];var l=o.surfaces;if(l)for(var h=l.length-1;h>=0;h--){var d=l[h],c=d.corners,p=[c[0].screen,c[1].screen,c[2].screen],f=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,p)||this._insideTriangle(a,f))return o}}else for(i=0;i<this.dataPoints.length;i++){o=this.dataPoints[i];var m=o.screen;if(m){var g=Math.abs(t-m.x),v=Math.abs(e-m.y),y=Math.sqrt(g*g+v*v);(null===r||y<r)&&y<100&&(r=y,s=o)}}return s},n.prototype.hasBars=function(t){return t==n.STYLE.BAR||t==n.STYLE.BARCOLOR||t==n.STYLE.BARSIZE},n.prototype._showTooltip=function(t){var e,i,n;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(e=document.createElement("div"),(0,a.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,a.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",n=document.createElement("div"),(0,a.default)(n.style,{},this.tooltipStyle.dot),n.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(n);var o=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,l=n.offsetWidth,h=n.offsetHeight,d=t.screen.x-o/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-o),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-s+"px",n.style.left=t.screen.x-l/2+"px",n.style.top=t.screen.y-h/2+"px"},n.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},n.prototype.setCameraPosition=function(t){f.setCameraPosition(t,this),this.redraw()},n.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=n},function(t,e,i){i(163),t.exports=i(7).Object.assign},function(t,e,i){var n=i(17);n(n.S+n.F,"Object",{assign:i(164)})},function(t,e,i){var n=i(33),o=i(63),s=i(42),r=i(41),a=i(78),l=Object.assign;t.exports=!l||i(28)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=r(t),l=arguments.length,h=1,d=o.f,u=s.f;l>h;)for(var c,p=a(arguments[h++]),f=d?n(p).concat(d(p)):n(p),m=f.length,g=0;m>g;)u.call(p,c=f[g++])&&(i[c]=p[c]);return i}:l},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167),t.exports=i(7).Math.sign},function(t,e,i){var n=i(17);n(n.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var n=i(7).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(17);n(n.S+n.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",s="number",r={fill:{string:n},stroke:{string:n},strokeWidth:{number:s},__type__:{string:n,object:"object",undefined:"undefined"}},a={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:s},animationPreload:{boolean:o},axisColor:{string:n},backgroundColor:r,xBarWidth:{number:s,undefined:"undefined"},yBarWidth:{number:s,undefined:"undefined"},cameraPosition:{distance:{number:s},horizontal:{number:s},vertical:{number:s},__type__:{object:"object"}},xCenter:{string:n},yCenter:{string:n},dataColor:r,dotSizeMinFraction:{number:s},dotSizeMaxFraction:{number:s},dotSizeRatio:{number:s},filterLabel:{string:n},gridColor:{string:n},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:n},yLabel:{string:n},zLabel:{string:n},legendLabel:{string:n},xMin:{number:s,undefined:"undefined"},yMin:{number:s,undefined:"undefined"},zMin:{number:s,undefined:"undefined"},xMax:{number:s,undefined:"undefined"},yMax:{number:s,undefined:"undefined"},zMax:{number:s,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:s,undefined:"undefined"},yStep:{number:s,undefined:"undefined"},zStep:{number:s,undefined:"undefined"},style:{number:s,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:n},background:{string:n},border:{string:n},borderRadius:{string:n},boxShadow:{string:n},padding:{string:n},__type__:{object:"object"}},line:{borderLeft:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},dot:{border:{string:n},borderRadius:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:s,undefined:"undefined"},valueMin:{number:s,undefined:"undefined"},verticalRatio:{number:s},height:{string:n},width:{string:n},__type__:{object:"object"}};e.allOptions=a},function(t,e,i){function n(){this.dataTable=null}var o=i(11),s=i(12),r=i(174),a=i(96),l=i(94),h=i(34);n.prototype.initializeData=function(t,e,i){if(void 0!==e){Array.isArray(e)&&(e=new o(e));var n;if(!(e instanceof o||e instanceof s))throw new Error("Array, DataSet, or DataView expected");if(n=e.get(),0!=n.length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=n;var r=this;this._onChange=function(){t.setData(r.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var l=t.hasBars(i);if(l&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(n,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(n,this.colY)||1),this._initializeRange(n,this.colX,t,l),this._initializeRange(n,this.colY,t,l),this._initializeRange(n,this.colZ,t,!1),n[0].hasOwnProperty("style")){this.colValue="style";var h=this.getColumnRange(n,this.colValue);this._setRangeDefaults(h,t.defaultValueMin,t.defaultValueMax),this.valueRange=h}this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()}));return this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},n.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},n.prototype._initializeRange=function(t,e,i,n){var o=this._collectRangeSettings(e,i),s=this.getColumnRange(t,e);n&&"z"!=e&&s.expand(o.barWidth/2),this._setRangeDefaults(s,o.min,o.max),this[o.range_label]=s,this[o.step_label]=void 0!==o.step?o.step:s.range()/5},n.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],n=0;n<e.length;n++){var o=e[n][t]||0;-1===i.indexOf(o)&&i.push(o)}return i.sort(function(t,e){return t-e})},n.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),n=null,o=1;o<i.length;o++){var s=i[o]-i[o-1];(null==n||n>s)&&(n=s)}return n},n.prototype.getColumnRange=function(t,e){for(var i=new r,n=0;n<t.length;n++){var o=t[n][e];i.adjust(o)}return i},n.prototype.getNumberOfRows=function(){return this.dataTable.length},n.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},n.prototype.getDataTable=function(){return this.dataTable},n.prototype.getDataSet=function(){return this.dataSet},n.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new h;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new h(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},n.prototype.initDataAsMatrix=function(t){var e,i,n,o,s=this.getDistinctValues(this.colX,t),r=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),l=[];for(n=0;n<a.length;n++){o=a[n];var h=s.indexOf(o.point.x),d=r.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][d]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0);return a},n.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},n.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},n.prototype._getDataPoints=function(t){var e=[];if(this.style===l.STYLE.GRID||this.style===l.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===l.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i]);return e},n.prototype._checkValueField=function(t){if(this.style===l.STYLE.BARCOLOR||this.style===l.STYLE.BARSIZE||this.style===l.STYLE.DOTCOLOR||this.style===l.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=n},function(t,e,i){function n(){this.min=void 0,this.max=void 0}n.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},n.prototype.combine=function(t){this.add(t.min),this.add(t.max)},n.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},n.prototype.range=function(){return this.max-this.min},n.prototype.center=function(){return(this.min+this.max)/2},t.exports=n},function(t,e,i){var n,o,s;!function(i){o=[],n=i,void 0!==(s="function"==typeof n?n.apply(e,o):n)&&(t.exports=s)}(function(){var t=null;return function e(i,n){function o(t){return t.match(/[^ ]+/g)}function s(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var n=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof n&&(e.srcEvent.stopPropagation=function(){n(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!i;){var s=o.hammer;if(s)for(var r,a=0;a<s.length;a++)if(r=s[a]._handlers[e.type])for(var l=0;l<r.length&&!i;l++)r[l](e);o=o.parentNode}}var r=n||{preventDefault:!1};if(i.Manager){var a=i,l=function(t,i){var n=Object.create(r);return i&&a.assign(n,i),e(new a(t,n),n)};return a.assign(l,a),l.Manager=function(t,i){var n=Object.create(r);return i&&a.assign(n,i),e(new a.Manager(t,n),n)},l}var h=Object.create(i),d=i.element;return d.hammer||(d.hammer=[]),d.hammer.push(h),i.on("hammer.input",function(e){!0!==r.preventDefault&&r.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),h._handlers={},h.on=function(t,e){return o(t).forEach(function(t){var n=h._handlers[t];n||(h._handlers[t]=n=[],i.on(t,s)),n.push(e)}),h},h.off=function(t,e){return o(t).forEach(function(t){var n=h._handlers[t];n&&(n=e?n.filter(function(t){return t!==e}):[],n.length>0?h._handlers[t]=n:(i.off(t,s),delete h._handlers[t]))}),h},h.emit=function(e,n){t=n.target,i.emit(e,n)},h.destroy=function(){var t=i.element.hammer,e=t.indexOf(h);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,h._handlers={},i.destroy()},h}})},function(t,e,i){var n;!function(o,s,r,a){"use strict";function l(t,e,i){return setTimeout(p(t,i),e)}function h(t,e,i){return!!Array.isArray(t)&&(d(t,i[e],i),!0)}function d(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function u(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=o.console&&(o.console.warn||o.console.log);return s&&s.call(o.console,n,i),t.apply(this,arguments)}}function c(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&ft(n,i)}function p(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==vt?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function g(t,e,i){d(_(e),function(e){t.addEventListener(e,i,!1)})}function v(t,e,i){d(_(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function w(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function S(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];w(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function C(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<mt.length;){if(i=mt[s],(n=i?i+o:e)in t)return n;s++}return a}function D(){return St++}function T(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){f(t.options.enable,[t])&&i.handler(e)},this.init()}function O(t){var e=t.options.inputClass;return new(e||(Tt?W:kt?G:Dt?q:H))(t,E)}function E(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=e&Et&&n-o==0,r=e&(It|Pt)&&n-o==0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,M(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function M(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=N(e)),o>1&&!i.firstMultiple?i.firstMultiple=N(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,l=e.center=A(n);e.timeStamp=_t(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=F(a,l),e.distance=z(a,l),I(i,e),e.offsetDirection=L(e.deltaX,e.deltaY);var h=R(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=bt(h.x)>bt(h.y)?h.x:h.y,e.scale=r?B(r.pointers,n):1,e.rotation=r?j(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,P(i,e);var d=t.element;y(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}function I(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Et&&s.eventType!==It||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function P(t,e){var i,n,o,s,r=t.lastInterval||e,l=e.timeStamp-r.timeStamp;if(e.eventType!=Pt&&(l>Ot||r.velocity===a)){var h=e.deltaX-r.deltaX,d=e.deltaY-r.deltaY,u=R(l,h,d);n=u.x,o=u.y,i=bt(u.x)>bt(u.y)?u.x:u.y,s=L(h,d),t.lastInterval=e}else i=r.velocity,n=r.velocityX,o=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=s}function N(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:yt(t.pointers[i].clientX),clientY:yt(t.pointers[i].clientY)},i++;return{timeStamp:_t(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:yt(t[0].clientX),y:yt(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:yt(i/e),y:yt(n/e)}}function R(t,e,i){return{x:e/t||0,y:i/t||0}}function L(t,e){return t===e?Nt:bt(t)>=bt(e)?t<0?At:Rt:e<0?Lt:zt}function z(t,e,i){i||(i=Ht);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function F(t,e,i){i||(i=Ht);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function j(t,e){return F(e[1],e[0],Wt)+F(t[1],t[0],Wt)}function B(t,e){return z(e[0],e[1],Wt)/z(t[0],t[1],Wt)}function H(){this.evEl=Yt,this.evWin=Gt,this.pressed=!1,k.apply(this,arguments)}function W(){this.evEl=Ut,this.evWin=Xt,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function $(){this.evTarget=Zt,this.evWin=Jt,this.started=!1,k.apply(this,arguments)}function Y(t,e){var i=x(t.touches),n=x(t.changedTouches);return e&(It|Pt)&&(i=S(i.concat(n),"identifier",!0)),[i,n]}function G(){this.evTarget=te,this.targetIds={},k.apply(this,arguments)}function V(t,e){var i=x(t.touches),n=this.targetIds;if(e&(Et|Mt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s,r=x(t.changedTouches),a=[],l=this.target;if(s=i.filter(function(t){return y(t.target,l)}),e===Et)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<r.length;)n[r[o].identifier]&&a.push(r[o]),e&(It|Pt)&&delete n[r[o].identifier],o++;return a.length?[S(s.concat(a),"identifier",!0),a]:void 0}function q(){k.apply(this,arguments);var t=p(this.handler,this);this.touch=new G(this.manager,t),this.mouse=new H(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function U(t,e){t&Et?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(It|Pt)&&X.call(this,e)}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,o=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(o,ee)}}function K(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],s=Math.abs(e-o.x),r=Math.abs(i-o.y);if(s<=ie&&r<=ie)return!0}return!1}function Z(t,e){this.manager=t,this.set(e)}function J(t){if(b(t,ae))return ae;var e=b(t,le),i=b(t,he);return e&&i?ae:e||i?e?le:he:b(t,re)?re:se}function Q(t){this.options=ft({},this.defaults,t||{}),this.id=D(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=ue,this.simultaneous={},this.requireFail=[]}function tt(t){return t&ge?"cancel":t&fe?"end":t&pe?"move":t&ce?"start":""}function et(t){return t==zt?"down":t==Lt?"up":t==At?"left":t==Rt?"right":""}function it(t,e){var i=e.manager;return i?i.get(t):t}function nt(){Q.apply(this,arguments)}function ot(){nt.apply(this,arguments),this.pX=null,this.pY=null}function st(){nt.apply(this,arguments)}function rt(){Q.apply(this,arguments),this._timer=null,this._input=null}function at(){nt.apply(this,arguments)}function lt(){nt.apply(this,arguments)}function ht(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function dt(t,e){return e=e||{},e.recognizers=m(e.recognizers,dt.defaults.preset),new ut(t,e)}function ut(t,e){this.options=ft({},dt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=O(this),this.touchAction=new Z(this,this.options.touchAction),ct(this,!0),d(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ct(t,e){var i=t.element;if(i.style){var n;d(t.options.cssProps,function(o,s){n=C(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function pt(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ft,mt=["","webkit","Moz","MS","ms","o"],gt=s.createElement("div"),vt="function",yt=Math.round,bt=Math.abs,_t=Date.now;ft="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var wt=u(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===a)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),xt=u(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),St=1,Ct=/mobile|tablet|ip(ad|hone|od)|android/i,Dt="ontouchstart"in o,Tt=C(o,"PointerEvent")!==a,kt=Dt&&Ct.test(navigator.userAgent),Ot=25,Et=1,Mt=2,It=4,Pt=8,Nt=1,At=2,Rt=4,Lt=8,zt=16,Ft=At|Rt,jt=Lt|zt,Bt=Ft|jt,Ht=["x","y"],Wt=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(T(this.element),this.evWin,this.domHandler)}};var $t={mousedown:Et,mousemove:Mt,mouseup:It},Yt="mousedown",Gt="mousemove mouseup";c(H,k,{handler:function(t){var e=$t[t.type];e&Et&&0===t.button&&(this.pressed=!0),e&Mt&&1!==t.which&&(e=It),this.pressed&&(e&It&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Vt={pointerdown:Et,pointermove:Mt,pointerup:It,pointercancel:Pt,pointerout:Pt},qt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ut="pointerdown",Xt="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Ut="MSPointerDown",Xt="MSPointerMove MSPointerUp MSPointerCancel"),c(W,k,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Vt[n],s=qt[t.pointerType]||t.pointerType,r="touch"==s,a=w(e,t.pointerId,"pointerId");o&Et&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):o&(It|Pt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Kt={touchstart:Et,touchmove:Mt,touchend:It,touchcancel:Pt},Zt="touchstart",Jt="touchstart touchmove touchend touchcancel";c($,k,{handler:function(t){var e=Kt[t.type];if(e===Et&&(this.started=!0),this.started){var i=Y.call(this,t,e);e&(It|Pt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Qt={touchstart:Et,touchmove:Mt,touchend:It,touchcancel:Pt},te="touchstart touchmove touchend touchcancel";c(G,k,{handler:function(t){var e=Qt[t.type],i=V.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var ee=2500,ie=25;c(q,k,{handler:function(t,e,i){var n="touch"==i.pointerType,o="mouse"==i.pointerType;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)U.call(this,e,i);else if(o&&K.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ne=C(gt.style,"touchAction"),oe=ne!==a,se="auto",re="manipulation",ae="none",le="pan-x",he="pan-y",de=function(){if(!oe)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||o.CSS.supports("touch-action",i)}),t}();Z.prototype={set:function(t){"compute"==t&&(t=this.compute()),oe&&this.manager.element.style&&de[t]&&(this.manager.element.style[ne]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return d(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),J(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=b(n,ae)&&!de[ae],s=b(n,he)&&!de[he],r=b(n,le)&&!de[le];if(o){var a=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(a&&l&&h)return}return r&&s?void 0:o||s&&i&Ft||r&&i&jt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ue=1,ce=2,pe=4,fe=8,me=fe,ge=16;Q.prototype={defaults:{},set:function(t){return ft(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(h(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=it(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return h(t,"dropRecognizeWith",this)?this:(t=it(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(h(t,"requireFailure",this))return this;var e=this.requireFail;return t=it(t,this),-1===w(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(h(t,"dropRequireFailure",this))return this;t=it(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<fe&&e(i.options.event+tt(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=fe&&e(i.options.event+tt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ue)))return!1;t++}return!0},recognize:function(t){var e=ft({},t);if(!f(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(me|ge|32)&&(this.state=ue),this.state=this.process(e),this.state&(ce|pe|fe|ge)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},c(nt,Q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ce|pe),o=this.attrTest(t);return n&&(i&Pt||!o)?e|ge:n||o?i&It?e|fe:e&ce?e|pe:ce:32}}),c(ot,nt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ft&&e.push(he),t&jt&&e.push(le),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(e.direction&Ft?(o=0===s?Nt:s<0?At:Rt,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===r?Nt:r<0?Lt:zt,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return nt.prototype.attrTest.call(this,t)&&(this.state&ce||!(this.state&ce)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),c(st,nt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ce)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),c(rt,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[se]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(It|Pt)&&!o)this.reset();else if(t.eventType&Et)this.reset(),this._timer=l(function(){this.state=me,this.tryEmit()},e.time,this);else if(t.eventType&It)return me;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===me&&(t&&t.eventType&It?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_t(),this.manager.emit(this.options.event,this._input)))}}),c(at,nt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ce)}}),c(lt,nt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ft|jt,pointers:1},getTouchAction:function(){return ot.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Ft|jt)?e=t.overallVelocity:i&Ft?e=t.overallVelocityX:i&jt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&It},emit:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(ht,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[re]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Et&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=It)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||z(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=me,this.tryEmit()},e.interval,this),ce):me}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==me&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),dt.VERSION="2.0.7",dt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[at,{enable:!1}],[st,{enable:!1},["rotate"]],[lt,{direction:Ft}],[ot,{direction:Ft},["swipe"]],[ht],[ht,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ut.prototype={set:function(t){return ft(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,
this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&me)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(ce|pe|fe)&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof Q)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(h(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(h(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=w(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return d(_(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==a){var i=this.handlers;return d(_(t),function(t){e?i[t]&&i[t].splice(w(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&pt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ft(dt,{INPUT_START:Et,INPUT_MOVE:Mt,INPUT_END:It,INPUT_CANCEL:Pt,STATE_POSSIBLE:ue,STATE_BEGAN:ce,STATE_CHANGED:pe,STATE_ENDED:fe,STATE_RECOGNIZED:me,STATE_CANCELLED:ge,STATE_FAILED:32,DIRECTION_NONE:Nt,DIRECTION_LEFT:At,DIRECTION_RIGHT:Rt,DIRECTION_UP:Lt,DIRECTION_DOWN:zt,DIRECTION_HORIZONTAL:Ft,DIRECTION_VERTICAL:jt,DIRECTION_ALL:Bt,Manager:ut,Input:k,TouchAction:Z,TouchInput:G,MouseInput:H,PointerEventInput:W,TouchMouseInput:q,SingleTouchInput:$,Recognizer:Q,AttrRecognizer:nt,Tap:ht,Pan:ot,Swipe:lt,Pinch:st,Rotate:at,Press:rt,on:g,off:v,each:d,merge:xt,extend:wt,assign:ft,inherit:c,bindFn:p,prefixed:C}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=dt,(n=function(){return dt}.call(e,i,e,t))!==a&&(t.exports=n)}(window,document)},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Timeline=i(178),e.Graph2d=i(180),e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){function n(t,e,i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof h||i instanceof d)&&i instanceof Object){var s=o;o=i,i=s}o&&o.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:a,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(t),!o||o&&void 0===o.rtl){this.dom.root.style.visibility="hidden";for(var c,m=this.dom.root;!c&&m;)c=window.getComputedStyle(m,null).direction,m=m.parentElement;this.options.rtl=c&&"rtl"==c.toLowerCase(),this.dom.root.style.visibility=""}else this.options.rtl=o.rtl;this.options.rollingMode=o&&o.rollingMode,this.options.onInitialDrawComplete=o&&o.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new u(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new f(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new g(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){r.emit("click",r.getEventProperties(t))},this.dom.root.ondblclick=function(t){r.emit("doubleClick",r.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.dom.root.onmouseover=function(t){r.emit("mouseOver",r.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){r.emit("mouseDown",r.getEventProperties(t))},this.dom.root.onpointermove=function(t){r.emit("mouseMove",r.getEventProperties(t))},this.dom.root.onpointerup=function(t){r.emit("mouseUp",r.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){r.emit("mouseMove",r.getEventProperties(t))},this.dom.root.onmousedown=function(t){r.emit("mouseDown",r.getEventProperties(t))},this.dom.root.onmouseup=function(t){r.emit("mouseUp",r.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(!r.initialDrawDone&&r.initialRangeChangeDone&&(r.initialDrawDone=!0,r.dom.root.style.visibility="visible",r.options.onInitialDrawComplete&&setTimeout(function(){return r.options.onInitialDrawComplete()},0)),null!=this.itemsData&&!this.options.rollingMode&&!r.initialFitDone)if(r.initialFitDone=!0,void 0!=r.options.start||void 0!=r.options.end){if(void 0==r.options.start||void 0==r.options.end)var t=r.getItemRange();var e=void 0!=r.options.start?r.options.start:t.min,i=void 0!=r.options.end?r.options.end:t.max;r.setWindow(e,i,{animation:!1})}else r.fit({animation:!1})}),o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}function o(t){return l.convert(t.data.start,"Date").valueOf()}function s(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return l.convert(e,"Date").valueOf()}function r(t,e){var i=t.props.leftContainer.height,n=t.props.left.height,o=e.parent,s=o.top,r=!0,a=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==a?o.height-e.top-e.height:e.top},h=-1*t._getScrollTop(),d=s+l(),u=e.height;return d<h?s+i<=s+l()+u&&(s+=l()-t.itemSet.options.margin.item.vertical):d+u>h+i?s+=l()+u-i+t.itemSet.options.margin.item.vertical:r=!1,s=Math.min(s,n-i),{shouldScroll:r,scrollOffset:s,itemTop:d}}var a=i(9),l=i(2),h=i(11),d=i(12),u=i(64),c=i(65),p=i(45),f=i(67),m=i(46),g=i(99),v=i(15).printStyle,y=i(105).allOptions,b=i(105).configureOptions,_=i(71).default,w=i(15).default;n.prototype=new c,n.prototype._createConfigurator=function(){return new _(this,this.dom.container,b)},n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},n.prototype.setOptions=function(t){if(!0===w.validate(t,y)&&console.log("%cErrors have been found in the supplied options object.",v),c.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},n.prototype.setItems=function(t){var e;e=t?t instanceof h||t instanceof d?t:new h(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},n.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof h||t instanceof d?new d(t,{filter:i}):new h(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},n.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},n.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},n.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,s=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===s||i>s)&&(s=i)}),null!==o&&null!==s){var a=this,l=this.itemSet.items[i[0]],h=-1*this._getScrollTop(),d=null,u=function(t,e,i){var n=r(a,l);if(d||(d=n),d.itemTop!=n.itemTop||d.shouldScroll){d.itemTop!=n.itemTop&&n.shouldScroll&&(d=n,h=-1*a._getScrollTop());var o=h,s=d.scrollOffset,u=i?s:o+(s-o)*t;a._setScrollTop(-u),e||a._redraw()}},c=function(){var t=r(a,l);t.shouldScroll&&t.itemTop!=d.itemTop&&(a._setScrollTop(-t.scrollOffset),a._redraw())},p=function(){c(),setTimeout(c,100)},f=(o+s)/2,m=Math.max(this.range.end-this.range.start,1.1*(s-o)),g=!e||void 0===e.animation||e.animation;g||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(f-m/2,f+m/2,{animation:g},p,u)}}},n.prototype.fit=function(t,e){var i,n=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:n},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:n},e))},n.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,n=null,r=null;if(null!=e&&null!=i){var a=i-e;a<=0&&(a=10);var h=a/this.props.center.width,d={},u=0;l.forEach(this.itemSet.items,function(t,e){if(t.groupShowing){d[e]=t.redraw(!0),u=d[e].length}});if(u>0)for(var c=0;c<u;c++)l.forEach(d,function(t){t[c]()});if(l.forEach(this.itemSet.items,function(t){var a,l,d=o(t),u=s(t);this.options.rtl?(a=d-(t.getWidthRight()+10)*h,l=u+(t.getWidthLeft()+10)*h):(a=d-(t.getWidthLeft()+10)*h,l=u+(t.getWidthRight()+10)*h),a<e&&(e=a,n=t),l>i&&(i=l,r=t)}.bind(this)),n&&r){var p=n.getWidthLeft()+10,f=r.getWidthRight()+10,m=this.props.center.width-p-f;m>0&&(this.options.rtl?(e=o(n)-f*a/m,i=s(r)+p*a/m):(e=o(n)-p*a/m,i=s(r)+f*a/m))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},n.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=l.convert(i.start,"Date").valueOf(),o=l.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||n<t)&&(t=n),(null===e||o>e)&&(e=o)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e,i=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY;e=this.options.rtl?l.getAbsoluteRight(this.dom.centerContainer)-i:i-l.getAbsoluteLeft(this.dom.centerContainer);var o=n-l.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),r=this.itemSet.groupFromTarget(t),a=m.customTimeFromTarget(t),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),u=this.body.util.getStep(),c=this._toTime(e),p=h?h(c,d,u):c,f=l.getTarget(t),g=null;return null!=s?g="item":null!=a?g="custom-time":l.hasParent(f,this.timeAxis.dom.foreground)?g="axis":this.timeAxis2&&l.hasParent(f,this.timeAxis2.dom.foreground)?g="axis":l.hasParent(f,this.itemSet.dom.labelSet)?g="group-label":l.hasParent(f,this.currentTime.bar)?g="current-time":l.hasParent(f,this.dom.center)&&(g="background"),{event:t,item:s?s.id:null,group:r?r.groupId:null,what:g,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:o,time:c,snappedTime:p}},n.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=n},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(10),u=i(37),c=i(2),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,a.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,h.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof t)return e[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===c.isString(t)){if(!0===c.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===c.isValidRGBA(t)){var r=t.substr(5).substr(0,t.length-6).split(",");i={r:r[0],g:r[1],b:r[2],a:r[3]}}else if(!0===c.isValidHex(t)){var a=c.hexToRGB(t);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,s.default)(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=c.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=c.extend({},t)),this.color=t;var e=c.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,o=this.centerCoordinates.x+n*Math.sin(i*e.h),s=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=c.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=c.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=c.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new d(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),u.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var n=void 0,o=void 0,s=void 0,r=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var a=2*Math.PI/360,l=1/this.r,h=void 0;for(s=0;s<360;s++)for(r=0;r<this.r;r++)n=this.centerCoordinates.x+r*Math.sin(a*s),o=this.centerCoordinates.y+r*Math.cos(a*s),h=c.HSVToRGB(s*(1/360),r*l,1),t.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,r=i-s,a=n-o,l=Math.atan2(r,a),h=.98*Math.min(Math.sqrt(r*r+a*a),s),d=Math.cos(l)*h+o,u=Math.sin(l)*h+s;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var p=l/(2*Math.PI);p=p<0?p+1:p;var f=h/this.r,m=c.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=p,m.s=f;var g=c.HSVToRGB(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=p},function(t,e,i){function n(t,e,i,n){if(!(Array.isArray(i)||i instanceof r||i instanceof a)&&i instanceof Object){var h=n;n=i,i=h}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var c=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:o,width:null,height:null,maxHeight:null,minHeight:null},this.options=s.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:c._toScreen.bind(c),toGlobalScreen:c._toGlobalScreen.bind(c),toTime:c._toTime.bind(c),toGlobalTime:c._toGlobalTime.bind(c)}},this.range=new l(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.linegraph=new p(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){c.emit("click",c.getEventProperties(t))}),this.on("doubletap",function(t){c.emit("doubleClick",c.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){c.emit("contextmenu",c.getEventProperties(t))},n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var o=i(9),s=i(2),r=i(11),a=i(12),l=i(64),h=i(65),d=i(45),u=i(67),c=i(46),p=i(106),f=i(15).printStyle,m=i(113).allOptions,g=i(113).configureOptions,v=i(71).default,y=i(15).default;n.prototype=new h,n.prototype.setOptions=function(t){!0===y.validate(t,m)&&console.log("%cErrors have been found in the supplied options object.",f),h.prototype.setOptions.call(this,t)},n.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof r||t instanceof a?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var n=void 0!=this.options.start?this.options.start:null,o=void 0!=this.options.end?this.options.end:null;this.setWindow(n,o,{animation:!1})}else this.fit({animation:!1})},n.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof a?t:new r(t):null,this.groupsData=e,this.linegraph.setGroups(e)},n.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},n.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},n.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var o=this.linegraph.groups[i].itemsData[n],r=s.convert(o.x,"Date").valueOf();t=null==t?r:t>r?r:t,e=null==e?r:e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=e-s.getAbsoluteLeft(this.dom.centerContainer),o=i-s.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(n),a=c.customTimeFromTarget(t),l=s.getTarget(t),h=null;s.hasParent(l,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&s.hasParent(l,this.timeAxis2.dom.foreground)?h="axis":s.hasParent(l,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":s.hasParent(l,this.linegraph.yAxisRight.dom.frame)?h="data-axis":s.hasParent(l,this.linegraph.legendLeft.dom.frame)?h="legend":s.hasParent(l,this.linegraph.legendRight.dom.frame)?h="legend":null!=a?h="custom-time":s.hasParent(l,this.currentTime.bar)?h="current-time":s.hasParent(l,this.dom.center)&&(h="background");var d=[],u=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&d.push(u.screenToValue(o)),!p.hidden&&this.itemsData.length>0&&d.push(p.screenToValue(o)),{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:o,time:r,value:d}},n.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},t.exports=n},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Network=i(182),e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){function n(t,e,i){var o=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:h,clickToUse:!1},s.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new d(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new u,this.canvas=new v(this.body),this.selectionHandler=new _(this.body,this.canvas),this.interactionHandler=new b(this.body,this.canvas,this.selectionHandler),this.view=new y(this.body,this.canvas),
this.renderer=new g(this.body,this.canvas),this.physics=new f(this.body),this.layoutEngine=new w(this.body),this.clustering=new m(this.body),this.manipulation=new x(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new c(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new p(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new M(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}i(183);var o=i(44),s=i(2),r=i(114),a=i(115),l=i(97),h=i(184),d=i(116).default,u=i(186).default,c=i(187).default,p=i(214).default,f=i(220).default,m=i(227).default,g=i(229).default,v=i(230).default,y=i(231).default,b=i(232).default,_=i(234).default,w=i(235).default,x=i(237).default,S=i(71).default,C=i(15).default,D=i(15),T=D.printStyle,k=i(122),O=k.allOptions,E=k.configureOptions,M=i(238).default;o(n.prototype),n.prototype.setOptions=function(t){var e=this;if(void 0!==t){!0===C.validate(t,O)&&console.log("%cErrors have been found in the supplied options object.",T);var i=["locale","locales","clickToUse"];if(s.selectiveDeepExtend(i,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new S(this,this.body.container,E,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};s.deepExtend(n.nodes,this.nodesHandler.options),s.deepExtend(n.edges,this.edgesHandler.options),s.deepExtend(n.layout,this.layoutEngine.options),s.deepExtend(n.interaction,this.selectionHandler.options),s.deepExtend(n.interaction,this.renderer.options),s.deepExtend(n.interaction,this.interactionHandler.options),s.deepExtend(n.manipulation,this.manipulation.options),s.deepExtend(n.physics,this.physics.options),s.deepExtend(n.global,this.canvas.options),s.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new l(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},n.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],s=t[o.fromId],r=t[o.toId],a=void 0!==s&&void 0!==r,l=!this.clustering._isClusteredEdge(n)&&!1===o.options.hidden&&a&&!1===s.options.hidden&&!1===r.options.hidden;l&&this.body.edgeIndices.push(o.id)}},n.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},n.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=r.DOTToGraph(t.dot);return void this.setData(e)}if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=a.parseGephi(t.gephi);return void this.setData(i)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},n.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];s.recursiveDOMDelete(this.body.container)},n.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),n=void 0===n?s:Math.max(s,n),o+=s)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,o)},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},n.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},n.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},n.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=n},function(t,e,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),i*=1.15,e+=.275*i;var n=2*i,o=n/2,s=Math.sqrt(3)/6*n,r=Math.sqrt(n*n-o*o);this.moveTo(t,e-(r-s)),this.lineTo(t+o,e+s),this.lineTo(t-o,e+s),this.lineTo(t,e-(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),i*=1.15,e-=.275*i;var n=2*i,o=n/2,s=Math.sqrt(3)/6*n,r=Math.sqrt(n*n-o*o);this.moveTo(t,e+(r-s)),this.lineTo(t+o,e-s),this.lineTo(t-o,e-s),this.lineTo(t,e+(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),i*=.82,e+=.1*i;for(var n=0;n<10;n++){var o=n%2==0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*n*Math.PI/10),e-o*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*s,360*s,!1),this.lineTo(t+i,e+n-o),this.arc(t+i-o,e+n-o,o,0,90*s,!1),this.lineTo(t+o,e+n),this.arc(t+o,e+n-o,o,90*s,180*s,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var o=i/2*.5522848,s=n/2*.5522848,r=t+i,a=e+n,l=t+i/2,h=e+n/2;this.beginPath(),this.moveTo(t,h),this.bezierCurveTo(t,h-s,l-o,e,l,e),this.bezierCurveTo(l+o,e,r,h-s,r,h),this.bezierCurveTo(r,h+s,l+o,a,l,a),this.bezierCurveTo(l-o,a,t,h+s,t,h),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var o=i,s=n*(1/3),r=o/2*.5522848,a=s/2*.5522848,l=t+o,h=e+s,d=t+o/2,u=e+s/2,c=e+(n-s/2),p=e+n;this.beginPath(),this.moveTo(l,u),this.bezierCurveTo(l,u+a,d+r,h,d,h),this.bezierCurveTo(d-r,h,t,u+a,t,u),this.bezierCurveTo(t,u-a,d-r,e,d,e),this.bezierCurveTo(d+r,e,l,u-a,l,u),this.lineTo(l,c),this.bezierCurveTo(l,c+a,d+r,p,d,p),this.bezierCurveTo(d-r,p,t,c+a,t,c),this.lineTo(t,u)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,o){this.beginPath(),this.moveTo(t,e);for(var s=o.length,r=i-t,a=n-e,l=a/r,h=Math.sqrt(r*r+a*a),d=0,u=!0,c=0,p=o[0];h>=.1;)p=o[d++%s],p>h&&(p=h),c=Math.sqrt(p*p/(1+l*l)),c=r<0?-c:c,t+=c,e+=l*c,!0===u?this.lineTo(t,e):this.moveTo(t,e),h-=p,u=!u},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var n=2*Math.PI/6;this.moveTo(t+i,e);for(var o=1;o<6;o++)this.lineTo(t+i*Math.cos(n*o),e+i*Math.sin(n*o));this.closePath()})},function(t,e,i){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},e.ru_RU=e.ru,e.cn={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"},e.zh_CN=e.cn},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(){(0,s.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,a.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),o=Math.floor(e/8),s=Math.floor(e/16),r=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,r,i],[r,0,a,n],[r,n,l,o],[5*l,n,h,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],o=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,o,s){if(this.initialized())if(e>2){e*=.5;for(var r=0;e>2&&r<this.NUM_ITERATIONS;)e*=.5,r+=1;r>=this.NUM_ITERATIONS&&(r=this.NUM_ITERATIONS-1);var a=this.coordinates[r];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,s)}else t.drawImage(this.image,i,n,o,s)}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=function(){function t(){(0,s.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},l.extend(this.options,this.defaultOptions)}return(0,a.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var n=t[i];this.add(i,n)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,i={},i.color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,i={},i.color=this.defaultGroups[o],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=h},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=i(11),d=i(12),u=i(47).default,c=function(){function t(e,i,n,o){var r=this;if((0,s.default)(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items,e.data,e.oldData)},remove:function(t,e){r.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=l.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,a.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(u.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof h||t instanceof d)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new h,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new h}if(i&&l.forEach(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var n=this;l.forEach(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=[],o=0;o<t.length;o++){i=t[o];var s=this.body.data.nodes.get(i),r=this.create(s);n.push(r),this.body.nodes[i]=r}this.layoutEngine.positionInitially(n),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,o=!1,s=0;s<t.length;s++){var r=t[s],a=n[r],l=e[s];void 0!==a?a.setOptions(l)&&(o=!0):(o=!0,a=this.create(l),n[r]=a)}o||void 0===i||(o=e.some(function(t,e){var n=i[e];return n&&n.level!==t.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){delete e[t[i]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:u)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.forEach(this.body.nodes,function(i,n){var o=t.body.data.nodes.get(n);void 0!==o&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodes[this.body.nodeIndices[s]];e[this.body.nodeIndices[s]]={x:Math.round(r.x),y:Math.round(r.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];e._data[i].x==Math.round(n.x)&&e._data[i].y==Math.round(n.y)||t.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],o={},s=0;s<n.edges.length;s++){var r=n.edges[s];"to"!==e&&r.toId==n.id?void 0===o[r.fromId]&&(i.push(r.fromId),o[r.fromId]=!0):"from"!==e&&r.fromId==n.id&&void 0===o[r.toId]&&(i.push(r.toId),o[r.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=c},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49),i(60),t.exports=i(190)},function(t,e,i){var n=i(86),o=i(13)("iterator"),s=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||s.hasOwnProperty(n(e))}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(192).default,h=i(48).default,d=function(){function t(e,i,n,o){var r=this;(0,s.default)(this,t),this.ctx=e,this.parent=i;var a=function(t,i){if(void 0===t)return 0;var s=r.parent.getFormattingValues(e,n,o,i),a=0;if(""!==t){a=r.ctx.measureText(t).width}return{width:a,values:s}};this.lines=new l(a)}return(0,a.default)(t,[{key:"process",value:function(t){if(!h.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var o=0;o<n;o++){var s=this.splitBlocks(i[o],e.multi);if(void 0!==s)if(0!==s.length){if(e.maxWdt>0)for(var r=0;r<s.length;r++){var a=s[r].mod,l=s[r].text;this.splitStringIntoLines(l,a,!0)}else for(var d=0;d<s.length;d++){var u=s[d].mod,c=s[d].text;this.lines.append(c,u)}this.lines.newLine()}else this.lines.newLine("")
}else if(e.maxWdt>0)for(var p=0;p<n;p++)this.splitStringIntoLines(i[p]);else for(var f=0;f<n;f++)this.lines.newLine(i[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[]};for(i.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]},i.modName=function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},i.emitBlock=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},i.add=function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?i.mono?i.add(n):i.spacing=!0:/</.test(n)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(n):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(n)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(n),i.position++}return i.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[]};for(i.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]},i.modName=function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},i.emitBlock=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},i.add=function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?(i.mono?i.add(n):i.spacing=!0,i.beginable=!0):/\\/.test(n)?i.position<t.length+1&&(i.position++,n=t.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(n)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(n)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(n)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(n)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(n):!i.mono&&"ital"===i.mod()&&/\_/.test(n)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(n):i.mono&&"mono"===i.mod()&&/`/.test(n)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(n):(i.add(n),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=""===e?"":" ",o=e+n+t[i];if(this.overMaxWidth(o))break;e=o,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var n=t.split("\r");n.length>0;){var o=this.getLongestFit(n);if(0===o){var s=n[0],r=this.getLongestFitWord(s);this.lines.newLine(s.slice(0,r),e),n[0]=s.slice(r)}else{var a=o;" "===n[o-1]?o--:" "===n[a]&&a++;var l=n.slice(0,o).join("");o==n.length&&i?this.lines.append(l,e):this.lines.newLine(l,e),n=n.slice(a)}}}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(90),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=function(){function t(e){(0,a.default)(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,h.default)(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var o=this.measureText(n,i),r=(0,s.default)({},o.values);r.text=e,r.width=o.width,r.mod=i,void 0!==e&&""!==e||(r.width=0),this.lines[t].blocks.push(r),this.lines[t].width+=r.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var o=e.blocks[n];i<o.height&&(i=o.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};(0,s.default)(n,i),n.blocks=[];for(var o=void 0,r=[],a=0;a<i.blocks.length;a++){var l=i.blocks[a];0!==l.width?r.push(l):void 0===o&&(o=l)}0===r.length&&void 0!==o&&r.push(o),n.blocks=r,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){(0,a.default)(this,e);var o=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return o._setMargins(n),o}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),t.roundRect(this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o);var s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(m.default);e.default=g},function(t,e,i){i(195),t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var n=i(41),o=i(85);i(87)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198),t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var n=i(17);n(n.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var n=i(32),o=i(27),s=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(73),m=n(f),g=function(t){function e(t,i,n){(0,a.default)(this,e);var o=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return o._setMargins(n),o}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(73),m=n(f),g=function(t){function e(t,i,n,o,r){(0,a.default)(this,e);var l=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return l.setImages(o,r),l}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),t.save(),t.clip(),this._drawImageAtPosition(t,s),t.restore(),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){(0,a.default)(this,e);var o=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return o._setMargins(n),o}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),o=n.width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"diamond",4,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"circle",2,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,s),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,s=Math.cos(e)*n;return i*n/Math.sqrt(o*o+s*s)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){(0,a.default)(this,e);var o=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return o._setMargins(n),o}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,s){if(this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,s),void 0!==this.options.label){this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n)}this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(t,e,i,n,o,s){var r=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(n?"bold ":"")+r+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,s),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(73),m=n(f),g=function(t){function e(t,i,n,o,r){(0,a.default)(this,e);var l=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return l.setImages(o,r),l}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,s){if(this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,l=(n?a:r)/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,s),t.closePath()}this._drawImageAtPosition(t,s),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"square",2,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"hexagon",4,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"star",4,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(23),m=n(f),g=function(t){function e(t,i,n){(0,a.default)(this,e);var o=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n));return o._setMargins(n),o}return(0,p.default)(e,t),(0,h.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,s),this.updateBoundingBox(e,i,t,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"triangle",3,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(24),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"draw",value:function(t,e,i,n,o,s){this._drawShape(t,"triangleDown",3,e,i,n,o,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=i(11),d=i(12),u=i(74).default,c=function(){function t(e,i,n){var o=this;(0,s.default)(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var n=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var s=t.body.edges[o],r=t.body.data.edges._data[o];if(void 0!==r){var a=r.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===e?s.setOptions({smooth:!1}):s.setOptions({smooth:{type:e}}),n=!0)}}!0===i&&!0===n&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){u.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(t instanceof h||t instanceof d)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new h,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new h}if(n&&l.forEach(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,o=0;o<t.length;o++){var s=t[o],r=i[s];r&&r.disconnect();var a=n.get(s,{showInternalIds:!0});i[s]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<t.length;o++){var s=t[o],r=i.get(s),a=e[s];void 0!==a?(a.disconnect(),n=a.setOptions(r)||n,a.connect()):(this.body.edges[s]=this.create(r),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;l.forEach(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;l.forEach(this.body.edges,function(e,i){var n=t.body.data.edges._data[i];void 0!==n&&e.setOptions(n)})}},{key:"create",value:function(t){return new u(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];l.forEach(this.body.edges,function(i,n){var o=t.body.nodes[i.toId],s=t.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==s&&!0===s.isCluster||void 0!==o&&void 0!==s||e.push(n)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=this.body.data.edges,i=[];e.forEach(function(e,n){void 0===t[n]&&i.push(n)}),this.add(i,!0)}}]),t}();e.default=c},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),s=n(o),r=i(3),a=n(r),l=i(0),h=n(l),d=i(1),u=n(d),c=i(4),p=n(c),f=i(5),m=n(f),g=i(216),v=n(g),y=function(t){function e(t,i,n){return(0,h.default)(this,e),(0,p.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t,i,n))}return(0,m.default)(e,t),(0,u.default)(e,[{key:"_line",value:function(t,e,i){var n=i[0],o=i[1];this._bezierCurve(t,e,n,o)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,n=void 0,o=void 0,s=void 0,r=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,s=this.to.y,i=this.from.x-r*t,o=this.to.x+r*t):(n=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),l=(0,s.default)(a,2),h=l[0],d=l[1];return this._getDistanceToBezierEdge(t,e,i,n,o,r,h,d)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,s.default)(e,2),n=i[0],o=i[1],r=t,a=[];return a[0]=Math.pow(1-r,3),a[1]=3*r*Math.pow(1-r,2),a[2]=3*Math.pow(r,2)*(1-r),a[3]=Math.pow(r,3),{x:a[0]*this.fromPoint.x+a[1]*n.x+a[2]*o.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*n.y+a[2]*o.y+a[3]*this.toPoint.y}}}]),e}(v.default);e.default=y},function(t,e,i){function n(t){
return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(75),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,s,r,a){var l=1e9,h=void 0,d=void 0,u=void 0,c=void 0,p=void 0,f=t,m=e,g=[0,0,0,0];for(d=1;d<10;d++)u=.1*d,g[0]=Math.pow(1-u,3),g[1]=3*u*Math.pow(1-u,2),g[2]=3*Math.pow(u,2)*(1-u),g[3]=Math.pow(u,3),c=g[0]*t+g[1]*r.x+g[2]*a.x+g[3]*i,p=g[0]*e+g[1]*r.y+g[2]*a.y+g[3]*n,d>0&&(h=this._getDistanceToLine(f,m,c,p,o,s),l=h<l?h:l),f=c,m=p;return l}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),s=n(o),r=i(3),a=n(r),l=i(0),h=n(l),d=i(1),u=n(d),c=i(4),p=n(c),f=i(5),m=n(f),g=i(75),v=n(g),y=function(t){function e(t,i,n){(0,h.default)(this,e);var o=(0,p.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t,i,n));return o._boundFunction=function(){o.positionBezierNode()},o.body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return(0,m.default)(e,t),(0,u.default)(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=t,n=void 0,o=void 0;if(this.from===this.to){var r=this._getCircleData(this.from),a=(0,s.default)(r,3),l=a[0],h=a[1],d=a[2],u=2*Math.PI*(1-i);n=l+d*Math.sin(u),o=h+d-d*(1-Math.cos(u))}else n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,s){return this._getDistanceToBezierEdge(t,e,i,n,o,s,this.via)}}]),e}(v.default);e.default=y},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(75),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var r=void 0,a=void 0;r=a=o<=s?i*s:i*o,this.from.x>this.to.x&&(r=-r),this.from.y>=this.to.y&&(a=-a),t=this.from.x+r,e=this.from.y+a,"discrete"===n&&(o<=s?t=o<i*s?this.from.x:t:e=s<i*o?this.from.y:e)}else if("straightCross"===n){var l=(1-i)*o,h=(1-i)*s;o<=s?(l=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(l=-l),h=0),t=this.to.x+l,e=this.to.y+h}else if("horizontal"===n){var d=(1-i)*o;this.from.x<this.to.x&&(d=-d),t=this.to.x+d,e=this.from.y}else if("vertical"===n){var u=(1-i)*s;this.from.y<this.to.y&&(u=-u),t=this.from.x,e=this.to.y+u}else if("curvedCW"===n){o=this.to.x-this.from.x,s=this.from.y-this.to.y;var c=Math.sqrt(o*o+s*s),p=Math.PI,f=Math.atan2(s,o),m=(f+(.5*i+.5)*p)%(2*p);t=this.from.x+(.5*i+.5)*c*Math.sin(m),e=this.from.y+(.5*i+.5)*c*Math.cos(m)}else if("curvedCCW"===n){o=this.to.x-this.from.x,s=this.from.y-this.to.y;var g=Math.sqrt(o*o+s*s),v=Math.PI,y=Math.atan2(s,o),b=(y+(.5*-i+.5)*v)%(2*v);t=this.from.x+(.5*i+.5)*g*Math.sin(b),e=this.from.y+(.5*i+.5)*g*Math.cos(b)}else{var _=void 0,w=void 0;_=w=o<=s?i*s:i*o,this.from.x>this.to.x&&(_=-_),this.from.y>=this.to.y&&(w=-w),t=this.from.x+_,e=this.from.y+w,o<=s?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,s){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,s,r)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(118),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var o=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,r=i.y-n.y,a=Math.sqrt(s*s+r*r),l=t.distanceToBorder(e,o),h=(a-l)/a,d={};return d.x=(1-h)*n.x+h*i.x,d.y=(1-h)*n.y+h*i.y,d}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,s){return this._getDistanceToLine(t,e,i,n,o,s)}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(120).default,u=i(221).default,c=i(222).default,p=i(223).default,f=i(224).default,m=i(121).default,g=i(225).default,v=i(226).default,y=i(2),b=i(119).default,_=function(){function t(e){(0,a.default)(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},y.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,h.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,y.selectiveNotDeepExtend(["stabilization"],this.options,t),y.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new g(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new v(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new u(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new m(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new c(this.body,this.physicsBody,t),this.edgesSolver=new f(this.body,this.physicsBody,t),this.gravitySolver=new m(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new d(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new m(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var r in this.physicsBody.velocities)void 0===t[r]&&delete this.physicsBody.velocities[r]}},{key:"revert",value:function(){var t=(0,s.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var o=t[n];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=this.body.nodes,n=this.referenceState;for(var o in this.referenceState)if(this.referenceState.hasOwnProperty(o)&&void 0!==i[o]&&(t=i[o].x-n[o].positions.x,e=i[o].y-n[o].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var o=t[n],s=this._performStep(o);e=Math.max(e,s),i+=s}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;if("number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0===this.physicsBody.physicsNodeIndices.length)return void(this.ready=!0);this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n=0;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],o=this.physicsBody.forces[i],s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),r=Math.min(Math.max(5,s),15),a=3*r,l=y.HSVToHex((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),h={x:n.x+20*o.x,y:n.y+20*o.y};t.lineWidth=r,t.strokeStyle=l,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(h.x,h.y),t.stroke();var d=Math.atan2(o.y,o.x);t.fillStyle=l,b.draw(t,{type:"arrow",point:h,angle:d,length:a}),t.fill()}}}]),t}();e.default=_},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,a.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,s,r,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,u=this.options.nodeDistance,c=-2/3/u,p=0;p<h.length-1;p++){r=l[h[p]];for(var f=p+1;f<h.length;f++)a=l[h[f]],t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*Math.random(),t=i),i<2*u&&(s=i<.5*u?1:c*i+4/3,s/=i,n=t*s,o=e*s,d[r.id].x-=n,d[r.id].y-=o,d[a.id].x+=n,d[a.id].y+=o)}}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,a.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,o,s,r,a,l,h,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<u.length-1;l++)for(r=d[u[l]],h=l+1;h<u.length;h++)if(a=d[u[h]],r.level===a.level){t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e);s=i<p?-Math.pow(.05*i,2)+Math.pow(.05*p,2):0,0===i?i=.01:s/=i,n=t*s,o=e*s,c[r.id].x-=n,c[r.id].y-=o,c[a.id].x+=n,c[a.id].y+=o}}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,a.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,o=void 0,s=void 0,r=void 0,a=0;a<i.length;a++)e=n[i[a]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,s=e.edgeType.via,r=e.from,this._calculateSpringForce(o,s,.5*t),this._calculateSpringForce(s,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,o=t.y-e.y,s=Math.max(Math.sqrt(n*n+o*o),.01),r=this.options.springConstant*(i-s)/s,a=n*r,l=o*r;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,a.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,s,r,a,l=this.body.edges,h=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,c=0;c<d.length;c++){var p=d[c];u[p].springFx=0,u[p].springFy=0}for(var f=0;f<h.length;f++)e=l[h[f]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),a=0===a?.01:a,r=this.options.springConstant*(t-a)/a,o=i*r,s=n*r,e.to.level!=e.from.level?(void 0!==u[e.toId]&&(u[e.toId].springFx-=o,u[e.toId].springFy-=s),void 0!==u[e.fromId]&&(u[e.fromId].springFx+=o,u[e.fromId].springFy+=s)):(void 0!==u[e.toId]&&(u[e.toId].x-=.5*o,u[e.toId].y-=.5*s),void 0!==u[e.fromId]&&(u[e.fromId].x+=.5*o,u[e.fromId].y+=.5*s)));r=1;for(var m,g,v=0;v<d.length;v++){var y=d[v];m=Math.min(r,Math.max(-r,u[y].springFx)),g=Math.min(r,Math.max(-r,u[y].springFy)),u[y].x+=m,u[y].y+=g}for(var b=0,_=0,w=0;w<d.length;w++){var x=d[w];b+=u[x].x,_+=u[x].y}for(var S=b/d.length,C=_/d.length,D=0;D<d.length;D++){var T=d[D];u[T].x-=S,u[T].y-=C}}}]),t}();e.default=l},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(120),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var s=n.edges.length+1,r=this.options.gravitationalConstant*o.mass*n.options.mass*s/Math.pow(t,2),a=e*r,l=i*r;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(121),m=n(f),g=function(t){function e(t,i,n){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n))}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_calculateForces",value:function(t,e,i,n,o){if(t>0){var s=o.edges.length+1,r=this.options.centralGravity*s*o.options.mass;n[o.id].x=e*r,n[o.id].y=i*r}}}]),e}(m.default);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=n(o),r=i(6),a=n(r),l=i(0),h=n(l),d=i(1),u=n(d),c=i(2),p=i(76).default,f=i(228).default,m=i(74).default,g=i(47).default,v=function(){function t(e){var i=this;(0,h.default)(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},c.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return(0,u.default)(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,a.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=t&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},o={};c.forEach(this.body.nodes,function(i,s){var r=p.cloneOptions(i);!0===e.joinCondition(r)&&(n[s]=i,c.forEach(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(o[e.id]=e)}))}),this._cluster(n,o,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var o=[],r={},a=void 0,l=void 0,h=void 0,d=0;d<this.body.nodeIndices.length;d++){var u,c,f;!function(n){var d={},m={},g=i.body.nodeIndices[n],v=i.body.nodes[g];if(void 0===r[g]){h=0,l=[];for(var y=0;y<v.edges.length;y++)a=v.edges[y],void 0===i.clusteredEdges[a.id]&&(a.toId!==a.fromId&&h++,l.push(a));if(h===t){u=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=p.cloneOptions(t);return e.joinCondition(i)};for(var b=!0,_=0;_<l.length;_++){a=l[_];var w=i._getConnectedId(a,g);if(!u(v)){b=!1;break}m[a.id]=a,d[g]=v,d[w]=i.body.nodes[w],r[g]=!0}if((0,s.default)(d).length>0&&(0,s.default)(m).length>0&&!0===b)if(c=function(){for(var t=0;t<o.length;++t)for(var e in d)if(void 0!==o[t].nodes[e])return o[t]},void 0!==(f=c())){for(var x in d)void 0===f.nodes[x]&&(f.nodes[x]=d[x]);for(var S in m)void 0===f.edges[S]&&(f.edges[S]=m[S])}else o.push({nodes:d,edges:m})}}}(d)}for(var d=0;d<o.length;d++)this._cluster(o[d].nodes,o[d].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];e=this._checkOptions(e,n),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var o={},r={},a=n.id,l=p.cloneOptions(n);o[a]=n;for(var h=0;h<n.edges.length;h++){var d=n.edges[h];if(void 0===this.clusteredEdges[d.id]){var u=this._getConnectedId(d,a);if(void 0===this.clusteredNodes[u])if(u!==a)if(void 0===e.joinCondition)r[d.id]=d,o[u]=this.body.nodes[u];else{var c=p.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(l,c)&&(r[d.id]=d,o[u]=this.body.nodes[u])}else r[d.id]=d}}var f=(0,s.default)(o).map(function(t){return o[t].id});for(m in o)if(o.hasOwnProperty(m))for(var m=o[m],g=0;g<m.edges.length;g++){var v=m.edges[g];f.indexOf(this._getConnectedId(v,m.id))>-1&&(r[v.id]=v)}this._cluster(o,r,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var o=void 0,r=void 0,a=void 0,l=void 0,h=void 0,d=void 0,u=(0,s.default)(t),c=[],p=0;p<u.length;p++){r=u[p],a=t[r];for(var f=0;f<a.edges.length;f++)o=a.edges[f],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:o.toId==r?(l=i.id,h=o.fromId,d=h):(l=o.toId,h=i.id,d=l),void 0===t[d]&&c.push({edge:o,fromId:h,toId:l}))}for(var m=[],g=0;g<c.length;g++){var v=c[g],y=v.edge,b=function(t){for(var e=0;e<m.length;e++){var i=m[e],n=t.fromId===i.fromId&&t.toId===i.toId,o=t.fromId===i.toId&&t.toId===i.fromId;if(n||o)return i}return null}(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,n),m.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var r in t)t.hasOwnProperty(r)&&void 0!==this.clusteredNodes[r]&&o.push(r);for(var a=0;a<o.length;++a)delete t[o[a]];if(0!=(0,s.default)(t).length&&(1!=(0,s.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var l=c.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var h=[];for(var d in t)if(t.hasOwnProperty(d)){var u=p.cloneOptions(t[d]);h.push(u)}var m=[];for(var g in e)if(e.hasOwnProperty(g)&&"clusterEdge:"!==g.substr(0,12)){var v=p.cloneOptions(e[g],"edge");m.push(v)}if(!(l=i.processProperties(l,h,m)))throw new Error("The processProperties function does not return properties!")}void 0===l.id&&(l.id="cluster:"+c.randomUUID());var y=l.id;void 0===l.label&&(l.label="cluster");var b=void 0;void 0===l.x&&(b=this._getClusterPosition(t),l.x=b.x),void 0===l.y&&(void 0===b&&(b=this._getClusterPosition(t)),l.y=b.y),l.id=y;var _=this.body.functions.createNode(l,f);_.containedNodes=t,_.containedEdges=e,_.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[l.id]=_,this._clusterEdges(t,e,l,i.clusterEdgeProperties),l.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,s.default)(t),i=t[e[0]].x,n=t[e[0]].x,o=t[e[0]].y,r=t[e[0]].y,a=void 0,l=1;l<e.length;l++)a=t[e[l]],i=a.x<i?a.x:i,n=a.x>n?a.x:n,o=a.y<o?a.y:o,r=a.y>r?a.y:r;return{x:.5*(i+n),y:.5*(o+r)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t]
;if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),s=o.indexOf(t)-1;if(s>=0){var r=o[s];return this.body.nodes[r]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var a=n.containedNodes,l=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var h={},d={x:n.x,y:n.y};for(var u in a)if(a.hasOwnProperty(u)){var p=this.body.nodes[u];h[u]={x:p.x,y:p.y}}var f=e.releaseFunction(d,h);for(var m in a)if(a.hasOwnProperty(m)){var g=this.body.nodes[m];void 0!==f[m]&&(g.x=void 0===f[m].x?n.x:f[m].x,g.y=void 0===f[m].y?n.y:f[m].y)}}else c.forEach(a,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(var v in a)if(a.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=n.vx,y.vy=n.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],_=0;_<n.edges.length;_++)b.push(n.edges[_]);for(var w=0;w<b.length;w++){for(var x=b[w],S=this._getConnectedId(x,t),C=this.clusteredNodes[S],D=0;D<x.clusteringEdgeReplacingIds.length;D++){var T=x.clusteringEdgeReplacingIds[D],k=this.body.edges[T];if(void 0!==k)if(void 0!==C){var O=this.body.nodes[C.clusterId];O.containedEdges[k.id]=k,delete l[k.id];var E=k.fromId,M=k.toId;k.toId==S?M=C.clusterId:E=C.clusterId,this._createClusteredEdge(E,M,k,O.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(k)}x.remove()}for(var I in l)l.hasOwnProperty(I)&&this._restoreEdge(l[I]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0,n=void 0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(n=this.body.nodes[t]))return[];e.push(n.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(n=this.body.nodes[t])?[]:(e.push(n.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++){this.body.edges[i[n]].setOptions(e)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],o=0;e.length>0&&o<100;){var s=e.pop();if(void 0!==s){var r=this.body.edges[s];if(void 0!==r){o++;var a=r.clusteringEdgeReplacingIds;if(void 0===a)n.push(s);else for(var l=0;l<a.length;++l){var h=a[l];-1===e.indexOf(a)&&-1===i.indexOf(a)&&e.push(h)}i.push(s)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>n&&(n=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i,e/=i;var r=e-Math.pow(t,2),a=Math.sqrt(r),l=Math.floor(t+2*a);return l>n&&(l=n),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,o){var s=p.cloneOptions(i,"edge");c.deepExtend(s,n),s.from=t,s.to=e,s.id="clusterEdge:"+c.randomUUID(),void 0!==o&&c.deepExtend(s,o);var r=this.body.functions.createEdge(s);return r.clusteringEdgeReplacingIds=[i.id],r.connect(),this.body.edges[r.id]=r,r}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof m){var o=e,s={};s[o.id]=o,e=s}if(t instanceof g){var r=t,a={};a[r.id]=r,t=a}if(void 0===i||null===i)throw new Error("_clusterEdges: parameter clusterNode required");void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n);for(var l in e)if(e.hasOwnProperty(l)&&void 0!==this.body.edges[l]){var h=this.body.edges[l];this._backupEdgeOptions(h),h.setOptions({physics:!1})}for(var d in t)t.hasOwnProperty(d)&&(this.clusteredNodes[d]={clusterId:i.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return c.forEach(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t=this,e=void 0,i=[],n=[],o=function(e){c.forEach(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(e)){var r=this.body.nodes[e];void 0===r&&i.push(e)}o(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var a=0;a<i.length;a++)delete this.clusteredNodes[i[a]];c.forEach(this.clusteredEdges,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()||n.push(e)}),o(function(t){c.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==n.indexOf(e)||n.push(e)})}),c.forEach(this.body.edges,function(e,i){var o=!0,s=e.clusteringEdgeReplacingIds;if(void 0!==s){var r=0;c.forEach(s,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()&&(r+=1)}),o=r>0}e.endPointsValid()&&o||n.push(i)}),o(function(e){c.forEach(n,function(i){delete e.containedEdges[i],c.forEach(e.edges,function(o,s){if(o.id===i)return void(e.edges[s]=null);o.clusteringEdgeReplacingIds=t._filter(o.clusteringEdgeReplacingIds,function(t){return-1===n.indexOf(t)})}),e.edges=t._filter(e.edges,function(t){return null!==t})})}),c.forEach(n,function(e){delete t.clusteredEdges[e]}),c.forEach(n,function(e){delete t.body.edges[e]});var l=(0,s.default)(this.body.edges);c.forEach(l,function(e){var i=t.body.edges[e],n=t._isClusteredNode(i.fromId)||t._isClusteredNode(i.toId);if(n!==t._isClusteredEdge(i.id)){if(!n)throw new Error("remove edge from clustering not implemented!");var o=t._getClusterNodeForNode(i.fromId);void 0!==o&&t._clusterEdges(t.body.nodes[i.fromId],i,o);var s=t._getClusterNodeForNode(i.toId);void 0!==s&&t._clusterEdges(t.body.nodes[i.toId],i,s)}});for(var h=!1,d=!0;d;)!function(){var e=[];o(function(t){var i=(0,s.default)(t.containedNodes).length,n=!0===t.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&e.push(t.id)});for(var i=0;i<e.length;++i)t.openCluster(e[i],{},!1);d=e.length>0,h=h||d}();h&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e.default=v},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(4),u=n(d),c=i(5),p=n(c),f=i(2),m=i(47).default,g=function(t){function e(t,i,n,o,r,l){(0,a.default)(this,e);var h=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,i,n,o,r,l));return h.isCluster=!0,h.containedNodes={},h.containedEdges={},h}return(0,p.default)(e,t),(0,h.default)(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],f.forEach(i.edges,function(t){delete e.containedEdges[t.id]}),f.forEach(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},f.forEach(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},f.forEach(i.edges,function(t){f.forEach(e.edges,function(i){var n=i.clusteringEdgeReplacingIds.indexOf(t.id);-1!==n&&(f.forEach(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(n,1))})}),i.edges=[]}}]),e}(m);e.default=g},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}function o(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),r=n(s),a=i(1),l=n(a),h=i(2),d=function(){function t(e,i){(0,r.default)(this,t),o(),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},h.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,l.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];h.selectiveDeepExtend(e,this.options,t)}}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i=void 0,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var n in e)e.hasOwnProperty(n)&&(i=e[n],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,n=this.body.nodeIndices,o=void 0,s=[],r=this.canvas.DOMtoCanvas({x:-20,y:-20}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),l={top:r.y,left:r.x,bottom:a.y,right:a.x},h=0;h<n.length;h++)o=i[n[h]],o.isSelected()?s.push(n[h]):!0===e?o.draw(t):!0===o.isBoundingBoxOverlappingWith(l)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var d=0;d<s.length;d++)o=i[s[d]],o.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)n=e[i[o]],!0===n.connected&&n.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(10),h=i(37),d=i(2),u=function(){function t(e){(0,s.default)(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},d.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var i=["width","height","autoResize"];d.selectiveDeepExtend(i,this.options,t)}!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),d.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),d.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new l(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:l.DIRECTION_ALL}),h.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new l(this.frame),h.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(s),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var r=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===r&&this.frame.canvas.height===a||this._getCameraState(s),this.frame.canvas.width!==r&&(this.frame.canvas.width=r,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=i(76).default,d=function(){function t(e,i){var n=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,a.default)(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var o=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var r=this.body.nodes[s];!0===r.predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=h.getRange(this.body.nodes,t.nodes);n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;n*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=h.getRange(this.body.nodes,t.nodes);var a=1.1*Math.abs(i.maxX-i.minX),l=1.1*Math.abs(i.maxY-i.minY),d=this.canvas.frame.canvas.clientWidth/a,u=this.canvas.frame.canvas.clientHeight/l;n=d<=u?d:u}n>1?n=1:0===n&&(n=1);var c=h.findCenter(i),p={position:c,scale:n,animation:t.animation};this.moveTo(p)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0===t)return void(t={});void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=l.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=d},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(2),h=i(233).default,d=i(104).default,u=function(){function t(e,i,n){(0,s.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new h(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(e,this.options,t),l.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(l.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=l.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),o=!1;o=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var s=this.selectionHandler.getSelection(),r=this._determineDifference(n,s),a=this._determineDifference(s,n);r.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),o=!0),r.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),o=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),o=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),o=!0),
!0===o&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var o=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;n.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var r=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+r,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=t/i,r=(1-s)*e.x+o.x*s,a=(1-s)*e.y+o.y*s;if(this.body.view.scale=t,this.body.view.translation={x:r,y:a},void 0!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,n=e/10;e<0&&(n/=1-n),i*=1+n;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,r="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,h=void 0,u=[],c=0;c<a.length;c++)h=l[a[c]],!0===h.isOverlappingWith(n)&&void 0!==h.getTitle()&&u.push(a[c]);u.length>0&&(this.popupObj=l[u[u.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var p=this.body.edgeIndices,f=this.body.edges,m=void 0,g=[],v=0;v<p.length;v++)m=f[p[v]],!0===m.isOverlappingWith(n)&&!0===m.connected&&void 0!==m.getTitle()&&g.push(p[v]);g.length>0&&(this.popupObj=f[g[g.length-1]],r="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new d(this.canvas.frame)),this.popup.popupTargetType=r,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(10),h=i(37),d=i(35),u=function(){function t(e,i){var n=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return(0,a.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var o=new l(this.navigationDOM[e[n]]);"_fit"===i[n]?h.onTouch(o,this._fit.bind(this)):h.onTouch(o,this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(o)}var s=new l(this.canvas.frame);h.onRelease(s,function(){t._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=d({container:window,preventDefault:!0}):this.keycharm=d({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=i(47).default,h=i(74).default,d=i(2),u=function(){function t(e,i){var n=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},d.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return(0,a.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];d.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(e,i);if(!0===o)s.nodes=[],s.edges=[];else{var r=this.getSelection();s.nodes=r.nodes,s.edges=r.edges}void 0!==n&&(s.previousSelection=n),"click"==t&&(s.items=this.getClickedItems(i)),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof l&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,o=null,s=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var a=this.body.edgeIndices[r],l=s[a];if(l.connected){var h=l.from.x,d=l.from.y,u=l.to.x,c=l.to.y,p=l.edgeType.getDistanceToEdge(h,d,u,c,i.x,i.y);p<n&&(o=a,n=p)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(t){t instanceof l?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof l?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof l?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof l?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof l?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===i||i instanceof l&&i.id!=o||i instanceof h)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var s in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(s)&&(!0===n?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof h&&i.id!=s||i instanceof l&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));void 0!==i&&(n=n||this.emitHoverEvent(t,e,i),i instanceof l&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,n=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){n=t.nodes[i];var o=this.body.nodes[n];if(!o)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(o,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){n=t.edges[i];var s=this.body.edges[n];if(!s)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,o=this.body.nodes,s=n.length-1;s>=0;s--){var r=o[n[s]],a=r.getItemsOnPoint(e);i.push.apply(i,a)}for(var l=this.body.edgeIndices,h=this.body.edges,d=l.length-1;d>=0;d--){var u=h[l[d]],c=u.getItemsOnPoint(e);i.push.apply(i,c)}return i}}]),t}();e.default=u},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),s=n(o),r=i(6),a=n(r),l=i(8),h=n(l),d=i(0),u=n(d),c=i(1),p=n(c),f=i(2),m=i(76).default,g=i(236),v=g.HorizontalStrategy,y=g.VerticalStrategy,b=function(){function t(){(0,u.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,p.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var o=e.levels[n];if(e.childrenReference[n]){var s=e.childrenReference[n];if(s.length>0)for(var r=0;r<s.length;r++)o=Math.max(o,t(s[r]))}return i[n]=o,o}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,o=1e9,s=-1e9;for(var r in this.trees)if(this.trees.hasOwnProperty(r)&&this.trees[r]===e){var a=t[r];i=Math.min(a.x,i),n=Math.max(a.x,n),o=Math.min(a.y,o),s=Math.max(a.y,s)}return{min_x:i,max_x:n,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var o=0;o<i.length;o++)for(var s=0;s<n.length;s++)if(i[o]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,h.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var o in n)if(n[o]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),_=function(){function t(e){(0,u.default)(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},f.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,p.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(f.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),f.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),f.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,a.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],o=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++){!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1)}if(e<.5*t.length){var n=0,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>150){for(var s=t.length;t.length>150&&n<=10;){n+=1;var r=t.length;n%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);if(r==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<t.length;a++){var l=this.body.nodes[t[a]];!1===l.predefinedPosition&&(l.x+=70*(.5-this.seededRandom()),l.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=m.getRangeCore(this.body.nodes,this.body.nodeIndices),e=m.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new b;for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.hierarchical.ensureLevel(s);var r=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(r),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var o in n)n.hasOwnProperty(o)&&n[o]===e&&t.direction.shift(o,i)},o=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e},r=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var o=t.hierarchical.childrenReference[i.id];if(o.length>0)for(var s=0;s<o.length;s++)e(t.body.nodes[o[s]],n)}},a=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,o=1e9,r=1e9,a=-1e9;for(var l in e)if(e.hasOwnProperty(l)){var h=t.body.nodes[l],d=t.hierarchical.levels[h.id],u=t.direction.getPosition(h),c=t._getSpaceAroundNode(h,e),p=(0,s.default)(c,2),f=p[0],m=p[1];n=Math.min(f,n),o=Math.min(m,o),d<=i&&(r=Math.min(u,r),a=Math.max(u,a))}return[r,a,n,o]},l=function(e,i){
var n=t.hierarchical.getMaxLevel(e.id),o=t.hierarchical.getMaxLevel(i.id);return Math.min(n,o)},h=function(e,i,n){for(var o=t.hierarchical,s=0;s<i.length;s++){var r=i[s],a=o.distributionOrdering[r];if(a.length>1)for(var l=0;l<a.length-1;l++){var h=a[l],d=a[l+1];o.hasSameParent(h,d)&&o.inSameSubNetwork(h,d)&&e(h,d,n)}}},d=function(i,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t.direction.getPosition(i),h=t.direction.getPosition(n),d=Math.abs(h-s),u=t.options.hierarchical.nodeSpacing;if(d>u){var c={},p={};r(i,c),r(n,p);var f=l(i,n),m=a(c,f),g=a(p,f),v=m[1],y=g[0],b=g[2];if(Math.abs(v-y)>u){var _=v-y+u;_<-b+u&&(_=-b+u),_<0&&(t._shiftBlock(n.id,_),e=!0,!0===o&&t._centerParent(n))}}},u=function(n,o){for(var l=o.id,h=o.edges,d=t.hierarchical.levels[o.id],u=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},p=[],f=0;f<h.length;f++){var m=h[f];if(m.toId!=m.fromId){var g=m.toId==l?m.from:m.to;c[h[f].id]=g,t.hierarchical.levels[g.id]<d&&p.push(m)}}var v=function(e,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==c[i[o].id]){var s=t.direction.getPosition(c[i[o].id])-e;n+=s/Math.sqrt(s*s+u)}return n},y=function(e,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==c[i[o].id]){var s=t.direction.getPosition(c[i[o].id])-e;n-=u*Math.pow(s*s+u,-1.5)}return n},b=function(e,i){for(var n=t.direction.getPosition(o),s={},r=0;r<e;r++){var a=v(n,i),l=y(n,i);if(n-=Math.max(-40,Math.min(40,Math.round(a/l))),void 0!==s[n])break;s[n]=r}return n},_=b(n,p);!function(n){var s=t.direction.getPosition(o);if(void 0===i[o.id]){var l={};r(o,l),i[o.id]=l}var h=a(i[o.id]),d=h[2],u=h[3],c=n-s,p=0;c>0?p=Math.min(c,u-t.options.hierarchical.nodeSpacing):c<0&&(p=-Math.min(-c,d-t.options.hierarchical.nodeSpacing)),0!=p&&(t._shiftBlock(o.id,p),e=!0)}(_),_=b(n,h),function(i){var n=t.direction.getPosition(o),r=t._getSpaceAroundNode(o),a=(0,s.default)(r,2),l=a[0],h=a[1],d=i-n,u=n;d>0?u=Math.min(n+(h-t.options.hierarchical.nodeSpacing),i):d<0&&(u=Math.max(n-(l-t.options.hierarchical.nodeSpacing),i)),u!==n&&(t.direction.setPosition(o,u),e=!0)}(_)};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var o=0;o<i&&(e=!1,h(d,n,!0),!0===e);o++);}(5),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var o=0;o<i;o++){e=!1;for(var s=0;s<n.length;s++)for(var r=n[s],a=t.hierarchical.distributionOrdering[r],l=0;l<a.length;l++)u(1e3,a[l]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var n=e[i],o=t.hierarchical.distributionOrdering[n],s=0;s<o.length;s++)t._centerParent(o[s])}(),function(){for(var e=o(),i=0,s=0;s<e.length-1;s++){i+=e[s].max-e[s+1].min+t.options.hierarchical.treeSpacing,n(s+1,i)}}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var o=this.hierarchical.distributionIndex[t.id],s=this.direction.getPosition(t),r=this.hierarchical.distributionOrdering[n],a=1e9,l=1e9;if(0!==o){var h=r[o-1];if(!0===i&&void 0===e[h.id]||!1===i){a=s-this.direction.getPosition(h)}}if(o!=r.length-1){var d=r[o+1];if(!0===i&&void 0===e[d.id]||!1===i){var u=this.direction.getPosition(d);l=Math.min(l,u-s)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],o=this.body.nodes[n],r=this.hierarchical.childrenReference[n];if(void 0!==r){var a=this._getCenterPosition(r),l=this.direction.getPosition(o),h=this._getSpaceAroundNode(o),d=(0,s.default)(h,2),u=d[0],c=d[1],p=l-a;(p<0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){this.positionedNodes={};for(var e in t)if(t.hasOwnProperty(e)){var i=(0,h.default)(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var n=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var r=this.options.hierarchical.nodeSpacing,a=r*n;n>0&&(a=this.direction.getPosition(i[o-1])+r),this.direction.setPosition(s,a,e),this._validatePositionAndContinue(s,e,a),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var n=[],o=0;o<i.length;o++)n.push(this.body.nodes[i[o]]);this.direction.sort(n);for(var s=0;s<n.length;s++){var r=n[s],a=this.hierarchical.levels[r.id];if(!(a>e&&void 0===this.positionedNodes[r.id]))return;var l=this.options.hierarchical.nodeSpacing,h=void 0;h=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[s-1])+l,this.direction.setPosition(r,h,a),this._validatePositionAndContinue(r,a,h)}var d=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],d,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return f.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={},i=this.body.nodeIndices;f.forEach(i,function(i){var n=t.body.nodes[i],o=t._getActiveEdges(n).length;e[o]=!0});var n=[];return f.forEach(e,function(t){n.push(Number(t))}),n.sort(function(t,e){return e-t}),n}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=0;n<i.length;++n){if("break"===function(n){var o=i[n];if(0===o)return"break";f.forEach(t.body.nodeIndices,function(i){var n=t.body.nodes[i];o===t._getActiveEdges(n).length&&t._crawlNetwork(e,i)})}(n))break}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=function(e,i,n){var o=t.hierarchical.levels[e.id];void 0===o&&(o=t.hierarchical.levels[e.id]=1e5);var s=(m.cloneOptions(e,"node"),m.cloneOptions(i,"node"),void m.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=o+s};this._crawlNetwork(e),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this,e=function(e){return f.forEach(t.body.edges,function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0}),!1},i=function(i,n,o){var s=t.hierarchical.levels[i.id],r=t.hierarchical.levels[n.id];e(o)&&void 0!==s&&void 0!==r||(void 0===s&&(s=t.hierarchical.levels[i.id]=1e4),o.toId==n.id?t.hierarchical.levels[n.id]=s+1:t.hierarchical.levels[n.id]=s-1)};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this,e=function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],n={},o=function i(o,s){if(void 0===n[o.id]){t.hierarchical.setTreeIndex(o,s),n[o.id]=!0;for(var r=void 0,a=t._getActiveEdges(o),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&(r=h.toId==o.id?h.from:h.to,o.id!=r.id&&(e(o,r,h),i(r,s)))}}};if(void 0===i)for(var s=0,r=0;r<this.body.nodeIndices.length;r++){var a=this.body.nodeIndices[r];if(void 0===n[a]){var l=this.body.nodes[a];o(l,s),s+=1}}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);o(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(o){if(!n[o]){n[o]=!0,i.direction.shift(o,e);var s=i.hierarchical.childrenReference[o];if(void 0!==s)for(var r=0;r<s.length;r++)t(s[r])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var s=0;s<o.length;s++){var r=o[s];e[r]=!0,t(e,r)}}(n,t),function t(e,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var s=0;s<o.length;s++){var r=o[s];if(void 0!==e[r])return{foundParent:r,withChild:n};var a=t(e,r);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new y(this):new v(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var o=void 0;if(void 0!==t[n].id)o=t[n];else{var s=t[n];o=this.body.nodes[s]}var r=this.direction.getPosition(o);e=Math.min(e,r),i=Math.max(i,r)}return.5*(e+i)}}]),t}();e.default=_},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var o=i(3),s=n(o),r=i(4),a=n(r),l=i(5),h=n(l),d=i(0),u=n(d),c=i(1),p=n(c),f=function(){function t(){(0,u.default)(this,t)}return(0,p.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),m=function(t){function e(t){(0,u.default)(this,e);var i=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this));return i.layout=t,i}return(0,h.default)(e,t),(0,p.default)(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(f),g=function(t){function e(t){(0,u.default)(this,e);var i=(0,a.default)(this,(e.__proto__||(0,s.default)(e)).call(this));return i.layout=t,i}return(0,h.default)(e,t),(0,p.default)(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(f);e.HorizontalStrategy=g,e.VerticalStrategy=m},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=n(o),r=i(19),a=n(r),l=i(6),h=n(l),d=i(0),u=n(d),c=i(1),p=n(c),f=i(2),m=i(10),g=i(37),v=function(){function t(e,i,n){var o=this;(0,u.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},f.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,p.default)(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,f.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,n=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(n)),1===t&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(n)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(n)),0!==i&&(t>0&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(n)):0===t&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=f.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"===(0,h.default)(this.options.editEdge)&&"function"==typeof this.options.editEdge.editWithoutDrag&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId)){var t=this.body.edges[this.edgeBeingEditedId];return void this._performEditEdge(t.from,t.to)}if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var i=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(i.from.x,i.from.y),o=this._getNewTargetNode(i.to.x,i.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(o.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var e=i.edgeType.findBorderPositions(t);!1===n.selected&&(n.x=e.from.x,n.y=e.from.y),!1===o.selected&&(o.x=e.to.x,o.y=e.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var o=0;o<e.length;o++)if(!0===this.body.nodes[e[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var s={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(s,function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=f.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+f.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},f.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(f.recursiveDOMDelete(this.editModeDiv),f.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),f.recursiveDOMDelete(this.manipulationDiv),f.recursiveDOMDelete(this.editModeDiv),f.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e;e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var i=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,a.default)((0,s.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new m(t,{});g.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=f.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=n.isOverlappingWith(i),a=o.isOverlappingWith(i);!0===r?(this.selectedControlNode=n,s.edgeType.from=n):!0===a&&(this.selectedControlNode=o,s.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=o.length-1;r>=0;r--)if(o[r]!==this.selectedControlNode.id){s=this.body.nodes[o[r]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(!0===s.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=f.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+f.randomUUID(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=o.length-1;r>=0;r--)if(-1===this.temporaryIds.nodes.indexOf(o[r])){s=this.body.nodes[o[r]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(n,s.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:f.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){
if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,h.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=v},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),s=n(o),r=i(0),a=n(r),l=i(1),h=n(l),d=i(239),u=n(d),c=function(){function t(e,i,n){(0,a.default)(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new u.default}return(0,h.default)(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var o=0,r=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,l=0,h=0,d=0,u=0,c=0;a>.01&&o<r;){o+=1;var p=this._getHighestEnergyNode(i),f=(0,s.default)(p,4);for(l=f[0],a=f[1],h=f[2],d=f[3],u=a,c=0;u>1&&c<5;){c+=1,this._moveNode(l,h,d);var m=this._getEnergy(l),g=(0,s.default)(m,3);u=g[0],h=g[1],d=g[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,o=e[0],r=0,a=0,l=0;l<e.length;l++){var h=e[l];if(!1===i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0===i[h].options.fixed.x||!0===i[h].options.fixed.y){var d=this._getEnergy(h),u=(0,s.default)(d,3),c=u[0],p=u[1],f=u[2];n<c&&(n=c,o=h,r=p,a=f)}}return[o,n,r,a]}},{key:"_getEnergy",value:function(t){var e=(0,s.default)(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,o=this.body.nodes,s=0,r=0,a=0,l=o[t].x,h=o[t].y,d=this.K_matrix[t],u=this.L_matrix[t],c=0;c<n.length;c++){var p=n[c];if(p!==t){var f=o[p].x,m=o[p].y,g=d[p],v=u[p],y=1/Math.pow(Math.pow(l-f,2)+Math.pow(h-m,2),1.5);s+=g*(1-v*Math.pow(h-m,2)*y),r+=g*(v*(l-f)*(h-m)*y),a+=g*(1-v*Math.pow(l-f,2)*y)}}var b=s,_=r,w=e,x=a,S=i,C=(w/b+S/_)/(_/b-x/_),D=-(_*C+w)/b;o[t].x+=D,o[t].y+=C,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*Math.pow(t[e[n]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var o=t[n],s=e[o].x,r=e[o].y,a=0,l=0,h=n;h<t.length;h++){var d=t[h];if(d!==o){var u=e[d].x,c=e[d].y,p=1/Math.sqrt(Math.pow(s-u,2)+Math.pow(r-c,2));this.E_matrix[o][h]=[this.K_matrix[o][d]*(s-u-this.L_matrix[o][d]*(s-u)*p),this.K_matrix[o][d]*(r-c-this.L_matrix[o][d]*(r-c)*p)],this.E_matrix[d][n]=this.E_matrix[o][h],a+=this.E_matrix[o][h][0],l+=this.E_matrix[o][h][1]}}this.E_sums[o]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],s=this.L_matrix[t],r=i[t].x,a=i[t].y,l=0,h=0,d=0;d<e.length;d++){var u=e[d];if(u!==t){var c=n[d],p=c[0],f=c[1],m=i[u].x,g=i[u].y,v=1/Math.sqrt(Math.pow(r-m,2)+Math.pow(a-g,2)),y=o[u]*(r-m-s[u]*(r-m)*v),b=o[u]*(a-g-s[u]*(a-g)*v);n[d]=[y,b],l+=y,h+=b;var _=this.E_sums[u];_[0]+=y-p,_[1]+=b-f}}this.E_sums[t]=[l,h]}}]),t}();e.default=c},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=n(o),r=i(1),a=n(r),l=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,[{key:"getDistances",value:function(t,e,i){for(var n={},o=t.edges,s=0;s<e.length;s++){var r=e[s],a={};n[r]=a;for(var l=0;l<e.length;l++)a[e[l]]=s==l?0:1e9}for(var h=0;h<i.length;h++){var d=o[i[h]];!0===d.connected&&void 0!==n[d.fromId]&&void 0!==n[d.toId]&&(n[d.fromId][d.toId]=1,n[d.toId][d.fromId]=1)}for(var u=e.length,c=0;c<u;c++)for(var p=e[c],f=n[p],m=0;m<u-1;m++)for(var g=e[m],v=n[g],y=m+1;y<u;y++){var b=e[y],_=n[b],w=Math.min(v[b],v[p]+f[b]);v[b]=w,_[g]=w}return n}}]),t}();e.default=l}])}),define("expressions",["rest","clientselect","vis","rowDetails","datatables.net"],function(t,e,i,n){"use strict";function o(t){var e=$("<table/>",{id:"expressionTable",class:"stripe order-column row-border"}),i=$("<thead/>").appendTo(e),n=$("<tr/>").appendTo(i);return t.forEach(function(t){$("<th/>",{html:t}).appendTo(n)}),e}function s(){x=$("#expressionTable").DataTable({autoWidth:!1,data:S,paging:!1,info:!1,scrollY:"auto",scrollCollapse:!0,order:[[2,"desc"]],orderFixed:[6,"asc"],rowGroup:{startRender:function(t,e){return e+" ("+t.count()+")"},dataSrc:"scopeId"},columns:[{data:null,width:"10px"},{data:null,defaultContent:"",className:"details-control",width:"20px"},{data:"name",width:"190px"},{data:"dataType",width:"90px"},{data:"operationCompact",width:"450px",render:function(t,e,i){return"display"!==e?t:r(i)}},{data:"result",defaultContent:"null",width:"190px",render:$.fn.dataTable.render.text()},{data:"scopeId",visible:!1,defaultContent:""}],columnDefs:[{targets:[0,1],orderable:!1,searchable:!1},{targets:[2,3,4,5],className:"dt-left"}]}),x.on("order.dt search.dt",function(){x.column(0,{search:"applied",order:"applied"}).nodes().each(function(t,e){t.innerHTML=e+1})}).draw(),x.on("search.dt",function(){sessionStorage.setItem(C,x.search())})}function r(t){var e=a(t.operation),i=$("<div>").text(t.operationCompact).html();i=l(i,t.operands,e),i=h(i);var n=$("<code />",{html:i});return(t.hasError||void 0===t.result)&&(n.addClass("errorExpression"),n.attr("title","Expression has error")),n.get(0).outerHTML}function a(t){var e={};for(var i in t)t.hasOwnProperty(i)&&("variableOperand"===i?e[t[i].name]=t[i].value:$.extend(e,a(t[i])));return e}function l(t,e,i){return e.forEach(function(e){var n=$("<span />",{text:e.name,title:i[e.name]+" ["+e.dataType+"]",class:"operationVariable"});t=t.replace(new RegExp(e.name,"g"),n.get(0).outerHTML)}),t}function h(t){return t.replace(/MOD|AND|OR|XOR|NOT/g,function(t){return $("<span />",{class:"operationKeyWord",text:t}).get(0).outerHTML})}function d(t){return t.nodes.reduce(function(t,e){return Math.max(t,e.level)},0)}function u(t){var e={nodes:[],edges:[]};return k=0,O=1,{rootNode:c(t,e),net:e}}function c(t,e){var i=Object.keys(t)[0];if(p(t[i])){var n=m(i);1===k&&e.nodes.push(n);var o=c(t[i][0],e),s={from:o.id,to:n.id,label:f(o)};if(e.nodes.push(o),e.edges.push(s),t[i].length>1){var r=c(t[i][1],e),a={from:r.id,to:n.id,label:f(r)};e.nodes.push(r),e.edges.push(a)}return--O,n}return g(t[i])}function p(t){return Array.isArray(t)}function f(t){return t.title?y(t.title,8):t.title}function m(t){return{id:k++,label:y(t,E),level:O++,color:{background:"#AAFF80"}}}function g(t){var e,i=t.name||t.value.toString(),n="#FFFFA0";return v(t)&&(e=t.value.toString(),n="rgb(151, 194, 252)"),{id:k++,label:y(i,E),title:e,level:O,color:{background:n}}}function v(t){return void 0!==t.name}function y(t,e){return t.length>e?t.substr(0,e-1)+"...":t}function b(t){$("div.dataTables_scrollBody").height(t.height()-115+"px")}function _(t){var e=[],i=t.visusCollection.visualisations;return $.each(i,function(t,i){$.each(i.contents.scopes,function(t,i){var n=i.contents["br.xv.xiexpressioncollection.iid"];n&&n.length>0&&(e=e.concat(w(t,n)))})}),e}function w(t,e){return e.map(function(e){return e.scopeId=t,e})}var x,S,C="expressionSearchFilter",D=function(t){var e=t.name+"Network";return $("<div />",{id:e})},T=function(t,e){var n=u(e.operation),o=62*d(n.net);t.css("height",o+"px");var s={id:-1,label:e.result.toString(),level:0};n.net.nodes.push(s),n.net.edges.push({from:n.rootNode.id,to:s.id});var r={edges:{arrows:"to",chosen:!1,font:{align:"middle"}},nodes:{chosen:!1,font:{size:12},shape:"box",shadow:!0},layout:{improvedLayout:!0,hierarchical:{direction:"RL",nodeSpacing:50,treeSpacing:0}},interaction:{dragNodes:!1,dragView:!1,hoverConnectedEdges:!1,zoomView:!1,selectable:!1},physics:!1};new i.Network(t.get(0),n.net,r)},k=0,O=1,E=16;return{id:"expressions",pageName:"Expressions",data:function(){var t=$("<div/>").css("width","1250px");return $("<select/>",{id:"clientSelect",class:"clientSelect"}).appendTo(t),o(["","<div class='collapse-all' title='Collapse all' />","Name","Datatype","Operation","Result"]).appendTo(t),t}(),load:function(i){$.fn.dataTable.isDataTable("#expressionTable")||s(),e.init("clientSelect"),$("#expressionTable_wrapper").prepend(e.getElement()),e.change(function(e){$.when(t.getServerInfo("getExpressions",{clientId:e})).then(function(t){try{S=JSON.parse(t)}catch(t){return console.log("Error in clients JSON: "+t.message),void x.clear()}S=_(S),x.clear().rows.add(S).draw(),n.init({datatable:x,nameRowIndex:3,idKey:"name",render:D,rowExpanded:T}),b(i),$(window).resize(function(){b(i)})});var o=sessionStorage.getItem(C);o&&x.search(o)})}}}),define("eventActionsFilter",[],function(){"use strict";function t(t,i){if(!e(t))return!1;if(void 0!==t.action||void 0!==t.end)return!0;var n=o(i-1,d,t);return n?(r(n,t),!1):!(n=o(u.length-1,u,t))||(r(t,n),c.push(t),!1)}function e(t){var e=t.type.substr(0,t.type.indexOf("."))+t.type.substr(t.type.lastIndexOf("."));return(!t.event||!i(e))&&(!t.action||!n(e))}function i(t){return f.eventTypes.length>0&&-1===f.eventTypes.indexOf(t)}function n(t){return f.actionTypes.length>0&&-1===f.actionTypes.indexOf(t)}function o(t,e,i){for(var n=t;n>=0;n--)if(s(i,e[n]))return e[n];return!1}function s(t,e){return e.type===t.type&&e.name===t.name&&e.refId===t.refId&&Math.abs(t.start-e.start)<=10&&JSON.stringify(e.eventArgs)===JSON.stringify(t.eventArgs)}function r(t,e){t.eventId=t.eventId.concat(e.eventId),t.eventBindingId=t.eventBindingId.concat(e.eventBindingId)}function a(){sessionStorage.setItem(p,JSON.stringify(f))}function l(){$.extend(f,JSON.parse(sessionStorage.getItem(p)))}function h(t,e){return-1!==t.indexOf(e,t.length-e.length)}var d=[],u=[],c=[],p="eventActionsFilter",f={eventTypes:[],actionTypes:[]},m=!1;return{init:function(){d=[],u=[],f.eventTypes=[],f.actionTypes=[],m=!1,l()},filter:function(e){c=[],d=e;for(var i=[],n=d.length-1;n>=0;n--)t(d[n],n)&&i.push(d[n]);return i.reverse(),u=d.slice(),i},getRemovedEvents:function(){return c},isActive:function(){return m},filterSingle:function(t){return e(t)},addType:function(t){var e=h(t,"Event")?f.eventTypes:f.actionTypes;-1===e.indexOf(t)&&(m=!0,e.push(t),a())},removeType:function(t){var e=h(t,"Event")?f.eventTypes:f.actionTypes,i=e.indexOf(t);-1!==i&&(e.splice(i,1),a(),m=0!==f.eventTypes.length||0!==f.actionTypes.length)},getTypes:function(){return f.eventTypes.concat(f.actionTypes)}}}),function(t){function e(t,e,i){return Array(e-t.toString().length+1).join(i||" ")+t.toString()}function i(e){var i=t(e).parents(".divTimeSetterContainer");l(i),h=t(e).data("unit"),t.fn.settings.inputHourTextbox=i.find("#txtHours"),t.fn.settings.inputMinuteTextbox=i.find("#txtMinutes"),t.fn.settings.inputSecondsTextbox=i.find("#txtSeconds"),a(i,t.fn.settings)}function n(i){var n=t(i).parents(".divTimeSetterContainer");if(l(n),t.fn.settings.inputHourTextbox=n.find("#txtHours"),t.fn.settings.inputMinuteTextbox=n.find("#txtMinutes"),t.fn.settings.inputSecondTextbox=n.find("#txtSeconds"),t.fn.settings.hour.value=parseInt(t.fn.settings.inputHourTextbox.val()),t.fn.settings.minute.value=parseInt(t.fn.settings.inputMinuteTextbox.val()),t.fn.settings.second.value=parseInt(t.fn.settings.inputSecondTextbox.val()),t.fn.settings.direction=t(i).data("direction"),isNaN(t.fn.settings.hour.value)&&(t.fn.settings.hour.value=t.fn.settings.hour.min),isNaN(t.fn.settings.minute.value)&&(t.fn.settings.minute.value=t.fn.settings.minute.min),isNaN(t.fn.settings.second.value)&&(t.fn.settings.second.value=t.fn.settings.second.min),"hours"===h){var o=parseInt(t(t.fn.settings.inputHourTextbox).val().trim()),s=0;"decrement"===t.fn.settings.direction?(s=o-t.fn.settings.hour.step,s%t.fn.settings.hour.step>0&&(s-=s%t.fn.settings.hour.step),s<=t.fn.settings.hour.min&&(s=t.fn.settings.hour.min)):"increment"===t.fn.settings.direction&&(s=o+t.fn.settings.hour.step,s%t.fn.settings.hour.step>0&&(s-=s%t.fn.settings.hour.step),s>=t.fn.settings.hour.max&&(s=t.fn.settings.hour.max-t.fn.settings.hour.step)),t(t.fn.settings.inputHourTextbox).val(e(s.toString(),r(t.fn.settings.hour),t.fn.settings.numberPaddingChar)),t(n).attr("data-hourvalue",s),t(n).attr("data-minutevalue",u),t(t.fn.settings.inputHourTextbox).trigger("change").select()}else if("minutes"===h){var o=t.fn.settings.hour.value,s=o,d=t.fn.settings.minute.value,u=d;"decrement"===t.fn.settings.direction?(u=d-t.fn.settings.minute.step,u%t.fn.settings.minute.step>0&&(u-=u%t.fn.settings.minute.step),s<=t.fn.settings.hour.min&&d<=t.fn.settings.minute.min&&(s=t.fn.settings.hour.min,u=t.fn.settings.minute.min)):"increment"===t.fn.settings.direction&&(u=d+t.fn.settings.minute.step,u%t.fn.settings.minute.step>0&&(u-=u%t.fn.settings.minute.step),s>=t.fn.settings.hour.max-t.fn.settings.hour.step&&d>=t.fn.settings.minute.max-t.fn.settings.minute.step&&(s=t.fn.settings.hour.max-t.fn.settings.hour.step,u=t.fn.settings.minute.max-t.fn.settings.minute.step)),u>=t.fn.settings.minute.max&&s!=t.fn.settings.hour.max&&u?(u=t.fn.settings.minute.min,s=o+t.fn.settings.hour.step):u<t.fn.settings.minute.min&&o>=t.fn.settings.hour.step?(u=t.fn.settings.minute.max-t.fn.settings.minute.step,s=o-t.fn.settings.hour.step):u<t.fn.settings.minute.min&&o<t.fn.settings.hour.step&&(u=t.fn.settings.minute.min,s=t.fn.settings.hour.min),t(t.fn.settings.inputHourTextbox).val(e(s.toString(),r(t.fn.settings.hour),t.fn.settings.numberPaddingChar)),t(t.fn.settings.inputMinuteTextbox).val(e(u.toString(),r(t.fn.settings.minute),t.fn.settings.numberPaddingChar)),t(n).attr("data-hourvalue",s),t(n).attr("data-minutevalue",u),t(t.fn.settings.inputMinuteTextbox).trigger("change").select(),a(n,t.fn.settings)}else if("seconds"===h){var o=t.fn.settings.hour.value,s=o,d=t.fn.settings.minute.value,u=d,c=t.fn.settings.second.value,p=c;"decrement"===t.fn.settings.direction?(p=c-t.fn.settings.second.step,p%t.fn.settings.second.step>0&&(p-=p%t.fn.settings.second.step),u<=t.fn.settings.minute.min&&c<=t.fn.settings.second.min&&(u=t.fn.settings.minute.min,p=t.fn.settings.second.min),s<=t.fn.settings.hour.min&&d<=t.fn.settings.minute.min&&(s=t.fn.settings.hour.min,u=t.fn.settings.minute.min)):"increment"===t.fn.settings.direction&&(p=c+t.fn.settings.second.step,p%t.fn.settings.minute.step>0&&(p-=p%t.fn.settings.second.step),u>=t.fn.settings.minute.max-t.fn.settings.minute.step&&c>=t.fn.settings.second.max-t.fn.settings.second.step&&(u=t.fn.settings.minute.max-t.fn.settings.minute.step,p=t.fn.settings.second.max-t.fn.settings.second.step),s>=t.fn.settings.hour.max-t.fn.settings.hour.step&&d>=t.fn.settings.minute.max-t.fn.settings.minute.step&&(s=t.fn.settings.hour.max-t.fn.settings.hour.step,u=t.fn.settings.minute.max-t.fn.settings.minute.step)),p>=t.fn.settings.second.max&&u!=t.fn.settings.minute.max&&p?(p=t.fn.settings.second.min,u=d+t.fn.settings.minute.step):p<t.fn.settings.second.min&&d>=t.fn.settings.minute.step?(p=t.fn.settings.second.max-t.fn.settings.second.step,u=d-t.fn.settings.minute.step):p<t.fn.settings.second.min&&d<t.fn.settings.minute.step&&(p=t.fn.settings.second.min,u=t.fn.settings.minute.min),u>=t.fn.settings.minute.max&&s!=t.fn.settings.hour.max&&u?(u=t.fn.settings.minute.min,s=o+t.fn.settings.hour.step):u<t.fn.settings.minute.min&&o>=t.fn.settings.hour.step?(u=t.fn.settings.minute.max-t.fn.settings.minute.step,s=o-t.fn.settings.hour.step):u<t.fn.settings.minute.min&&o<t.fn.settings.hour.step&&(u=t.fn.settings.minute.min,s=t.fn.settings.hour.min),t(t.fn.settings.inputHourTextbox).val(e(s.toString(),r(t.fn.settings.hour),t.fn.settings.numberPaddingChar)),t(t.fn.settings.inputMinuteTextbox).val(e(u.toString(),r(t.fn.settings.minute),t.fn.settings.numberPaddingChar)),t(t.fn.settings.inputSecondTextbox).val(e(p.toString(),r(t.fn.settings.second),t.fn.settings.numberPaddingChar)),t(n).attr("data-hourvalue",s),t(n).attr("data-minutevalue",u),t(n).attr("data-secondvalue",p),t(t.fn.settings.inputSecondTextbox).trigger("change").select(),a(n,t.fn.settings)}}function o(e,i){var n=t(e).parents(".divTimeSetterContainer");l(n);var o=t(n).find("#btnUp"),s=t(n).find("#btnDown");switch(i.which){case 13:case 37:break;case 38:o.click();break;case 39:break;case 40:s.click();break;default:return}i.preventDefault(),a(n,t.fn.settings),t(e).select()}function s(i){var n=t(i.target);l(t(n).parents(".divTimeSetterContainer"));var o;if("hours"===h?o=t.fn.settings.hour:"minutes"===h?o=t.fn.settings.minute:"seconds"===h&&(o=t.fn.settings.second),!t.isNumeric(n.val()))return t(n).val(e(o.min.toString(),r(o),t.fn.settings.numberPaddingChar)),!1;var s=parseInt(parseFloat(n.val()));return s>=o.max?(s=o.max-o.step,t(n).val(e(s.toString(),r(o),t.fn.settings.numberPaddingChar)),!1):s<=o.min?(t(n).val(e(o.min.toString(),r(o),t.fn.settings.numberPaddingChar)),!1):e(s.toString(),r(o),t.fn.settings.numberPaddingChar)!==t(n).val()?(t(n).val(e(s.toString(),r(o),t.fn.settings.numberPaddingChar)),!1):void 0===i.originalEvent&&s%o.step>0?(s-=s%o.step,t(n).val(e(s.toString(),r(o),t.fn.settings.numberPaddingChar)),!1):(8==i.which||0==i.which||!(i.which<48||i.which>57))&&(s>=Math.pow(10,r(o))?(t(n).val(e((Math.pow(10,r(o))-1).toString(),r(o),t.fn.settings.numberPaddingChar)),!1):void 0)}function r(t){return t.max.toString().length}function a(e,i){return t.fn.settings=i?t.extend(t.fn.settings,i):t.fn.getDefaultSettings(),t(e).data("options",t.fn.settings),t.fn.settings}function l(e){var i=t(e).data("options");return t.fn.settings=i?t.extend(t.fn.settings,t(e).data("options")):t.fn.getDefaultSettings(),t.fn.settings}t.fn.timesetter=function(l){var h=t(this);1!==h.find(".divTimeSetterContainer").length&&h.html(d);var u=h.find(".divTimeSetterContainer");a(u,l);var c=u.find("#btnUp"),p=u.find("#btnDown");c.unbind("click").bind("click",function(t){n(this)}),p.unbind("click").bind("click",function(t){n(this)});var f=u.find("#txtHours"),m=u.find("#txtMinutes"),g=u.find("#txtSeconds");return f.unbind("focusin").bind("focusin",function(e){t(this).select(),i(this)}),m.unbind("focusin").bind("focusin",function(e){t(this).select(),i(this)}),g.unbind("focusin").bind("focusin",function(e){t(this).select(),i(this)}),f.unbind("keydown").bind("keydown",function(t){o(this,t)}),m.unbind("keydown").bind("keydown",function(t){o(this,t)}),g.unbind("keydown").bind("keydown",function(t){o(this,t)}),t(u).find("input[type=text]").each(function(){t(this).change(function(t){s(t)})}),0===f.val().length&&f.val(e(t.fn.settings.hour.min.toString(),r(t.fn.settings.hour),t.fn.settings.numberPaddingChar)),0===m.val().length&&m.val(e(t.fn.settings.minute.min.toString(),r(t.fn.settings.minute),t.fn.settings.numberPaddingChar)),0===g.val().length&&g.val(e(t.fn.settings.second.min.toString(),r(t.fn.settings.second),t.fn.settings.numberPaddingChar)),f.siblings("span.hourSymbol:first").text(t.fn.settings.hour.symbol),m.siblings("span.minuteSymbol:first").text(t.fn.settings.minute.symbol),g.siblings("span.secondSymbol:first").text(t.fn.settings.second.symbol),u.find(".postfix-position").text(t.fn.settings.postfixText),this},t.fn.getHoursValue=function(){var e=t(this).find(".divTimeSetterContainer"),i=t(e).find("#txtHours");return t.isNumeric(i.val())?parseInt(i.val()):t.fn.settings.hour.min},t.fn.getMinutesValue=function(){var e=t(this).find(".divTimeSetterContainer"),i=t(e).find("#txtMinutes");return t.isNumeric(i.val())?parseInt(i.val()):t.fn.settings.minute.min},t.fn.getSecondsValue=function(){var e=t(this).find(".divTimeSetterContainer"),i=t(e).find("#txtSeconds");return t.isNumeric(i.val())?parseInt(i.val()):t.fn.settings.second.min},t.fn.getTotalSeconds=function(){var e=t(this).find(".divTimeSetterContainer"),i=t(e).find("#txtHours"),n=t(e).find("#txtMinutes"),o=t(e).find("#txtSeconds"),s=0,r=0,a=0;return t.isNumeric(i.val())&&t.isNumeric(n.val())&&t.isNumeric(o.val())&&(s=parseInt(i.val()),r=parseInt(n.val()),a=parseInt(o.val())),3600*s+60*r+a},t.fn.getPostfixText=function(){return t(this).find(".divTimeSetterContainer").find(".postfix-position").text()},t.fn.setHour=function(i){var n=t(this).find(".divTimeSetterContainer");l(n);var o=t(n).find("#txtHours");return t.isNumeric(i)?o.val(i):o.val(e(t.fn.settings.hour.min.toString(),r(t.fn.settings.hour),t.fn.settings.numberPaddingChar)),h="hours",a(n,t.fn.settings),o.change(),this},t.fn.setMinute=function(i){var n=t(this).find(".divTimeSetterContainer");l(n);var o=t(n).find("#txtMinutes");return t.isNumeric(i)?o.val(i):o.val(e(t.fn.settings.minute.min.toString(),r(t.fn.settings.minute),t.fn.settings.numberPaddingChar)),h="minutes",a(n,t.fn.settings),o.change(),this},t.fn.setSecond=function(i){var n=t(this).find(".divTimeSetterContainer");l(n);var o=t(n).find("#txtSeconds");return t.isNumeric(i)?o.val(i):o.val(e(t.fn.settings.second.min.toString(),r(t.fn.settings.second),t.fn.settings.numberPaddingChar)),h="seconds",a(n,t.fn.settings),o.change(),this},t.fn.setValuesByTotalSeconds=function(i){var n=t(this).find(".divTimeSetterContainer");l(n);var o=t(n).find("#txtHours"),s=t(n).find("#txtMinutes"),d=t(n).find("#txtSeconds"),u=0,c=0,p=0;return i&&i>0&&i<86400&&(u=Math.floor(i/3600),c=Math.floor((i-3600*u)/60),p=i%60),o.val(e(u.toString(),r(t.fn.settings.hour),t.fn.settings.numberPaddingChar)),s.val(e(c.toString(),r(t.fn.settings.minute),t.fn.settings.numberPaddingChar)),d.val(e(p.toString(),r(t.fn.settings.second),t.fn.settings.numberPaddingChar)),h="seconds",a(n,t.fn.settings),this},t.fn.setPostfixText=function(e){return t(this).find(".divTimeSetterContainer").find(".postfix-position").text(e),this},t.fn.disable=function(){var e=t(this).find(".divTimeSetterContainer");return t(e).find("#txtHours, #txtMinutes, #txtSeconds").prop("disabled",!0),t(e).addClass("disabled"),this},t.fn.enable=function(){var e=t(this).find(".divTimeSetterContainer");return t(e).find("#txtHours, #txtMinutes, #txtSeconds").prop("disabled",!1),t(e).removeClass("disabled"),this},t.fn.getDefaultSettings=function(){return{hour:{value:0,min:0,max:24,step:1,symbol:"h"},minute:{value:0,min:0,max:60,step:1,symbol:"m"},second:{value:0,min:0,max:60,step:15,symbol:"s"},direction:"increment",inputHourTextbox:null,inputMinuteTextbox:null,inputSecondTextbox:null,postfixText:"",numberPaddingChar:"0"}},t.fn.settings=t.fn.getDefaultSettings();var h="seconds",d='<div class="divTimeSetterContainer"><div class="timeValueBorder"><input id="txtHours" type="text" class="timePart hours" data-unit="hours" autocomplete="off" /><span class="hourSymbol"></span><span class="timeDelimiter">:</span><input id="txtMinutes" type="text" class="timePart minutes" data-unit="minutes" autocomplete="off" /><span class="minuteSymbol"></span><span class="timeDelimiter">:</span><input id="txtSeconds" type="text" class="timePart seconds" data-unit="seconds" autocomplete="off" /><span class="secondSymbol"></span><div class="button-time-control"><div id="btnUp" type="button" data-direction="increment" class="updownButton"><i class="fas fa-caret-up"></i></div><div id="btnDown" type="button" data-direction="decrement" class="updownButton"><i class="fas fa-caret-down"></i></div></div></div><label class="postfix-position"></label></div>'}(jQuery),define("jquery.timesetter",["jquery"],function(){}),define("timer",["jquery.timesetter"],function(){"use strict";function t(i,n){if(!(this instanceof t))throw new TypeError("Timer constructor cannot be called as a function.");var o=this;this._timersetterSeconds=0,this._timer=null,this._enabled=!0;var s=$("<div/>",{class:"widget-timer",title:"Auto-stop timer"}).appendTo(i),r=e().appendTo(s);this._dom={$checkbox:r.children("input"),$timeSetter:$("<div/>",{class:"widget-timer_timesetter"}).appendTo(s)},this._timesetter=this._dom.$timeSetter.timesetter(),n>0&&this._timesetter.setValuesByTotalSeconds(n),this._dom.$timeSetter.click(function(){o._enabled&&o._dom.$checkbox.prop("checked",!0)}),this._dom.$timeSetter.find("input[type=text]").change(function(){o._enabled&&o.ontimechange(o._timesetter.getTotalSeconds())})}function e(){var t=$("<div />",{class:"pretty p-icon p-toggle p-plain widget-timer_activator disabled"}),e=$("<div />",{class:"state p-on"}).appendTo(t),i=$("<div />",{class:"state p-off"}).appendTo(t),n=$("<i/>",{class:"fa-stack icon--disabled"}).appendTo(i);$("<i/>",{class:"fas fa-circle fa-stack-2x fa-inverse"}).appendTo(n),$("<i/>",{class:"far fa-clock fa-clock--crossout fa-stack-2x"}).appendTo(n);var o=$("<i/>",{class:"fa-stack"}).appendTo(e);return $("<i/>",{class:"fas fa-circle fa-stack-2x fa-inverse"}).appendTo(o),$("<i/>",{class:"far fa-clock  fa-stack-2x"}).appendTo(o),$("<input />",{type:"checkbox"}).prependTo(t),t}function i(){var t=this._timesetter.getTotalSeconds()-1;t>0?this._timesetter.setValuesByTotalSeconds(t):this.ontimeout()}return t.prototype={constructor:t,start:function(){this._timesetter.disable(),this._dom.$checkbox.prop("disabled",!0),this._enabled=!1,this._dom.$checkbox.is(":checked")&&(this._timersetterSeconds=this._timesetter.getTotalSeconds(),this._timer=window.setInterval(i.bind(this),1e3))},reset:function(){this._enabled||(this._timesetter.setValuesByTotalSeconds(this._timersetterSeconds),clearInterval(this._timer)),this._timesetter.enable(),this._dom.$checkbox.prop("disabled",!1),this._enabled=!0},ontimeout:function(){},ontimechange:function(t){}},t}),define("countdown",["jquery-ui"],function(){"use strict";function t(n,o){if(!(this instanceof t))throw new TypeError("Timer constructor cannot be called as a function.");var s=this;this._enabled=!0,this._spinnerInitialValue=1,this._step=100;var r=$("<div/>",{class:"widget-countdown",title:"Auto-stop counter"}).appendTo(n),a=i().appendTo(r),l={classes:{"ui-spinner":"widget-countdown__spinner"},step:this._step,min:0,spin:e.bind(this),change:e.bind(this),stop:function(t){s._enabled&&s.onvaluechange($(t.target).val())}};this._dom={$checkbox:a.children("input"),$spinner:$("<input/>").appendTo(r).spinner(l)},o>0&&(this._dom.$spinner.spinner("option","step",1),this._dom.$spinner.spinner("value",o),this._dom.$spinner.spinner("option","step",this._step)),this._dom.$spinner.parent().click(function(){s._enabled&&s._dom.$checkbox.prop("checked",!0)})}function e(t,e){(parseInt($(t.target).val())<=0||0===e.value)&&(this._dom.$spinner.spinner("option","step",1),this._dom.$spinner.spinner("value",1),this._dom.$spinner.spinner("option","step",this._step),t.preventDefault())}function i(){var t=$("<div />",{class:"pretty p-icon p-toggle p-plain widget-countdown__activator disabled"}),e=$("<div />",{class:"state p-on"}).appendTo(t),i=$("<div />",{class:"state p-off"}).appendTo(t),n=$("<span/>",{class:"fa-stack activator__icon"}).appendTo(i),o=$("<span/>",{class:"fa-stack activator__icon"}).appendTo(e);return $("<span/>",{class:"far fa-circle fa-stack-2x"}).appendTo(n),$("<span/>",{class:"icon-crosshair icon-crosshair-hLine",text:" "}).appendTo(n),$("<span/>",{class:"icon-crosshair icon-crosshair-vLine",text:" "}).appendTo(n),$("<span/>",{class:"icon-number icon-number--disabled icon-number--crossout",text:"9"}).appendTo(n),$("<span/>",{class:"far fa-circle fa-stack-2x"}).appendTo(o),$("<span/>",{class:"icon-crosshair icon-crosshair-hLine",text:" "}).appendTo(o),$("<span/>",{class:"icon-crosshair icon-crosshair-vLine",text:" "}).appendTo(o),$("<span/>",{class:"icon-number",text:"9"}).appendTo(o),$("<input />",{type:"checkbox",class:"activator__input"}).prependTo(t),t}return $.widget("ui.spinner",$.ui.spinner,{_buttonHtml:function(){return'<div type="button" class="ui-spinner-button ui-spinner-up spinner__btn-updown"><i class="spinner__btn-icon fas fa-caret-up"></i></div><div type="button" class="ui-spinner-button ui-spinner-down spinner__btn-updown"><i class="spinner__btn-icon fas fa-caret-down"></i></div>'}}),t.prototype={constructor:t,start:function(){this._dom.$spinner.spinner("disable"),this._dom.$checkbox.prop("disabled",!0),this._dom.$checkbox.is(":checked")&&(this._enabled=!1,this._dom.$spinner.spinner("option","step",1),this._spinnerInitialValue=this._dom.$spinner.spinner("value"))},decrement:function(t){if(this._enabled)return t;var e=this._dom.$spinner.spinner("value")-t;return e>0?(this._dom.$spinner.spinner("value",e),t):(window.setTimeout(this.onexpired,1),t+e)},reset:function(){this._enabled||this._dom.$spinner.spinner("value",this._spinnerInitialValue),this._dom.$spinner.spinner("enable"),this._dom.$checkbox.prop("disabled",!1),this._dom.$spinner.spinner("option","step",this._step),this._enabled=!0},onexpired:function(){},onvaluechange:function(t){}},t}),function(t){"function"==typeof define&&define.amd?define("select",["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";function o(t,e,i){var n,o,s,r=function(e,i){if(e>i){var n=i;i=e,e=n}var o=!1;return t.columns(":visible").indexes().filter(function(t){return t===e&&(o=!0),t===i?(o=!1,!0):o})},a=function(e,i){var n=t.rows({search:"applied"}).indexes();if(n.indexOf(e)>n.indexOf(i)){var o=i;i=e,e=o}var s=!1;return n.filter(function(t){return t===e&&(s=!0),t===i?(s=!1,!0):s})};t.cells({selected:!0}).any()||i?(o=r(i.column,e.column),s=a(i.row,e.row)):(o=r(0,e.column),s=a(0,e.row)),n=t.cells(s,o).flatten(),t.cells(e,{selected:!0}).any()?t.cells(n).deselect():t.cells(n).select()}function s(e){var i=e.settings()[0],n=i._select.selector;t(e.table().container()).off("mousedown.dtSelect",n).off("mouseup.dtSelect",n).off("click.dtSelect",n),t("body").off("click.dtSelect"+e.table().node().id)}function r(i){var n,o=t(i.table().container()),s=i.settings()[0],r=s._select.selector;o.on("mousedown.dtSelect",r,function(t){(t.shiftKey||t.metaKey||t.ctrlKey)&&o.css("-moz-user-select","none").one("selectstart.dtSelect",r,function(){return!1}),e.getSelection&&(n=e.getSelection())}).on("mouseup.dtSelect",r,function(){o.css("-moz-user-select","")}).on("click.dtSelect",r,function(o){var s,r=i.select.items();if(e.getSelection){
var l=e.getSelection();if((!l.anchorNode||t(l.anchorNode).closest("table")[0]===i.table().node())&&l!==n)return}var h=i.settings()[0],d=i.settings()[0].oClasses.sWrapper.replace(/ /g,".");if(t(o.target).closest("div."+d)[0]==i.table().container()){var u=i.cell(t(o.target).closest("td, th"));if(u.any()){var p=t.Event("user-select.dt");if(a(i,p,[r,u,o]),!p.isDefaultPrevented()){var f=u.index();"row"===r?(s=f.row,c(o,i,h,"row",s)):"column"===r?(s=u.index().column,c(o,i,h,"column",s)):"cell"===r&&(s=u.index(),c(o,i,h,"cell",s)),h._select_lastCell=f}}}}),t("body").on("click.dtSelect"+i.table().node().id,function(e){if(s._select.blurable){if(t(e.target).parents().filter(i.table().container()).length)return;if(0===t(e.target).parents("html").length)return;if(t(e.target).parents("div.DTE").length)return;u(s,!0)}})}function a(e,i,n,o){o&&!e.flatten().length||("string"==typeof i&&(i+=".dt"),n.unshift(e),t(e.table().node()).trigger(i,n))}function l(e){var i=e.settings()[0];if(i._select.info&&i.aanFeatures.i&&"api"!==e.select.style()){var n=e.rows({selected:!0}).flatten().length,o=e.columns({selected:!0}).flatten().length,s=e.cells({selected:!0}).flatten().length,r=function(i,n,o){i.append(t('<span class="select-item"/>').append(e.i18n("select."+n+"s",{_:"%d "+n+"s selected",0:"",1:"1 "+n+" selected"},o)))};t.each(i.aanFeatures.i,function(e,i){i=t(i);var a=t('<span class="select-info"/>');r(a,"row",n),r(a,"column",o),r(a,"cell",s);var l=i.children("span.select-info");l.length&&l.remove(),""!==a.text()&&i.append(a)})}}function h(e){var i=new g.Api(e);e.aoRowCreatedCallback.push({fn:function(i,n,o){var s,r,a=e.aoData[o];for(a._select_selected&&t(i).addClass(e._select.className),s=0,r=e.aoColumns.length;s<r;s++)(e.aoColumns[s]._select_selected||a._selected_cells&&a._selected_cells[s])&&t(a.anCells[s]).addClass(e._select.className)},sName:"select-deferRender"}),i.on("preXhr.dt.dtSelect",function(){var t=i.rows({selected:!0}).ids(!0).filter(function(t){return t!==n}),e=i.cells({selected:!0}).eq(0).map(function(t){var e=i.row(t.row).id(!0);return e?{row:e,column:t.column}:n}).filter(function(t){return t!==n});i.one("draw.dt.dtSelect",function(){i.rows(t).select(),e.any()&&e.each(function(t){i.cells(t.row,t.column).select()})})}),i.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){l(i)}),i.on("destroy.dtSelect",function(){s(i),i.off(".dtSelect")})}function d(e,i,n,o){var s=e[i+"s"]({search:"applied"}).indexes(),r=t.inArray(o,s),a=t.inArray(n,s);if(e[i+"s"]({selected:!0}).any()||-1!==r){if(r>a){var l=a;a=r,r=l}s.splice(a+1,s.length),s.splice(0,r)}else s.splice(t.inArray(n,s)+1,s.length);e[i](n,{selected:!0}).any()?(s.splice(t.inArray(n,s),1),e[i+"s"](s).deselect()):e[i+"s"](s).select()}function u(t,e){if(e||"single"===t._select.style){var i=new g.Api(t);i.rows({selected:!0}).deselect(),i.columns({selected:!0}).deselect(),i.cells({selected:!0}).deselect()}}function c(t,e,i,n,s){var r=e.select.style(),a=e[n](s,{selected:!0}).any();if("os"===r)if(t.ctrlKey||t.metaKey)e[n](s).select(!a);else if(t.shiftKey)"cell"===n?o(e,s,i._select_lastCell||null):d(e,n,s,i._select_lastCell?i._select_lastCell[n]:null);else{var l=e[n+"s"]({selected:!0});a&&1===l.flatten().length?e[n](s).deselect():(l.deselect(),e[n](s).select())}else"multi+shift"==r&&t.shiftKey?"cell"===n?o(e,s,i._select_lastCell||null):d(e,n,s,i._select_lastCell?i._select_lastCell[n]:null):e[n](s).select(!a)}function p(t,e){return function(i){return i.i18n("buttons."+t,e)}}function f(t){var e=t._eventNamespace;return"draw.dt.DT"+e+" select.dt.DT"+e+" deselect.dt.DT"+e}function m(e,i){return!(-1===t.inArray("rows",i.limitTo)||!e.rows({selected:!0}).any())||(!(-1===t.inArray("columns",i.limitTo)||!e.columns({selected:!0}).any())||!(-1===t.inArray("cells",i.limitTo)||!e.cells({selected:!0}).any()))}var g=t.fn.dataTable;g.select={},g.select.version="1.2.6",g.select.init=function(e){var i=e.settings()[0],o=i.oInit.select,s=g.defaults.select,r=o===n?s:o,a="row",l="api",h=!1,d=!0,u="td, th",c="selected",p=!1;i._select={},!0===r?(l="os",p=!0):"string"==typeof r?(l=r,p=!0):t.isPlainObject(r)&&(r.blurable!==n&&(h=r.blurable),r.info!==n&&(d=r.info),r.items!==n&&(a=r.items),r.style!==n&&(l=r.style,p=!0),r.selector!==n&&(u=r.selector),r.className!==n&&(c=r.className)),e.select.selector(u),e.select.items(a),e.select.style(l),e.select.blurable(h),e.select.info(d),i._select.className=c,t.fn.dataTable.ext.order["select-checkbox"]=function(e,i){return this.api().column(i,{order:"index"}).nodes().map(function(i){return"row"===e._select.items?t(i).parent().hasClass(e._select.className):"cell"===e._select.items&&t(i).hasClass(e._select.className)})},!p&&t(e.table().node()).hasClass("selectable")&&e.select.style("os")},t.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(t,e){g.ext.selector[e.type].push(function(t,i,n){var o,s=i.selected,r=[];if(!0!==s&&!1!==s)return n;for(var a=0,l=n.length;a<l;a++)o=t[e.prop][n[a]],(!0===s&&!0===o._select_selected||!1===s&&!o._select_selected)&&r.push(n[a]);return r})}),g.ext.selector.cell.push(function(t,e,i){var o,s=e.selected,r=[];if(s===n)return i;for(var a=0,l=i.length;a<l;a++)o=t.aoData[i[a].row],(!0===s&&o._selected_cells&&!0===o._selected_cells[i[a].column]||!1===s&&(!o._selected_cells||!o._selected_cells[i[a].column]))&&r.push(i[a]);return r});var v=g.Api.register,y=g.Api.registerPlural;v("select()",function(){return this.iterator("table",function(t){g.select.init(new g.Api(t))})}),v("select.blurable()",function(t){return t===n?this.context[0]._select.blurable:this.iterator("table",function(e){e._select.blurable=t})}),v("select.info()",function(t){return l===n?this.context[0]._select.info:this.iterator("table",function(e){e._select.info=t})}),v("select.items()",function(t){return t===n?this.context[0]._select.items:this.iterator("table",function(e){e._select.items=t,a(new g.Api(e),"selectItems",[t])})}),v("select.style()",function(t){return t===n?this.context[0]._select.style:this.iterator("table",function(e){e._select.style=t,e._select_init||h(e);var i=new g.Api(e);s(i),"api"!==t&&r(i),a(new g.Api(e),"selectStyle",[t])})}),v("select.selector()",function(t){return t===n?this.context[0]._select.selector:this.iterator("table",function(e){s(new g.Api(e)),e._select.selector=t,"api"!==e._select.style&&r(new g.Api(e))})}),y("rows().select()","row().select()",function(e){var i=this;return!1===e?this.deselect():(this.iterator("row",function(e,i){u(e),e.aoData[i]._select_selected=!0,t(e.aoData[i].nTr).addClass(e._select.className)}),this.iterator("table",function(t,e){a(i,"select",["row",i[e]],!0)}),this)}),y("columns().select()","column().select()",function(e){var i=this;return!1===e?this.deselect():(this.iterator("column",function(e,i){u(e),e.aoColumns[i]._select_selected=!0;var n=new g.Api(e).column(i);t(n.header()).addClass(e._select.className),t(n.footer()).addClass(e._select.className),n.nodes().to$().addClass(e._select.className)}),this.iterator("table",function(t,e){a(i,"select",["column",i[e]],!0)}),this)}),y("cells().select()","cell().select()",function(e){var i=this;return!1===e?this.deselect():(this.iterator("cell",function(e,i,o){u(e);var s=e.aoData[i];s._selected_cells===n&&(s._selected_cells=[]),s._selected_cells[o]=!0,s.anCells&&t(s.anCells[o]).addClass(e._select.className)}),this.iterator("table",function(t,e){a(i,"select",["cell",i[e]],!0)}),this)}),y("rows().deselect()","row().deselect()",function(){var e=this;return this.iterator("row",function(e,i){e.aoData[i]._select_selected=!1,t(e.aoData[i].nTr).removeClass(e._select.className)}),this.iterator("table",function(t,i){a(e,"deselect",["row",e[i]],!0)}),this}),y("columns().deselect()","column().deselect()",function(){var e=this;return this.iterator("column",function(e,i){e.aoColumns[i]._select_selected=!1;var n=new g.Api(e),o=n.column(i);t(o.header()).removeClass(e._select.className),t(o.footer()).removeClass(e._select.className),n.cells(null,i).indexes().each(function(i){var n=e.aoData[i.row],o=n._selected_cells;!n.anCells||o&&o[i.column]||t(n.anCells[i.column]).removeClass(e._select.className)})}),this.iterator("table",function(t,i){a(e,"deselect",["column",e[i]],!0)}),this}),y("cells().deselect()","cell().deselect()",function(){var e=this;return this.iterator("cell",function(e,i,n){var o=e.aoData[i];o._selected_cells[n]=!1,o.anCells&&!e.aoColumns[n]._select_selected&&t(o.anCells[n]).removeClass(e._select.className)}),this.iterator("table",function(t,i){a(e,"deselect",["cell",e[i]],!0)}),this});var b=0;return t.extend(g.ext.buttons,{selected:{text:p("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(t,e,i){var n=this;i._eventNamespace=".select"+b++,t.on(f(i),function(){n.enable(m(t,i))}),this.disable()},destroy:function(t,e,i){t.off(i._eventNamespace)}},selectedSingle:{text:p("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(t,e,i){var n=this;i._eventNamespace=".select"+b++,t.on(f(i),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;n.enable(1===e)}),this.disable()},destroy:function(t,e,i){t.off(i._eventNamespace)}},selectAll:{text:p("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:p("selectNone","Deselect all"),className:"buttons-select-none",action:function(){u(this.settings()[0],!0)},init:function(t,e,i){var n=this;i._eventNamespace=".select"+b++,t.on(f(i),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;n.enable(e>0)}),this.disable()},destroy:function(t,e,i){t.off(i._eventNamespace)}}}),t.each(["Row","Column","Cell"],function(t,e){var i=e.toLowerCase();g.ext.buttons["select"+e+"s"]={text:p("select"+e+"s","Select "+i+"s"),className:"buttons-select-"+i+"s",action:function(){this.select.items(i)},init:function(t){var e=this;t.on("selectItems.dt.DT",function(t,n,o){e.active(o===i)})}}}),t(i).on("preInit.dt.dtSelect",function(t,e){"dt"===t.namespace&&g.select.init(new g.Api(e))}),g.select}),function(t){"function"==typeof define&&define.amd?define("scroller",["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";var o=t.fn.dataTable,s=function(e,o){if(!(this instanceof s))return void alert("Scroller warning: Scroller must be initialised with the 'new' keyword.");o===n&&(o={});var r=t.fn.dataTable.Api(e);this.s={dt:r.settings()[0],dtApi:r,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1,forceReposition:!1},this.s=t.extend(this.s,s.oDefaults,o),this.s.heights.row=this.s.rowHeight,this.dom={force:i.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller||(this.s.dt.oScroller=this,this._fnConstruct())};t.extend(s.prototype,{fnRowToPixels:function(t,e,i){var o,s=t-this.s.baseRowTop;return i?(o=this._domain("virtualToPhysical",this.s.baseScrollTop),o+=s*this.s.heights.row):(o=this.s.baseScrollTop,o+=s*this.s.heights.row),e||e===n?parseInt(o,10):o},fnPixelsToRow:function(t,e,i){var o=t-this.s.baseScrollTop,s=i?(this._domain("physicalToVirtual",this.s.baseScrollTop)+o)/this.s.heights.row:o/this.s.heights.row+this.s.baseRowTop;return e||e===n?parseInt(s,10):s},fnScrollToRow:function(e,i){var n=this,o=!1,s=this.fnRowToPixels(e),r=(this.s.displayBuffer-1)/2*this.s.viewportRows,a=e-r;a<0&&(a=0),(s>this.s.redrawBottom||s<this.s.redrawTop)&&this.s.dt._iDisplayStart!==a&&(o=!0,s=this._domain("virtualToPhysical",e*this.s.heights.row),this.s.redrawTop<s&&s<this.s.redrawBottom&&(this.s.forceReposition=!0,i=!1)),void 0===i||i?(this.s.ani=o,t(this.dom.scroller).animate({scrollTop:s},function(){setTimeout(function(){n.s.ani=!1},25)})):t(this.dom.scroller).scrollTop(s)},fnMeasure:function(e){this.s.autoHeight&&this._fnCalcRowHeight();var o=this.s.heights;o.row&&(o.viewport=t.contains(i,this.dom.scroller)?t(this.dom.scroller).height():this._parseHeight(t(this.dom.scroller).css("height")),o.viewport||(o.viewport=this._parseHeight(t(this.dom.scroller).css("max-height"))),this.s.viewportRows=parseInt(o.viewport/o.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(e===n||e)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var t=this.s.dt,e=this.dom.scroller.scrollTop,i=t.fnRecordsDisplay(),n=Math.ceil(this.fnPixelsToRow(e+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(e,!1,this.s.ani)),end:i<n?i-1:n-1}},_fnConstruct:function(){var i=this,n=this.s.dtApi;if(!this.s.dt.oFeatures.bPaginate)return void this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller");this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=t("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=t(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",t(n.table().container()).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=t('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),t(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){i.s.dtApi.state.save()},500),t(this.dom.scroller).on("scroll.dt-scroller",function(t){i._fnScroll.call(i)}),t(this.dom.scroller).on("touchstart.dt-scroller",function(){i._fnScroll.call(i)}),t(e).on("resize.dt-scroller",function(){i.fnMeasure(!1),i._fnInfo()});var o=!0,s=n.state.loaded();n.on("stateSaveParams.scroller",function(t,e,n){n.scroller={topRow:o&&s&&s.scroller?s.scroller.topRow:i.s.topRowFloat,baseScrollTop:i.s.baseScrollTop,baseRowTop:i.s.baseRowTop},o=!1}),s&&s.scroller&&(this.s.topRowFloat=s.scroller.topRow,this.s.baseScrollTop=s.scroller.baseScrollTop,this.s.baseRowTop=s.scroller.baseRowTop),n.on("init.scroller",function(){i.fnMeasure(!1),i._fnDrawCallback(),n.on("draw.scroller",function(){i._fnDrawCallback()})}),n.on("preDraw.dt.scroller",function(){i._fnScrollForce()}),n.on("destroy.scroller",function(){t(e).off("resize.dt-scroller"),t(i.dom.scroller).off(".dt-scroller"),t(i.s.dt.nTable).off(".scroller"),t(i.s.dt.nTableWrapper).removeClass("DTS"),t("div.DTS_Loading",i.dom.scroller.parentNode).remove(),i.dom.table.style.position="",i.dom.table.style.top="",i.dom.table.style.left=""})},_fnScroll:function(){var e,i=this,n=this.s.heights,o=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll){if(this.s.dt.bFiltered||this.s.dt.bSorted)return void(this.s.lastScrollTop=0);if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){i.s.dtApi.state.save()},250),this.s.forceReposition||o<this.s.redrawTop||o>this.s.redrawBottom){var s=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);if(e=parseInt(this._domain("physicalToVirtual",o)/n.row,10)-s,this.s.topRowFloat=this._domain("physicalToVirtual",o)/n.row,this.s.forceReposition=!1,e<=0?e=0:e+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(e=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)<0&&(e=0):e%2!=0&&e++,e!=this.s.dt._iDisplayStart){this.s.tableTop=t(this.s.dt.nTable).offset().top,this.s.tableBottom=t(this.s.dt.nTable).height()+this.s.tableTop;var r=function(){null===i.s.scrollDrawReq&&(i.s.scrollDrawReq=o),i.s.dt._iDisplayStart=e,i.s.dt.oApi._fnDraw(i.s.dt)};this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(r,this.s.serverWait)):r(),this.dom.loader&&!this.s.loaderVisible&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}}else this.s.topRowFloat=this.fnPixelsToRow(o,!1,!0);this.s.lastScrollTop=o,this.s.stateSaveThrottle()}},_domain:function(t,e){var i,n=this.s.heights;if(n.virtual===n.scroll)return e;var o=(n.scroll-n.viewport)/2,s=(n.virtual-n.viewport)/2;return i=s/(o*o),"virtualToPhysical"===t?e<s?Math.pow(e/i,.5):(e=2*s-e,e<0?n.scroll:2*o-Math.pow(e/i,.5)):"physicalToVirtual"===t?e<o?e*e*i:(e=2*o-e,e<0?n.virtual:2*s-e*e*i):void 0},_parseHeight:function(i){var n,o=/^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(i);if(null===o)return 0;var s=parseFloat(o[1]),r=o[2];return"px"===r?n=s:"vh"===r?n=s/100*t(e).height():"rem"===r?n=s*parseFloat(t(":root").css("font-size")):"em"===r&&(n=s*parseFloat(t("body").css("font-size"))),n||0},_fnDrawCallback:function(){var e=this,i=this.s.heights,n=this.dom.scroller.scrollTop,o=(i.viewport,t(this.s.dt.nTable).height()),s=this.s.dt._iDisplayStart,r=this.s.dt._iDisplayLength,a=this.s.dt.fnRecordsDisplay();this.s.skip=!0,(this.s.dt.bSorted||this.s.dt.bFiltered)&&0===s&&(this.s.topRowFloat=0),n=0===s?this.s.topRowFloat*i.row:s+r>=a?i.scroll-(a-this.s.topRowFloat)*i.row:this._domain("virtualToPhysical",this.s.topRowFloat*i.row),this.dom.scroller.scrollTop=n,this.s.baseScrollTop=n,this.s.baseRowTop=this.s.topRowFloat;var l=n-(this.s.topRowFloat-s)*i.row;0===s?l=0:s+r>=a&&(l=i.scroll-o),this.dom.table.style.top=l+"px",this.s.tableTop=l,this.s.tableBottom=o+this.s.tableTop;var h=(n-this.s.tableTop)*this.s.boundaryScale;if(this.s.redrawTop=n-h,this.s.redrawBottom=n+h>i.scroll-i.viewport-i.row?i.scroll-i.viewport-i.row:n+h,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.iScroller){var d=!(!this.s.dt.sAjaxSource&&!e.s.dt.ajax||this.s.dt.oFeatures.bServerSide);(d&&2==this.s.dt.iDraw||!d&&1==this.s.dt.iDraw)&&setTimeout(function(){t(e.dom.scroller).scrollTop(e.s.dt.oLoadedState.iScroller),e.s.redrawTop=e.s.dt.oLoadedState.iScroller-i.viewport/2,setTimeout(function(){e.s.ingnoreScroll=!1},0)},0)}else e.s.ingnoreScroll=!1;this.s.dt.oFeatures.bInfo&&setTimeout(function(){e._fnInfo.call(e)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var t=this.s.heights;t.virtual=t.row*this.s.dt.fnRecordsDisplay(),t.scroll=t.virtual,t.scroll>1e6&&(t.scroll=1e6),this.dom.force.style.height=t.scroll>this.s.heights.row?t.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var e=this.s.dt,i=e.nTable,n=i.cloneNode(!1),o=t("<tbody/>").appendTo(n),s=t('<div class="'+e.oClasses.sWrapper+' DTS"><div class="'+e.oClasses.sScrollWrapper+'"><div class="'+e.oClasses.sScrollBody+'"></div></div></div>');for(t("tbody tr:lt(4)",i).clone().appendTo(o);t("tr",o).length<3;)o.append("<tr><td>&nbsp;</td></tr>");t("div."+e.oClasses.sScrollBody,s).append(n);var r=this.s.dt.nHolding||i.parentNode;t(r).is(":visible")||(r="body"),s.appendTo(r),this.s.heights.row=t("tr",o).eq(1).outerHeight(),s.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var e,i=this.s.dt,n=i.oLanguage,o=this.dom.scroller.scrollTop,s=Math.floor(this.fnPixelsToRow(o,!1,this.s.ani)+1),r=i.fnRecordsTotal(),a=i.fnRecordsDisplay(),l=Math.ceil(this.fnPixelsToRow(o+this.s.heights.viewport,!1,this.s.ani)),h=a<l?a:l,d=i.fnFormatNumber(s),u=i.fnFormatNumber(h),c=i.fnFormatNumber(r),p=i.fnFormatNumber(a);e=0===i.fnRecordsDisplay()&&i.fnRecordsDisplay()==i.fnRecordsTotal()?n.sInfoEmpty+n.sInfoPostFix:0===i.fnRecordsDisplay()?n.sInfoEmpty+" "+n.sInfoFiltered.replace("_MAX_",c)+n.sInfoPostFix:i.fnRecordsDisplay()==i.fnRecordsTotal()?n.sInfo.replace("_START_",d).replace("_END_",u).replace("_MAX_",c).replace("_TOTAL_",p)+n.sInfoPostFix:n.sInfo.replace("_START_",d).replace("_END_",u).replace("_MAX_",c).replace("_TOTAL_",p)+" "+n.sInfoFiltered.replace("_MAX_",i.fnFormatNumber(i.fnRecordsTotal()))+n.sInfoPostFix;var f=n.fnInfoCallback;f&&(e=f.call(i.oInstance,i,s,h,r,a,e));var m=i.aanFeatures.i;if(void 0!==m)for(var g=0,v=m.length;g<v;g++)t(m[g]).html(e);t(i.nTable).triggerHandler("info.dt")}}}),s.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},s.oDefaults=s.defaults,s.version="1.5.0","function"==typeof t.fn.dataTable&&"function"==typeof t.fn.dataTableExt.fnVersionCheck&&t.fn.dataTableExt.fnVersionCheck("1.10.0")?t.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInit,i=e.scroller||e.oScroller||{};new s(t,i)},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),t(i).on("preInit.dt.dtscroller",function(e,i){if("dt"===e.namespace){var n=i.oInit.scroller,r=o.defaults.scroller;if(n||r){var a=t.extend({},n,r);!1!==n&&new s(i,a)}}}),t.fn.dataTable.Scroller=s,t.fn.DataTable.Scroller=s;var r=t.fn.dataTable.Api;return r.register("scroller()",function(){return this}),r.register("scroller().rowToPixels()",function(t,e,i){var n=this.context;if(n.length&&n[0].oScroller)return n[0].oScroller.fnRowToPixels(t,e,i)}),r.register("scroller().pixelsToRow()",function(t,e,i){var n=this.context;if(n.length&&n[0].oScroller)return n[0].oScroller.fnPixelsToRow(t,e,i)}),r.register(["scroller().scrollToRow()","scroller.toPosition()"],function(t,e){return this.iterator("table",function(i){i.oScroller&&i.oScroller.fnScrollToRow(t,e)}),this}),r.register("row().scrollTo()",function(t){var e=this;return this.iterator("row",function(i,n){if(i.oScroller){var o=e.rows({order:"applied",search:"applied"}).indexes().indexOf(n);i.oScroller.fnScrollToRow(o,t)}}),this}),r.register("scroller.measure()",function(t){return this.iterator("table",function(e){e.oScroller&&e.oScroller.fnMeasure(t)}),this}),r.register("scroller.page()",function(){var t=this.context;if(t.length&&t[0].oScroller)return t[0].oScroller.fnPageInfo()}),s}),define("eventActions",["rest","clientselect","rowDetails","valuedialog","eventActionsFilter","vis","timer","countdown","datatables.net","select","scroller"],function(t,e,i,n,o,s,r,a){"use strict";function l(){gt.$wrapper=$("<div/>",{class:"eventActions-content"}),h().appendTo(gt.$wrapper);var t=$("<div/>",{class:"main-content"});t.appendTo(gt.$wrapper),p(t);var e=$("<div/>",{class:"eventActions-view-content"});return gt.$timeline=$("<div/>",{id:"timelineVis",class:"eventActions-timeline"}),gt.$timeline.appendTo(e),gt.$table=m(["","<div class='collapse-all' title='Collapse all' />","","Time","Scope","RefId","Name"]),gt.$table.appendTo(e),e.appendTo(t),gt.$wrapper}function h(){gt.$sideBar=$("<div/>",{class:"sidebar"});var t=$("<div/>",{class:"sidebar-container sidebar-header"}).appendTo(gt.$sideBar);$("<span />",{text:"Monitor client"}).appendTo(t);var e=$("<div/>",{class:"sidebar-container"}).appendTo(gt.$sideBar);$("<select/>",{id:"clientSelect",class:"clientSelect clientSelectPos"}).appendTo(e);var i=$("<div/>",{class:"sidebar-container sidebar-header"}).appendTo(gt.$sideBar);return $("<span />",{text:"Filters"}).appendTo(i),d("Event-Type",wt,bt).appendTo(gt.$sideBar),d("Action-Type",xt,_t).appendTo(gt.$sideBar),gt.$filterChecks=gt.$sideBar.find("input:checkbox"),gt.$sideBar}function d(t,e,i){var n=$("<div/>",{class:"sidebar-container"});$("<span />",{text:t}).appendTo(n);var o=$("<ul/>",{class:"filter-list"}).appendTo(n);return i.forEach(function(t){$("<li/>").append(u(t,e)).appendTo(o)}),n}function u(t,e){var i=$("<label />",{class:"filter-check_label"}).append(t),n=$("<i />",{class:"icon fas fa-check filter-check_state-icon"});$("<i />",{class:"fas "+e+" filter-check_label-icon icon-event-"+t.substr(0,t.indexOf("."))}).prependTo(i);var o=c("filter-check p-icon p-curve",i.add(n));return o.children("input").val(t),o}function c(t,e){var i=$("<div />",{class:"pretty "+t});return $("<input />",{type:"checkbox"}).appendTo(i),$("<div />",{class:"state"}).append(e).appendTo(i),i}function p(t){gt.$btnBar=$("<div/>",{class:"btn-bar"}),gt.$startStopBtn=f("startStopButton","fa-play-circle fa-stack-2x","Start monitoring",!1),gt.$startStopBtn.appendTo(gt.$btnBar);var e="eventActions.timerTotalSec";pt=new r(gt.$btnBar,sessionStorage.getItem(e)),pt.ontimechange=function(t){sessionStorage.setItem(e,t)};ft=new a(gt.$btnBar,sessionStorage.getItem("eventActions.countdownValue")),ft.onvaluechange=function(t){sessionStorage.setItem("eventActions.countdownValue",t)},gt.$rollingBtn=f("rollingModeButton","fa-step-forward fa-stack-1x icon-in-circle","Start rolling mode"),gt.$rollingBtn.addClass("action-btn--disabled").appendTo(gt.$btnBar),gt.$expandBtn=f("expandButton","fa-expand fa-stack-1x icon-in-circle","View all"),gt.$expandBtn.appendTo(gt.$btnBar),gt.$btnBar.appendTo(t)}function f(t,e,i,n){n=void 0===n||n;var o=$("<i/>",{id:t,class:"fa-stack action-btn",title:i});return $("<i/>",{class:"fas fa-circle fa-stack-2x"+(n?"":" fa-inverse")}).appendTo(o),$("<i/>",{class:"fas "+e+(n?" fa-inverse":"")}).appendTo(o),o}function m(t){var e=$("<table/>",{id:vt,class:"stripe order-column row-border nowrap"}),i=$("<thead/>").appendTo(e),n=$("<tr/>").appendTo(i);return t.forEach(function(t){$("<th/>",{html:t}).appendTo(n)}),e}function g(){st=new s.DataSet,rt=new s.DataView(st,{filter:function(t){return ht.every(function(e){return e(t)})}});var t={template:function(t){return v(t.data)+b(t.data)},start:new Date,end:new Date(Date.now()+2e4),zoomMax:mt.defaultZoomMax,showCurrentTime:!0,rollingMode:{follow:!1,offset:.8},height:"100%",maxHeight:303,format:{minorLabels:{millisecond:"SSS [ms]",second:"s [s]"}}};ot=new s.Timeline(gt.$timeline.get(0),rt,t),S().hide(),ot.on("dragStart",function(){et()&&(gt.$timeline.find("div.vis-rolling-mode-btn").hide(),gt.$rollingBtn.removeClass("action-btn--disabled"))}),ot.on("select",function(t){j(),t.items.length>0&&R(t.items[0])})}function v(t,e){e=e||"";var i,n="",o=t.type;t.hasOwnProperty("event")?n=wt:y(t.actionResult)?(n=xt,i="fa-exclamation",o+=" has error"):t.end?n=xt:(n="fa-star-half",o+=" pending...");var s='<span class="fa-stack icon-type '+e+'" title="'+o+'"><i class="fas '+n+" fa-stack-2x icon-event-"+t.type.substr(0,t.type.indexOf("."))+'"></i>';return i&&(s+='<i class="fas '+i+' fa-stack-1x fa-inverse"></i>'),s+"</span>"}function y(t){return t&&!1===t.success}function b(t){var e="vis-item-text";return y(t.actionResult)&&(e+=" text--error"),'<div class="'+e+'" style="display: inline;">'+t.name+"</div>"}function _(t){var e='<table class="info-table" />';return e+=w("type",t.type.toString()),e+=w("eventBindingId",x(t.eventBindingId)),t.action&&(e+=w("duration",t.end-t.start+" ms")),e+"</table>"}function w(t,e){return'<tr class="info-tr"><td class="info-td info-td-name">'+t+'</td><td class="info-td info-td-value">'+e+"</td></tr>"}function x(t){var e="";return t.forEach(function(t){e+='<li class="info-li">'+t+"</li>"}),'<ul class="info-ul">'+e+"</ul>"}function S(){return gt.$timeline.find("div.vis-current-time")}function C(){at=gt.$table.DataTable({autoWidth:!1,deferRender:!0,scrollY:gt.$table.parent().height()-gt.$table.prev().height()-73,scrollCollapse:!0,scroller:!0,data:[],select:"multi",info:!1,order:[],rowId:function(t){return yt+t.index},columns:[{data:null,width:"20px",render:function(t){return t.index+1}},{data:null,defaultContent:"",className:"details-control",width:"50px"},{data:null,width:"25px",render:function(t,e){return"display"!==e?t.type:v(t,"table__icon-type")}},{data:"start",width:"200px",render:function(t,e){return"display"===e||"filter"===e?s.moment(new Date(t)).format("YYYY-MM-DD HH:mm:ss.SSS"):t}},{data:null,width:"260px",render:function(t){var e=t.visuId;return t.scopeId!==e&&(e+=mt.scopeSeparator+t.scopeId),e}},{data:null,width:"308px",defaultContent:"",render:O},{data:"name",width:"243px"},{data:"index",visible:!1,defaultContent:""}],columnDefs:[{targets:[0,1],orderable:!1,searchable:!1},{targets:[2,3,4,5,6],className:"dt-left"}],headerCallback:function(t,e,i,n,o){$(t).find("th").eq(0).html("("+o.length+")")},rowCallback:function(t,e){y(e.actionResult)&&$(t).addClass("text--error")}}),at.on("order.dt search.dt",function(){window.setTimeout(F,0)}),at.on("user-select.dt",function(t,e,i,n){if(!$(n.node()).hasClass("details-control")){j();var o=n.index().row;R(n.row(o).data().index)}t.preventDefault()}),i.init({datatable:at,nameRowIndex:7,idKey:"index",render:D})}function D(t){var e=$("<table/>",{cellpadding:5,cellspacing:0,border:0,class:"clientDetails"});if($.each(t.eventArgs,function(t,i){T(t,i).appendTo(e)}),$.each(t.actionArgs,function(t,i){var n=T(t,i),o=$("<td/>");$("<i />",{class:"fas fa-sign-in-alt"}).appendTo(o),o.prependTo(n),n.prop("title","Action argument").appendTo(e)}),t.actionResult&&t.actionResult.result){var i=T("result",t.actionResult.result),n=$("<td/>");$("<i />",{class:"fas fa-sign-out-alt"}).appendTo(n),n.prependTo(i),i.prop("title","Action result").appendTo(e)}return e[0]}function T(t,e){var i=$("<tr/>");return $("<td/>",{html:t}).css("white-space","nowrap").appendTo(i),$("<td/>",{html:k(e)}).appendTo(i),i}function k(t){if(null===t||void 0===t)return"null";var e=$("<div />").text(t).html();if("object"==typeof t||"string"==typeof t&&t.length>160){var i="object"==typeof t?JSON.stringify(t):t;t.length>160&&(i=i.substr(0,160)+(i.length>163?"...":"")),e=$("<a/>",{class:"showValue",text:i}).click(function(){var e=$(this),i=e.closest("table.clientDetails").closest("tr").prev(),o=i.children("td:first").html(),s=o+": "+at.row(i).data().name;n.create(s,t).position({my:"center",at:"center",of:e,collision:"flipfit"})})}return e}function O(t){return-1!==t.type.indexOf("widgets")?t.refId.replace(t.scopeId+"_",""):t.refId}function E(){gt.$btnBar.after($("#eventActions_filter"));var t=[],e=!1,i="";ht.push(function(i){return!e||-1!==t.indexOf(i.id)}),at.on("search.dt",function(){if(at.search().length<=0&&i.length<=0)return e=!1,void(i="");e=!0,i=at.search(),t=[],at.rows({search:"applied"}).data().each(function(e){t.push(e.index)}),rt.refresh()})}function M(){I(),P(),N(),gt.$filterChecks.change(function(){var t=$(this);t.is(":checked")?o.addType(t.val()):o.removeType(t.val()),rt.refresh(),at.draw()})}function I(){gt.$filterChecks.each(function(){var t=$(this);t.prop("checked",-1!==o.getTypes().indexOf(t.val()))})}function P(){$.fn.dataTable.ext.search.push(function(t,e,i){return t.nTable.id!==vt||!o.isActive()||o.filterSingle(at.row(i).data())})}function N(){ht.push(function(t){return o.filterSingle(t.data)})}function A(){gt.$startStopBtn.click(function(){nt(),gt.$startStopBtn.children().eq(1).hasClass("fa-play-circle")?(Z(),gt.$startStopBtn.children().eq(1).toggleClass("fa-play-circle fa-stop-circle").attr("title","Stop monitoring")):(gt.$startStopBtn.children().eq(1).toggleClass("fa-stop-circle fa-play-circle").attr("title","Start monitoring"),st.length>0&&ot.focus(ut-1))}),gt.$rollingBtn.click(it),gt.$expandBtn.click(function(){tt(),ot.fit()})}function R(t){tt();var e=at.row("#"+yt+t),i=L(t),n=i.map(function(t){return"#"+yt+t});ot.focus(t),e.scrollTo(),ot.setSelection(i),at.rows(n).select(),$(e.node()).addClass("table__row--selected"),st.update({id:t,className:"vis-selected-main"})}function L(t){var e=st.get(),i=st.get(t).data.eventId,n=st.get(t).data.end,o=[t];if(st.get(t).data.hasOwnProperty("action"))for(var s=t-1;s>=0;s--)if(z(e[s].data.eventId,i)&&(o.push(e[s].id),e[s].data.event)){n=e[s].data.end;break}for(var r=t+1;r<e.length&&(z(e[r].data.eventId,i)&&o.push(e[r].id),!(void 0!==n&&e[r].data.end>n));++r);return o}function z(t,e){for(var i=0,n=t.length;i<n;++i)if(e.indexOf(t[i])>-1)return!0;return!1}function F(){var t=$(at.table().node()).parent();t.scrollTop(t.get(0).scrollHeight)}function j(){B(),ot.setSelection([]),at.rows({selected:!0}).deselect()}function B(){
var t=at.row(".table__row--selected");t.length>0&&($(t.node()).removeClass("table__row--selected"),st.update({id:t.data().index,className:""}))}function H(){if(dt.length>0){dt=o.filter(dt);var t=o.getRemovedEvents(),e=ft.decrement(dt.length);t=t.concat(W(dt)),e<dt.length&&dt.splice(e),dt.forEach(function(t){t.index=ut,ut++}),X(dt),at.rows.add(dt),Y(t),at.page("last").draw(!1),dt=[],F(),K()}}function W(t){for(var e=[],i=0;i<t.length;)t[i].end?e.push(t.splice(i,1)[0]):i++;return e}function Y(t){var e=[];t.forEach(function(t){var i=G(t);U(i.data,t),at.row(i.id).data(i.data),i.title=_(i.data),void 0!==t.action&&(i.end=t.end),e.push(i)}),st.update(e)}function G(t){var e;return e=void 0!==t.action?V(t,"actionId"):q(t),st.get(e)}function V(t,e){for(var i=st.length-1;i>=0;i--){var n=st.get(i);if(n.data[e]===t[e])return n.id}}function q(t){for(var e=st.length-1;e>=0;e--){var i=st.get(e);if(i.data.event&&z(i.data.eventId,t.eventId))return i.id}}function U(t,e){e.actionResult&&(t.actionResult=e.actionResult),e.end?t.end=e.end:(t.eventId=t.eventId.concat(e.eventId),t.eventBindingId=t.eventBindingId.concat(e.eventBindingId))}function X(t){var e=t.map(function(t){return{start:new Date(t.start),data:t,id:t.index}});st.add(e)}function K(){if(ot.getVisibleItems().length>mt.rollingMaxItems){var t=ot.getWindow().end-ot.getWindow().start;ot.setOptions({zoomMax:t-1e3})}}function Z(){J(),ct=new WebSocket(Q()),ct.onopen=function(){it(),lt=window.setInterval(H,mt.handleNewDataIntervalTime),pt.start(),pt.ontimeout=gt.$startStopBtn.click.bind(gt.$startStopBtn),ft.start(),ft.onexpired=gt.$startStopBtn.click.bind(gt.$startStopBtn)},ct.onclose=function(t){3001!==t.code&&(gt.$startStopBtn.click(),alert("Client connection expired"),e.reload())},ct.onerror=function(t){1===ct.readyState&&(gt.$startStopBtn.click(),console.log("websocket error: "+t.type))},ct.onmessage=function(t){var e=JSON.parse(t.data);e.name=e.event||e.action,e.eventBindingId=[e.eventBindingId],e.eventId=[e.eventId],dt.push(e)}}function J(){ut=0,at.clear().draw(),st.clear()}function Q(){var t="https:"===window.location.protocol?"wss://":"ws://";return t+=window.location.host+"/server/info",t+="?clientId="+e.getElement().val()}function tt(){et()&&(ot.setOptions({zoomMax:mt.defaultZoomMax}),ot.toggleRollingMode(),gt.$timeline.find("div.vis-rolling-mode-btn").hide(),gt.$rollingBtn.removeClass("action-btn--disabled")),S().hide()}function et(){return S().is(":visible")&&gt.$rollingBtn.hasClass("action-btn--disabled")}function it(){et()||(gt.$rollingBtn.addClass("action-btn--disabled"),e.disable(),S().show(),ot.toggleRollingMode())}function nt(){tt(),gt.$rollingBtn.addClass("action-btn--disabled"),e.enable(),ct&&(pt.reset(),ft.reset(),0===ct.readyState?ct.onopen=ct.close.bind(ct,3001):ct.close(3001),clearInterval(lt),H())}var ot,st,rt,at,lt,ht=[],dt=[],ut=0,ct=null,pt=null,ft=null,mt={handleNewDataIntervalTime:200,scopeSeparator:" - ",defaultZoomMax:2628e6,rollingMaxItems:150},gt={$wrapper:null,$sideBar:null,$filterChecks:null,$btnBar:null,$startStopBtn:null,$rollingBtn:null,$expandBtn:null,$timeline:null,$table:null},vt="eventActions",yt="dt_rowId_",bt=["opcUa.Event","opcUaSystem.Event","session.Event","widgets.Event","clientSystem.Event"],_t=["opcUa.NodeAction","opcUa.SystemAction","session.VariableAction","session.TimerAction","widgets.Action","clientSystem.Action"],wt="fa-bolt",xt="fa-star";return{id:vt,pageName:"Events &amp;<br>Actions",data:l(),load:function(){o.init(),$.fn.dataTable.isDataTable("#"+vt)?e.reload():(e.init("clientSelect"),g(),C(),E(),A(),M())},unload:function(){nt(),n.closeAll()},destroy:function(){ht=[],ot.destroy(),at.destroy(),gt.$wrapper.remove()},reinit:function(){this.data=l()}}}),define("landingPage",["contentloader","clientsInfo","activebindings","sessionvars","expressions","eventActions"],function(t){"use strict";function e(e,i){var n=$("<button></button>").addClass("appbutton").data("content",e);return n.append($("<img></img>").attr("src","resources/images/contentNav/"+e+".svg")),n.append("<div>"+i+"</div>"),n.click(function(){var e=$(this).data("content");t.loadContent(e)}),n}var i=Array.prototype.slice.call(arguments,1),n={id:"landingPage",pageName:"Main",data:function(){var t=$();return i.forEach(function(i){t=t.add(e(i.id,i.pageName))}),t}(),load:function(){}};return i.forEach(function(e){t.addContent(e)}),t.addContent(n),n}),require.config({paths:{jquery:"../../vendors/jquery/js/jquery","jquery-ui":"../../vendors/jquery/js/jquery-ui","jquery.timesetter":"../../vendors/jquery/js/jquery.timesetter","datatables.net":"../../vendors/jquery/js/jquery.dataTables",rowGroup:"../../vendors/jquery/js/dataTables.rowGroup",select:"../../vendors/jquery/js/dataTables.select",scroller:"../../vendors/jquery/js/dataTables.scroller",selectize:"../../vendors/jquery/js/selectize",vis:"../../vendors/vis/vis"},shim:{jquery:{exports:"$"},"jquery-ui":{deps:["jquery"]},"jquery.timesetter":{deps:["jquery"]},"datatables.net":{deps:["jquery"]},rowGroup:{deps:["datatables.net"]},select:{deps:["datatables.net"]},scroller:{deps:["datatables.net"]},selectize:{deps:["jquery"]}}}),require(["contentloader","landingPage","rest"],function(t,e,i){"use strict";!function(){$.when(i.getServerInfo("getversion")).then(function(t){var e=JSON.parse(t).version;$("#versionNumber").text(e)})}(),function(){var i=t.getContentId();t.loadContent(e.id),i&&t.loadContent(i)}()}),define("main",function(){});